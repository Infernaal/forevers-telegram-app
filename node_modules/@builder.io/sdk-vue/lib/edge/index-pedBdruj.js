import { defineComponent as B, openBlock as v, createElementBlock as w, Fragment as z, createBlock as U, resolveDynamicComponent as dt, mergeProps as q, toHandlers as ye, withCtx as me, renderSlot as pe, resolveComponent as W, createTextVNode as Xo, toDisplayString as Ut, defineAsyncComponent as st, createVNode as ee, renderList as ve, createCommentVNode as F, h as Mr, createElementVNode as Ge, normalizeStyle as Pe, normalizeClass as gt, markRaw as Yo } from "vue";
const Qo = /* @__PURE__ */ new Set(["area", "base", "br", "col", "embed", "hr", "img", "input", "keygen", "link", "meta", "param", "source", "track", "wbr"]), Zo = (e) => typeof e == "string" && Qo.has(e.toLowerCase());
function de(e = {}, t, n) {
  const r = {};
  for (const o in e) {
    if (!e[o] || n && !o.startsWith(t))
      continue;
    const i = n ? o.replace(t, "") : o;
    r[i] = e[o];
  }
  return r;
}
const ei = B({
  name: "dynamic-renderer",
  props: ["TagName", "attributes", "actionAttributes"],
  data() {
    return { isEmptyElement: Zo };
  }
}), j = (e, t) => {
  const n = e.__vccOpts || e;
  for (const [r, o] of t)
    n[r] = o;
  return n;
};
function ti(e, t, n, r, o, i) {
  return e.isEmptyElement(e.TagName) ? (v(), U(dt(e.TagName), q({ key: 1 }, e.attributes, ye(e.actionAttributes)), null, 16)) : (v(), w(z, { key: 0 }, [
    typeof e.TagName == "string" ? (v(), U(dt(e.TagName), q({ key: 0 }, e.attributes, ye(e.actionAttributes)), {
      default: me(() => [
        pe(e.$slots, "default")
      ]),
      _: 3
    }, 16)) : (v(), U(dt(e.TagName), q({ key: 1 }, e.attributes, ye(e.actionAttributes)), {
      default: me(() => [
        pe(e.$slots, "default")
      ]),
      _: 3
    }, 16))
  ], 64));
}
const En = /* @__PURE__ */ j(ei, [["render", ti]]), Zu = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: En
}, Symbol.toStringTag, { value: "Module" })), G = "vue", Oe = () => {
  switch (G) {
    case "react":
    case "reactNative":
    case "rsc":
      return "className";
    case "svelte":
    case "vue":
    case "solid":
    case "qwik":
    case "angular":
      return "class";
  }
}, ni = B({
  name: "builder-button",
  components: { DynamicRenderer: En },
  props: [
    "attributes",
    "link",
    "openLinkInNewTab",
    "builderLinkComponent",
    "text"
  ],
  data() {
    return { filterAttrs: de };
  },
  methods: {
    attrs() {
      return {
        ...de(this.attributes, "v-on:", !1),
        [Oe()]: `${this.link ? "" : "builder-button"} ${this.attributes[Oe()] || ""}`,
        ...this.link ? {
          href: this.link,
          target: this.openLinkInNewTab ? "_blank" : void 0,
          role: "link"
        } : {
          role: "button"
        }
      };
    }
  }
});
function ri(e, t, n, r, o, i) {
  const s = W("DynamicRenderer");
  return v(), U(s, {
    attributes: e.attrs(),
    TagName: e.link ? e.builderLinkComponent || "a" : "button",
    actionAttributes: e.filterAttrs(e.attributes, "v-on:", !0)
  }, {
    default: me(() => [
      Xo(Ut(e.text), 1)
    ]),
    _: 1
  }, 8, ["attributes", "TagName", "actionAttributes"]);
}
const oi = /* @__PURE__ */ j(ni, [["render", ri]]), ii = Symbol(), yn = {
  Builder: {
    content: null,
    context: {},
    localState: void 0,
    rootSetState() {
    },
    rootState: {},
    apiKey: null,
    apiVersion: void 0,
    componentInfos: {},
    inheritedStyles: {},
    BlocksWrapper: "div",
    BlocksWrapperProps: {},
    nonce: "",
    model: ""
  },
  key: ii
}, si = Symbol(), Hr = {
  Components: { registeredComponents: {} },
  key: si
}, Pt = "[Builder.io]: ", ue = {
  log: (...e) => console.log(Pt, ...e),
  error: (...e) => console.error(Pt, ...e),
  warn: (...e) => console.warn(Pt, ...e),
  debug: (...e) => console.debug(Pt, ...e)
}, Kr = (e, t, n) => {
  const r = String.prototype.split.call(t, /[,[\].]+?/).filter(Boolean).reduce((o, i) => o != null ? o[i] : o, e);
  return r === void 0 || r === e ? n : r;
};
function M() {
  return typeof window < "u" && typeof document < "u";
}
const ai = (e) => {
  const t = {};
  return e.forEach((n, r) => {
    t[r] = n;
  }), t;
}, zr = (e) => e instanceof URLSearchParams ? ai(e) : e, qr = (e) => typeof e == "string" ? e : e instanceof URLSearchParams ? e.toString() : new URLSearchParams(e).toString();
function li() {
  return M() && window.self !== window.top;
}
function oe(e) {
  return li() && // accessing window.location.search is safe here because `isIframe()` is only `true` if we're in a browser.
  qr(e || window.location.search).indexOf("builder.frameEditing=") !== -1;
}
const ui = () => {
  if (M()) {
    const e = new URL(location.href);
    return e.pathname === "" && (e.pathname = "/"), e;
  } else
    return console.warn("Cannot get location for tracking in non-browser environment"), null;
}, ci = () => typeof navigator == "object" && navigator.userAgent || "", Gr = () => {
  const e = ci(), t = {
    Android() {
      return e.match(/Android/i);
    },
    BlackBerry() {
      return e.match(/BlackBerry/i);
    },
    iOS() {
      return e.match(/iPhone|iPod/i);
    },
    Opera() {
      return e.match(/Opera Mini/i);
    },
    Windows() {
      return e.match(/IEMobile/i) || e.match(/WPDesktop/i);
    },
    any() {
      return t.Android() || t.BlackBerry() || t.iOS() || t.Opera() || t.Windows() || G === "reactNative";
    }
  }, n = e.match(/Tablet|iPad/i), r = ui();
  return {
    urlPath: r == null ? void 0 : r.pathname,
    host: (r == null ? void 0 : r.host) || (r == null ? void 0 : r.hostname),
    device: n ? "tablet" : t.any() ? "mobile" : "desktop"
  };
}, _r = ({
  builder: e,
  context: t,
  event: n,
  state: r
}) => Object.entries({
  state: r,
  Builder: e,
  // legacy
  builder: e,
  context: t,
  event: n
}), pi = () => ({
  isEditing: oe(),
  isBrowser: M(),
  isServer: !M(),
  getUserAttributes: () => Gr()
}), di = (e, {
  isExpression: t = !0
}) => /* we disable this for cases where we definitely don't want a return */ t && !(e.includes(";") || e.includes(" return ") || e.trim().startsWith("return ")) ? `return (${e});` : e;
function In({
  rootState: e,
  localState: t,
  rootSetState: n
}) {
  return new Proxy(e, {
    get: (r, o) => {
      if (t && o in t)
        return t[o];
      const i = r[o];
      return typeof i == "object" && i !== null ? In({
        rootState: i,
        localState: void 0,
        rootSetState: n ? (s) => {
          r[o] = s, n(r);
        } : void 0
      }) : i;
    },
    set: (r, o, i) => {
      if (t && o in t)
        throw new Error("Writing to local state is not allowed as it is read-only.");
      return r[o] = i, n == null || n(r), !0;
    }
  });
}
const fi = ({
  code: e,
  builder: t,
  context: n,
  event: r,
  localState: o,
  rootSetState: i,
  rootState: s
}) => {
  const u = _r({
    builder: t,
    context: n,
    event: r,
    state: In({
      rootState: s,
      localState: o,
      rootSetState: i
    })
  });
  return new Function(...u.map(([c]) => c), e)(...u.map(([, c]) => c));
};
var V, hi = function(e) {
  function t(a) {
    return 48 > a ? a === 36 : 58 > a ? !0 : 65 > a ? !1 : 91 > a ? !0 : 97 > a ? a === 95 : 123 > a ? !0 : 170 <= a && _o.test(String.fromCharCode(a));
  }
  function n(a) {
    return 65 > a ? a === 36 : 91 > a ? !0 : 97 > a ? a === 95 : 123 > a ? !0 : 170 <= a && Tr.test(String.fromCharCode(a));
  }
  function r(a, l) {
    for (var p = k, f = 1, P = 0; ; ) {
      $t.lastIndex = P;
      var Q = $t.exec(p);
      if (Q && Q.index < a)
        ++f, P = Q.index + Q[0].length;
      else
        break;
    }
    throw p = {
      line: f,
      ab: a - P
    }, l += " (" + p.line + ":" + p.ab + ")", l = new SyntaxError(l), l.j = a, l.X = p, l.o = d, l;
  }
  function o(a) {
    a = a.split(" ");
    for (var l = /* @__PURE__ */ Object.create(null), p = 0; p < a.length; p++)
      l[a[p]] = !0;
    return function(f) {
      return l[f] || !1;
    };
  }
  function i() {
    this.line = Ve, this.ab = d - ke;
  }
  function s(a, l) {
    Fe = d, O.C && (Yt = new i()), $ = a, c(), fe = l, tt = a.m;
  }
  function u() {
    for (var a = d, l = O.va && O.C && new i(), p = k.charCodeAt(d += 2); d < Le && p !== 10 && p !== 13 && p !== 8232 && p !== 8233; )
      ++d, p = k.charCodeAt(d);
    O.va && O.va(!1, k.slice(a + 2, d), a, d, l, O.C && new i());
  }
  function c() {
    for (; d < Le; ) {
      var a = k.charCodeAt(d);
      if (a === 32)
        ++d;
      else if (a === 13)
        ++d, a = k.charCodeAt(d), a === 10 && ++d, O.C && (++Ve, ke = d);
      else if (a === 10 || a === 8232 || a === 8233)
        ++d, O.C && (++Ve, ke = d);
      else if (8 < a && 14 > a)
        ++d;
      else if (a === 47)
        if (a = k.charCodeAt(d + 1), a === 42) {
          a = void 0;
          var l = O.va && O.C && new i(), p = d, f = k.indexOf("*/", d += 2);
          if (f === -1 && r(d - 2, "Unterminated comment"), d = f + 2, O.C)
            for ($t.lastIndex = p; (a = $t.exec(k)) && a.index < d; )
              ++Ve, ke = a.index + a[0].length;
          O.va && O.va(!0, k.slice(p + 2, f), p, d, l, O.C && new i());
        } else if (a === 47)
          u();
        else
          break;
      else if (a === 160)
        ++d;
      else if (5760 <= a && Go.test(String.fromCharCode(a)))
        ++d;
      else
        break;
    }
  }
  function h(a) {
    switch (a) {
      case 46:
        a = k.charCodeAt(d + 1), 48 <= a && 57 >= a ? A(!0) : (++d, s(gr));
        return;
      case 40:
        return ++d, s(Ce);
      case 41:
        return ++d, s(ge);
      case 59:
        return ++d, s(we);
      case 44:
        return ++d, s($e);
      case 91:
        return ++d, s(ln);
      case 93:
        return ++d, s(un);
      case 123:
        return ++d, s(ot);
      case 125:
        return ++d, s(He);
      case 58:
        return ++d, s(it);
      case 63:
        return ++d, s(yr);
      case 48:
        if (a = k.charCodeAt(d + 1), a === 120 || a === 88) {
          d += 2, a = S(16), a === null && r(Y + 2, "Expected hexadecimal number"), n(k.charCodeAt(d)) && r(d, "Identifier directly after number"), s(rt, a);
          return;
        }
      case 49:
      case 50:
      case 51:
      case 52:
      case 53:
      case 54:
      case 55:
      case 56:
      case 57:
        return A(!1);
      case 34:
      case 39:
        d++;
        for (var l = ""; ; ) {
          d >= Le && r(Y, "Unterminated string constant");
          var p = k.charCodeAt(d);
          if (p === a) {
            ++d, s(It, l);
            break;
          }
          if (p === 92) {
            p = k.charCodeAt(++d);
            var f = /^[0-7]+/.exec(k.slice(d, d + 3));
            for (f && (f = f[0]); f && 255 < parseInt(f, 8); )
              f = f.slice(0, -1);
            if (f === "0" && (f = null), ++d, f)
              ce && r(d - 2, "Octal literal in strict mode"), l += String.fromCharCode(parseInt(f, 8)), d += f.length - 1;
            else
              switch (p) {
                case 110:
                  l += `
`;
                  break;
                case 114:
                  l += "\r";
                  break;
                case 120:
                  l += String.fromCharCode(x(2));
                  break;
                case 117:
                  l += String.fromCharCode(x(4));
                  break;
                case 85:
                  l += String.fromCharCode(x(8));
                  break;
                case 116:
                  l += "	";
                  break;
                case 98:
                  l += "\b";
                  break;
                case 118:
                  l += "\v";
                  break;
                case 102:
                  l += "\f";
                  break;
                case 48:
                  l += "\0";
                  break;
                case 13:
                  k.charCodeAt(d) === 10 && ++d;
                case 10:
                  O.C && (ke = d, ++Ve);
                  break;
                default:
                  l += String.fromCharCode(p);
              }
          } else
            p !== 13 && p !== 10 && p !== 8232 && p !== 8233 || r(Y, "Unterminated string constant"), l += String.fromCharCode(p), ++d;
        }
        return;
      case 47:
        a = k.charCodeAt(d + 1), tt ? (++d, m()) : a === 61 ? b(De, 2) : b(vr, 1);
        return;
      case 37:
      case 42:
        k.charCodeAt(d + 1) === 61 ? b(De, 2) : b(Ko, 1);
        return;
      case 124:
      case 38:
        l = k.charCodeAt(d + 1), l === a ? b(a === 124 ? kr : Cr, 2) : l === 61 ? b(De, 2) : b(a === 124 ? Do : Wo, 1);
        return;
      case 94:
        k.charCodeAt(d + 1) === 61 ? b(De, 2) : b(Uo, 1);
        return;
      case 43:
      case 45:
        l = k.charCodeAt(d + 1), l === a ? l === 45 && k.charCodeAt(d + 2) === 62 && xt.test(k.slice(xe, d)) ? (d += 3, u(), c(), y()) : b(Vo, 2) : l === 61 ? b(De, 2) : b(Ho, 1);
        return;
      case 60:
      case 62:
        l = k.charCodeAt(d + 1), p = 1, l === a ? (p = a === 62 && k.charCodeAt(d + 2) === 62 ? 3 : 2, k.charCodeAt(d + p) === 61 ? b(De, p + 1) : b(Mo, p)) : l === 33 && a === 60 && k.charCodeAt(d + 2) === 45 && k.charCodeAt(d + 3) === 45 ? (d += 4, u(), c(), y()) : (l === 61 && (p = k.charCodeAt(d + 2) === 61 ? 3 : 2), b(Fo, p));
        return;
      case 61:
      case 33:
        k.charCodeAt(d + 1) === 61 ? b(Lo, k.charCodeAt(d + 2) === 61 ? 3 : 2) : b(a === 61 ? br : Sr, 1);
        return;
      case 126:
        return b(Sr, 1);
    }
    return !1;
  }
  function y(a) {
    if (a ? d = Y + 1 : Y = d, O.C && (Xt = new i()), a)
      return m();
    if (d >= Le)
      return s(en);
    if (a = k.charCodeAt(d), n(a) || a === 92)
      return te();
    if (h(a) === !1) {
      if (a = String.fromCharCode(a), a === "\\" || Tr.test(a))
        return te();
      r(d, "Unexpected character '" + a + "'");
    }
  }
  function b(a, l) {
    var p = k.slice(d, d + l);
    d += l, s(a, p);
  }
  function m() {
    for (var a, l, p = d; ; ) {
      d >= Le && r(p, "Unterminated regexp");
      var f = k.charAt(d);
      if (xt.test(f) && r(p, "Unterminated regexp"), a)
        a = !1;
      else {
        if (f === "[")
          l = !0;
        else if (f === "]" && l)
          l = !1;
        else if (f === "/" && !l)
          break;
        a = f === "\\";
      }
      ++d;
    }
    a = k.slice(p, d), ++d, (l = H()) && !/^[gmi]*$/.test(l) && r(p, "Invalid regexp flag");
    try {
      var P = new RegExp(a, l);
    } catch (Q) {
      throw Q instanceof SyntaxError && r(p, Q.message), Q;
    }
    s(Yn, P);
  }
  function S(a, l) {
    for (var p = d, f = 0, P = l === void 0 ? 1 / 0 : l, Q = 0; Q < P; ++Q) {
      var se = k.charCodeAt(d);
      if (se = 97 <= se ? se - 97 + 10 : 65 <= se ? se - 65 + 10 : 48 <= se && 57 >= se ? se - 48 : 1 / 0, se >= a)
        break;
      ++d, f = f * a + se;
    }
    return d === p || l !== void 0 && d - p !== l ? null : f;
  }
  function A(a) {
    var l = d, p = !1, f = k.charCodeAt(d) === 48;
    a || S(10) !== null || r(l, "Invalid number"), k.charCodeAt(d) === 46 && (++d, S(10), p = !0), a = k.charCodeAt(d), (a === 69 || a === 101) && (a = k.charCodeAt(++d), a !== 43 && a !== 45 || ++d, S(10) === null && r(l, "Invalid number"), p = !0), n(k.charCodeAt(d)) && r(d, "Identifier directly after number"), a = k.slice(l, d);
    var P;
    p ? P = parseFloat(a) : f && a.length !== 1 ? /[89]/.test(a) || ce ? r(l, "Invalid number") : P = parseInt(a, 8) : P = parseInt(a, 10), s(rt, P);
  }
  function x(a) {
    return a = S(16, a), a === null && r(Y, "Bad character escape sequence"), a;
  }
  function H() {
    Ke = !1;
    for (var a, l = !0, p = d; ; ) {
      var f = k.charCodeAt(d);
      if (t(f))
        Ke && (a += k.charAt(d)), ++d;
      else if (f === 92) {
        Ke || (a = k.slice(p, d)), Ke = !0, k.charCodeAt(++d) !== 117 && r(d, "Expecting Unicode escape sequence \\uXXXX"), ++d, f = x(4);
        var P = String.fromCharCode(f);
        P || r(d - 1, "Invalid Unicode escape"), (l ? n(f) : t(f)) || r(d - 4, "Invalid Unicode escape"), a += P;
      } else
        break;
      l = !1;
    }
    return Ke ? a : k.slice(p, d);
  }
  function te() {
    var a = H(), l = Me;
    !Ke && qo(a) && (l = jo[a]), s(l, a);
  }
  function E() {
    Qt = Y, xe = Fe, Zt = Yt, y();
  }
  function D(a) {
    if (ce = a, d = Y, O.C)
      for (; d < ke; )
        ke = k.lastIndexOf(`
`, ke - 2) + 1, --Ve;
    c(), y();
  }
  function ie() {
    this.type = null, this.start = Y, this.end = null;
  }
  function Ae() {
    this.start = Xt, this.end = null, Jt && (this.source = Jt);
  }
  function K() {
    var a = new ie();
    return O.C && (a.X = new Ae()), O.vb && (a.sourceFile = O.vb), O.Xa && (a.j = [Y, 0]), a;
  }
  function _(a) {
    var l = new ie();
    return l.start = a.start, O.C && (l.X = new Ae(), l.X.start = a.X.start), O.Xa && (l.j = [a.j[0], 0]), l;
  }
  function R(a, l) {
    return a.type = l, a.end = xe, O.C && (a.X.end = Zt), O.Xa && (a.j[1] = xe), a;
  }
  function We(a) {
    return a.type === "ExpressionStatement" && a.la.type === "Literal" && a.la.value === "use strict";
  }
  function L(a) {
    return $ === a ? (E(), !0) : !1;
  }
  function wt() {
    return !O.fc && ($ === en || $ === He || xt.test(k.slice(xe, Y)));
  }
  function je() {
    L(we) || wt() || be();
  }
  function J(a) {
    $ === a ? E() : be();
  }
  function be() {
    r(Y, "Unexpected token");
  }
  function Tt(a) {
    a.type !== "Identifier" && a.type !== "MemberExpression" && r(a.start, "Assigning to rvalue"), ce && a.type === "Identifier" && At(a.name) && r(a.start, "Assigning to " + a.name + " in strict mode");
  }
  function he() {
    ($ === vr || $ === De && fe === "/=") && y(!0);
    var a = $, l = K();
    switch (a) {
      case tn:
      case Zn:
        E();
        var p = a === tn;
        L(we) || wt() ? l.label = null : $ !== Me ? be() : (l.label = Se(), je());
        for (var f = 0; f < X.length; ++f) {
          var P = X[f];
          if ((l.label === null || P.name === l.label.name) && (P.kind !== null && (p || P.kind === "loop") || l.label && p))
            break;
        }
        return f === X.length && r(l.start, "Unsyntactic " + a.l), R(l, p ? "BreakStatement" : "ContinueStatement");
      case er:
        return E(), je(), R(l, "DebuggerStatement");
      case nr:
        return E(), X.push(cn), l.body = he(), X.pop(), J(an), l.test = Qe(), je(), R(l, "DoWhileStatement");
      case ir:
        return E(), X.push(cn), J(Ce), $ === we ? Ht(l, null) : $ === sn ? (a = K(), E(), Jn(a, !0), R(a, "VariableDeclaration"), a.fa.length === 1 && L(Rt) ? _n(l, a) : Ht(l, a)) : (a = re(!1, !0), L(Rt) ? (Tt(a), _n(l, a)) : Ht(l, a));
      case rn:
        return E(), Gt(l, !0);
      case sr:
        return E(), l.test = Qe(), l.da = he(), l.alternate = L(rr) ? he() : null, R(l, "IfStatement");
      case ar:
        return nt || O.Ib || r(Y, "'return' outside of function"), E(), L(we) || wt() ? l.K = null : (l.K = re(), je()), R(l, "ReturnStatement");
      case on:
        for (E(), l.Qb = Qe(), l.tb = [], J(ot), X.push(Jo); $ !== He; )
          $ === nn || $ === tr ? (a = $ === nn, f && R(f, "SwitchCase"), l.tb.push(f = K()), f.da = [], E(), a ? f.test = re() : (p && r(Qt, "Multiple default clauses"), p = !0, f.test = null), J(it)) : (f || be(), f.da.push(he()));
        return f && R(f, "SwitchCase"), E(), X.pop(), R(l, "SwitchStatement");
      case lr:
        return E(), xt.test(k.slice(xe, Y)) && r(xe, "Illegal newline after throw"), l.K = re(), je(), R(l, "ThrowStatement");
      case ur:
        return E(), l.block = Ze(), l.Ea = null, $ === Qn && (a = K(), E(), J(Ce), a.Ua = Se(), ce && At(a.Ua.name) && r(a.Ua.start, "Binding " + a.Ua.name + " in strict mode"), J(ge), a.body = Ze(), l.Ea = R(a, "CatchClause")), l.fb = L(or) ? Ze() : null, l.Ea || l.fb || r(l.start, "Missing catch or finally clause"), R(l, "TryStatement");
      case sn:
        return E(), Jn(l), je(), R(l, "VariableDeclaration");
      case an:
        return E(), l.test = Qe(), X.push(cn), l.body = he(), X.pop(), R(l, "WhileStatement");
      case cr:
        return ce && r(Y, "'with' in strict mode"), E(), l.object = Qe(), l.body = he(), R(l, "WithStatement");
      case ot:
        return Ze();
      case we:
        return E(), R(l, "EmptyStatement");
      default:
        if (p = fe, P = re(), a === Me && P.type === "Identifier" && L(it)) {
          for (f = 0; f < X.length; ++f)
            X[f].name === p && r(P.start, "Label '" + p + "' is already declared");
          return X.push({
            name: p,
            kind: $.W ? "loop" : $ === on ? "switch" : null
          }), l.body = he(), X.pop(), l.label = P, R(l, "LabeledStatement");
        }
        return l.la = P, je(), R(l, "ExpressionStatement");
    }
  }
  function Qe() {
    J(Ce);
    var a = re();
    return J(ge), a;
  }
  function Ze(a) {
    var l = K(), p = !0, f = !1;
    for (l.body = [], J(ot); !L(He); ) {
      var P = he();
      if (l.body.push(P), p && a && We(P)) {
        var Q = f;
        D(f = !0);
      }
      p = !1;
    }
    return f && !Q && D(!1), R(l, "BlockStatement");
  }
  function Ht(a, l) {
    return a.ua = l, J(we), a.test = $ === we ? null : re(), J(we), a.update = $ === ge ? null : re(), J(ge), a.body = he(), X.pop(), R(a, "ForStatement");
  }
  function _n(a, l) {
    return a.left = l, a.right = re(), J(ge), a.body = he(), X.pop(), R(a, "ForInStatement");
  }
  function Jn(a, l) {
    for (a.fa = [], a.kind = "var"; ; ) {
      var p = K();
      if (p.id = Se(), ce && At(p.id.name) && r(p.id.start, "Binding " + p.id.name + " in strict mode"), p.ua = L(br) ? re(!0, l) : null, a.fa.push(R(p, "VariableDeclarator")), !L($e))
        break;
    }
  }
  function re(a, l) {
    var p = Kt(l);
    if (!a && $ === $e) {
      for (a = _(p), a.xb = [p]; L($e); )
        a.xb.push(Kt(l));
      return R(a, "SequenceExpression");
    }
    return p;
  }
  function Kt(a) {
    var l = zt(qt(), -1, a);
    if (L(yr)) {
      var p = _(l);
      p.test = l, p.da = re(!0), J(it), p.alternate = re(!0, a), l = R(p, "ConditionalExpression");
    }
    return $.Cb ? (p = _(l), p.operator = fe, p.left = l, E(), p.right = Kt(a), Tt(l), R(p, "AssignmentExpression")) : l;
  }
  function zt(a, l, p) {
    var f = $.L;
    if (f !== null && (!p || $ !== Rt) && f > l) {
      var P = _(a);
      return P.left = a, P.operator = fe, a = $, E(), P.right = zt(qt(), f, p), f = R(P, a === kr || a === Cr ? "LogicalExpression" : "BinaryExpression"), zt(f, l, p);
    }
    return a;
  }
  function qt() {
    if ($.prefix) {
      var a = K(), l = $.$b;
      return a.operator = fe, tt = a.prefix = !0, E(), a.K = qt(), l ? Tt(a.K) : ce && a.operator === "delete" && a.K.type === "Identifier" && r(a.start, "Deleting local variable in strict mode"), R(a, l ? "UpdateExpression" : "UnaryExpression");
    }
    for (l = et(Et()); $.cc && !wt(); )
      a = _(l), a.operator = fe, a.prefix = !1, a.K = l, Tt(l), E(), l = R(a, "UpdateExpression");
    return l;
  }
  function et(a, l) {
    if (L(gr)) {
      var p = _(a);
      return p.object = a, p.Wa = Se(!0), p.bb = !1, et(R(p, "MemberExpression"), l);
    }
    return L(ln) ? (p = _(a), p.object = a, p.Wa = re(), p.bb = !0, J(un), et(R(p, "MemberExpression"), l)) : !l && L(Ce) ? (p = _(a), p.callee = a, p.arguments = _t(ge, !1), et(R(p, "CallExpression"), l)) : a;
  }
  function Et() {
    switch ($) {
      case dr:
        var a = K();
        return E(), R(a, "ThisExpression");
      case Me:
        return Se();
      case rt:
      case It:
      case Yn:
        return a = K(), a.value = fe, a.raw = k.slice(Y, Fe), E(), R(a, "Literal");
      case fr:
      case hr:
      case mr:
        return a = K(), a.value = $.$a, a.raw = $.l, E(), R(a, "Literal");
      case Ce:
        a = Xt;
        var l = Y;
        E();
        var p = re();
        return p.start = l, p.end = Fe, O.C && (p.X.start = a, p.X.end = Yt), O.Xa && (p.j = [l, Fe]), J(ge), p;
      case ln:
        return a = K(), E(), a.elements = _t(un, !0, !0), R(a, "ArrayExpression");
      case ot:
        for (a = K(), l = !0, p = !1, a.h = [], E(); !L(He); ) {
          if (l)
            l = !1;
          else if (J($e), O.sb && L(He))
            break;
          var f = {
            key: $ === rt || $ === It ? Et() : Se(!0)
          }, P = !1;
          if (L(it)) {
            f.value = re(!0);
            var Q = f.kind = "init";
          } else
            f.key.type !== "Identifier" || f.key.name !== "get" && f.key.name !== "set" ? be() : (P = p = !0, Q = f.kind = f.key.name, f.key = $ === rt || $ === It ? Et() : Se(!0), $ !== Ce && be(), f.value = Gt(K(), !1));
          if (f.key.type === "Identifier" && (ce || p))
            for (var se = 0; se < a.h.length; ++se) {
              var ze = a.h[se];
              if (ze.key.name === f.key.name) {
                var pn = Q === ze.kind || P && ze.kind === "init" || Q === "init" && (ze.kind === "get" || ze.kind === "set");
                pn && !ce && Q === "init" && ze.kind === "init" && (pn = !1), pn && r(f.key.start, "Redefinition of property");
              }
            }
          a.h.push(f);
        }
        return R(a, "ObjectExpression");
      case rn:
        return a = K(), E(), Gt(a, !1);
      case pr:
        return a = K(), E(), a.callee = et(Et(), !0), a.arguments = L(Ce) ? _t(ge, !1) : Bo, R(a, "NewExpression");
    }
    be();
  }
  function Gt(a, l) {
    $ === Me ? a.id = Se() : l ? be() : a.id = null, a.oa = [];
    var p = !0;
    for (J(Ce); !L(ge); )
      p ? p = !1 : J($e), a.oa.push(Se());
    p = nt;
    var f = X;
    if (nt = !0, X = [], a.body = Ze(!0), nt = p, X = f, ce || a.body.body.length && We(a.body.body[0])) {
      for (p = a.id ? -1 : 0; p < a.oa.length; ++p)
        if (f = 0 > p ? a.id : a.oa[p], (wr(f.name) || At(f.name)) && r(f.start, "Defining '" + f.name + "' in strict mode"), 0 <= p)
          for (var P = 0; P < p; ++P)
            f.name === a.oa[P].name && r(f.start, "Argument name clash in strict mode");
    }
    return R(a, l ? "FunctionDeclaration" : "FunctionExpression");
  }
  function _t(a, l, p) {
    for (var f = [], P = !0; !L(a); ) {
      if (P)
        P = !1;
      else if (J($e), l && O.sb && L(a))
        break;
      f.push(p && $ === $e ? null : re(!0));
    }
    return f;
  }
  function Se(a) {
    var l = K();
    return a && O.yb === "everywhere" && (a = !1), $ === Me ? (!a && (O.yb && zo(fe) || ce && wr(fe)) && k.slice(Y, Fe).indexOf("\\") === -1 && r(Y, "The keyword '" + fe + "' is reserved"), l.name = fe) : a && $.l ? l.name = $.l : be(), tt = !1, E(), R(l, "Identifier");
  }
  e.version = "0.5.0";
  var O, k = "", Le, Jt;
  e.parse = function(a, l) {
    k = String(a), Le = k.length, O = l || {};
    for (var p in Xn)
      Object.prototype.hasOwnProperty.call(O, p) || (O[p] = Xn[p]);
    for (Jt = O.sourceFile, Ve = 1, d = ke = 0, tt = !0, c(), p = O.dc, Qt = xe = d, O.C && (Zt = new i()), nt = ce = !1, X = [], y(), a = p || K(), l = !0, p || (a.body = []); $ !== en; )
      p = he(), a.body.push(p), l && We(p) && D(!0), l = !1;
    return R(a, "Program");
  };
  var Xn = {
    fc: !1,
    sb: !0,
    yb: !1,
    Ib: !1,
    C: !1,
    va: null,
    Xa: !1,
    dc: null,
    sourceFile: null,
    vb: null
  }, d = 0, Y = 0, Fe = 0, Xt, Yt, $, fe, tt, Ve, ke, Qt = 0, xe = 0, Zt, nt, X, ce, Bo = [], rt = {
    type: "num"
  }, Yn = {
    type: "regexp"
  }, It = {
    type: "string"
  }, Me = {
    type: "name"
  }, en = {
    type: "eof"
  }, tn = {
    l: "break"
  }, nn = {
    l: "case",
    m: !0
  }, Qn = {
    l: "catch"
  }, Zn = {
    l: "continue"
  }, er = {
    l: "debugger"
  }, tr = {
    l: "default"
  }, nr = {
    l: "do",
    W: !0
  }, rr = {
    l: "else",
    m: !0
  }, or = {
    l: "finally"
  }, ir = {
    l: "for",
    W: !0
  }, rn = {
    l: "function"
  }, sr = {
    l: "if"
  }, ar = {
    l: "return",
    m: !0
  }, on = {
    l: "switch"
  }, lr = {
    l: "throw",
    m: !0
  }, ur = {
    l: "try"
  }, sn = {
    l: "var"
  }, an = {
    l: "while",
    W: !0
  }, cr = {
    l: "with"
  }, pr = {
    l: "new",
    m: !0
  }, dr = {
    l: "this"
  }, fr = {
    l: "null",
    $a: null
  }, hr = {
    l: "true",
    $a: !0
  }, mr = {
    l: "false",
    $a: !1
  }, Rt = {
    l: "in",
    L: 7,
    m: !0
  }, jo = {
    break: tn,
    case: nn,
    catch: Qn,
    continue: Zn,
    debugger: er,
    default: tr,
    do: nr,
    else: rr,
    finally: or,
    for: ir,
    function: rn,
    if: sr,
    return: ar,
    switch: on,
    throw: lr,
    try: ur,
    var: sn,
    while: an,
    with: cr,
    null: fr,
    true: hr,
    false: mr,
    new: pr,
    in: Rt,
    instanceof: {
      l: "instanceof",
      L: 7,
      m: !0
    },
    this: dr,
    typeof: {
      l: "typeof",
      prefix: !0,
      m: !0
    },
    void: {
      l: "void",
      prefix: !0,
      m: !0
    },
    delete: {
      l: "delete",
      prefix: !0,
      m: !0
    }
  }, ln = {
    type: "[",
    m: !0
  }, un = {
    type: "]"
  }, ot = {
    type: "{",
    m: !0
  }, He = {
    type: "}"
  }, Ce = {
    type: "(",
    m: !0
  }, ge = {
    type: ")"
  }, $e = {
    type: ",",
    m: !0
  }, we = {
    type: ";",
    m: !0
  }, it = {
    type: ":",
    m: !0
  }, gr = {
    type: "."
  }, yr = {
    type: "?",
    m: !0
  }, vr = {
    L: 10,
    m: !0
  }, br = {
    Cb: !0,
    m: !0
  }, De = {
    Cb: !0,
    m: !0
  }, Vo = {
    cc: !0,
    prefix: !0,
    $b: !0
  }, Sr = {
    prefix: !0,
    m: !0
  }, kr = {
    L: 1,
    m: !0
  }, Cr = {
    L: 2,
    m: !0
  }, Do = {
    L: 3,
    m: !0
  }, Uo = {
    L: 4,
    m: !0
  }, Wo = {
    L: 5,
    m: !0
  }, Lo = {
    L: 6,
    m: !0
  }, Fo = {
    L: 7,
    m: !0
  }, Mo = {
    L: 8,
    m: !0
  }, Ho = {
    L: 9,
    prefix: !0,
    m: !0
  }, Ko = {
    L: 10,
    m: !0
  }, zo = o("class enum extends super const export import"), wr = o("implements interface let package private protected public static yield"), At = o("eval arguments"), qo = o("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"), Go = /[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/, Tr = RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"), _o = RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"), xt = /[\n\r\u2028\u2029]/, $t = /\r\n|[\n\r\u2028\u2029]/g, Ke, cn = {
    kind: "loop"
  }, Jo = {
    kind: "switch"
  };
}, vn = vn = typeof globalThis > "u" ? void 0 : globalThis;
hi(vn.j || (vn.j = {}));
function g(e, t) {
  typeof e == "string" && (e = _e(e, "code"));
  var n = e.constructor;
  this.ya = function() {
    return new n({
      options: {}
    });
  };
  var r = this.ya(), o;
  for (o in e)
    r[o] = o === "body" ? e[o].slice() : e[o];
  this.ra = r, this.ca = [], this.qb = t, this.za = !1, this.ba = [], this.Ya = 0, this.rb = /* @__PURE__ */ Object.create(null), e = /^step([A-Z]\w*)$/;
  var i, s;
  for (s in this)
    typeof this[s] == "function" && (i = s.match(e)) && (this.rb[i[1]] = this[s].bind(this));
  this.N = Sn(this, this.ra, null), this.Na = this.N.object, this.ra = _e(this.ba.join(`
`), "polyfills"), this.ba = void 0, Wt(this.ra), i = new T(this.ra, this.N), i.done = !1, this.o = [i], this.Eb(), this.value = void 0, this.ra = r, i = new T(this.ra, this.N), i.done = !1, this.o.length = 0, this.o[0] = i;
}
var Er = {
  C: !0,
  kc: 5
}, Rn = {
  configurable: !0,
  enumerable: !0,
  writable: !1
}, C = {
  configurable: !0,
  enumerable: !1,
  writable: !0
}, le = {
  configurable: !0,
  enumerable: !1,
  writable: !1
}, at = {
  configurable: !1,
  enumerable: !1,
  writable: !1
}, Ir = {
  configurable: !1,
  enumerable: !0,
  writable: !0
}, Jr = {
  STEP_ERROR: !0
}, Ye = {
  SCOPE_REFERENCE: !0
}, yt = {
  VALUE_IN_DESCRIPTOR: !0
}, qe = {
  REGEXP_TIMEOUT: !0
}, Rr = [], Ee = null, ft = null, Ne = typeof globalThis > "u" ? void 0 : globalThis, mi = ["onmessage = function(e) {", "var result;", "var data = e.data;", "switch (data[0]) {", "case 'split':", "result = data[1].split(data[2], data[3]);", "break;", "case 'match':", "result = data[1].match(data[2]);", "break;", "case 'search':", "result = data[1].search(data[2]);", "break;", "case 'replace':", "result = data[1].replace(data[2], data[3]);", "break;", "case 'exec':", "var regexp = data[1];", "regexp.lastIndex = data[2];", "result = [regexp.exec(data[3]), data[1].lastIndex];", "break;", "default:", "throw Error('Unknown RegExp operation: ' + data[0]);", "}", "postMessage(result);", "close();", "};"];
function An(e) {
  var t = e >>> 0;
  return t === Number(e) ? t : NaN;
}
function ht(e) {
  var t = e >>> 0;
  return String(t) === String(e) && t !== 4294967295 ? t : NaN;
}
function Wt(e, t, n) {
  t ? e.start = t : delete e.start, n ? e.end = n : delete e.end;
  for (var r in e)
    if (r !== "loc" && e.hasOwnProperty(r)) {
      var o = e[r];
      o && typeof o == "object" && Wt(o, t, n);
    }
}
g.prototype.REGEXP_MODE = 2;
g.prototype.REGEXP_THREAD_TIMEOUT = 1e3;
g.prototype.POLYFILL_TIMEOUT = 1e3;
V = g.prototype;
V.P = !1;
V.Ka = !1;
V.Kb = 0;
V.ic = 0;
function _e(e, t) {
  var n = {}, r;
  for (r in Er)
    n[r] = Er[r];
  return n.sourceFile = t, Ne.j.parse(e, n);
}
V.Jb = function(e) {
  var t = this.o[0];
  if (!t || t.node.type !== "Program")
    throw Error("Expecting original AST to start with a Program node");
  if (typeof e == "string" && (e = _e(e, "appendCode" + this.Kb++)), !e || e.type !== "Program")
    throw Error("Expecting new AST to start with a Program node");
  vt(this, e, t.scope), Array.prototype.push.apply(t.node.body, e.body), t.node.body.jb = null, t.done = !1;
};
V.lb = function() {
  var e = this.o, t;
  do {
    var n = e[e.length - 1];
    if (this.za)
      break;
    if (!n || n.node.type === "Program" && n.done) {
      if (!this.ca.length)
        return !1;
      if (n = this.ca[0], !n || n.time > Date.now())
        n = null;
      else {
        this.ca.shift(), 0 <= n.interval && Qr(this, n, n.interval);
        var r = new T(n.node, n.scope);
        n.zb && (r.ia = 2, r.B = this.Na, r.U = n.zb, r.Qa = !0, r.F = n.Lb), n = r;
      }
      if (!n)
        break;
    }
    r = n.node;
    var o = ft;
    ft = this;
    try {
      var i = this.rb[r.type](e, n, r);
    } catch (s) {
      if (s !== Jr)
        throw this.value !== s && (this.value = void 0), s;
    } finally {
      ft = o;
    }
    if (i && e.push(i), this.P)
      throw this.value = void 0, Error("Getter not supported in this context");
    if (this.Ka)
      throw this.value = void 0, Error("Setter not supported in this context");
    t || r.end || (t = Date.now() + this.POLYFILL_TIMEOUT);
  } while (!r.end && t > Date.now());
  return !0;
};
V.Eb = function() {
  for (; !this.za && this.lb(); )
    ;
  return this.za;
};
function gi(e, t) {
  e.g(t, "NaN", NaN, at), e.g(t, "Infinity", 1 / 0, at), e.g(t, "undefined", void 0, at), e.g(t, "window", t, Rn), e.g(t, "this", t, at), e.g(t, "self", t), e.M = new N(null), e.Z = new N(e.M), yi(e, t), vi(e, t), t.xa = e.M, e.g(t, "constructor", e.v, C), bi(e, t), Si(e, t), ki(e, t), Ci(e, t), wi(e, t), Ti(e, t), Ei(e, t), Ii(e, t), Ri(e, t);
  var n = e.i(function() {
    throw EvalError("Can't happen");
  }, !1);
  n.eval = !0, e.g(t, "eval", n, C), e.g(t, "parseInt", e.i(parseInt, !1), C), e.g(t, "parseFloat", e.i(parseFloat, !1), C), e.g(t, "isNaN", e.i(isNaN, !1), C), e.g(t, "isFinite", e.i(isFinite, !1), C);
  for (var r = [[escape, "escape"], [unescape, "unescape"], [decodeURI, "decodeURI"], [decodeURIComponent, "decodeURIComponent"], [encodeURI, "encodeURI"], [encodeURIComponent, "encodeURIComponent"]], o = 0; o < r.length; o++)
    n = /* @__PURE__ */ function(i) {
      return function(s) {
        try {
          return i(s);
        } catch (u) {
          I(e, e.Gb, u.message);
        }
      };
    }(r[o][0]), e.g(t, r[o][1], e.i(n, !1), C);
  n = function(i) {
    return Ar(e, !1, arguments);
  }, e.g(t, "setTimeout", e.i(n, !1), C), n = function(i) {
    return Ar(e, !0, arguments);
  }, e.g(t, "setInterval", e.i(n, !1), C), n = function(i) {
    xr(e, i);
  }, e.g(t, "clearTimeout", e.i(n, !1), C), n = function(i) {
    xr(e, i);
  }, e.g(t, "clearInterval", e.i(n, !1), C), e.OBJECT = e.v, e.OBJECT_PROTO = e.M, e.FUNCTION = e.O, e.FUNCTION_PROTO = e.Z, e.ARRAY = e.qa, e.ARRAY_PROTO = e.La, e.REGEXP = e.I, e.REGEXP_PROTO = e.Ma, e.DATE = e.$, e.DATE_PROTO = e.nb, e.qb && e.qb(e, t);
}
V.Wb = 0;
function yi(e, t) {
  var n = /^[A-Za-z_$][\w$]*$/, r = function(o) {
    var i = arguments.length ? String(arguments[arguments.length - 1]) : "", s = Array.prototype.slice.call(arguments, 0, -1).join(",").trim();
    if (s) {
      s = s.split(/\s*,\s*/);
      for (var u = 0; u < s.length; u++) {
        var c = s[u];
        n.test(c) || I(e, e.T, "Invalid function argument: " + c);
      }
      s = s.join(", ");
    }
    try {
      var h = _e("(function(" + s + ") {" + i + "})", "function" + e.Wb++);
    } catch (y) {
      I(e, e.T, "Invalid code: " + y.message);
    }
    return h.body.length !== 1 && I(e, e.T, "Invalid code in function body"), Pn(e, h.body[0].la, e.N, "anonymous");
  };
  e.O = e.i(r, !0), e.g(t, "Function", e.O, C), e.g(e.O, "prototype", e.Z, C), e.g(e.Z, "constructor", e.O, C), e.Z.Ta = function() {
  }, e.Z.Ta.id = e.Ya++, e.Z.Ab = !0, e.g(e.Z, "length", 0, le), e.Z.H = "Function", r = function(o, i) {
    var s = e.o[e.o.length - 1];
    s.U = this, s.B = o, s.F = [], i != null && (i instanceof N ? s.F = Xr(e, i) : I(e, e.j, "CreateListFromArrayLike called on non-object")), s.eb = !1;
  }, Z(e, e.O, "apply", r), r = function(o) {
    var i = e.o[e.o.length - 1];
    i.U = this, i.B = o, i.F = [];
    for (var s = 1; s < arguments.length; s++)
      i.F.push(arguments[s]);
    i.eb = !1;
  }, Z(e, e.O, "call", r), e.ba.push("Object.defineProperty(Function.prototype, 'bind',", "{configurable: true, writable: true, value:", "function bind(oThis) {", "if (typeof this !== 'function') {", "throw TypeError('What is trying to be bound is not callable');", "}", "var aArgs   = Array.prototype.slice.call(arguments, 1),", "fToBind = this,", "fNOP    = function() {},", "fBound  = function() {", "return fToBind.apply(this instanceof fNOP", "? this", ": oThis,", "aArgs.concat(Array.prototype.slice.call(arguments)));", "};", "if (this.prototype) {", "fNOP.prototype = this.prototype;", "}", "fBound.prototype = new fNOP();", "return fBound;", "}", "});", ""), r = function() {
    return String(this);
  }, Z(e, e.O, "toString", r), e.g(e.O, "toString", e.i(r, !1), C), r = function() {
    return this.valueOf();
  }, Z(e, e.O, "valueOf", r), e.g(e.O, "valueOf", e.i(r, !1), C);
}
function vi(e, t) {
  function n(o) {
    o != null || I(e, e.j, "Cannot convert '" + o + "' to object");
  }
  var r = function(o) {
    if (o == null)
      return Re(e) ? this : e.s(e.M);
    if (!(o instanceof N)) {
      var i = e.s(Ie(e, o));
      return i.data = o, i;
    }
    return o;
  };
  e.v = e.i(r, !0), e.g(e.v, "prototype", e.M, C), e.g(e.M, "constructor", e.v, C), e.g(t, "Object", e.v, C), r = function(o) {
    return n(o), Te(e, Object.getOwnPropertyNames(o instanceof N ? o.h : o));
  }, e.g(e.v, "getOwnPropertyNames", e.i(r, !1), C), r = function(o) {
    return n(o), o instanceof N && (o = o.h), Te(e, Object.keys(o));
  }, e.g(e.v, "keys", e.i(r, !1), C), r = function(o) {
    return o === null ? e.s(null) : (o instanceof N || I(e, e.j, "Object prototype may only be an Object or null, not " + o), e.s(o));
  }, e.g(e.v, "create", e.i(r, !1), C), e.ba.push("(function() {", "var create_ = Object.create;", "Object.create = function create(proto, props) {", "var obj = create_(proto);", "props && Object.defineProperties(obj, props);", "return obj;", "};", "})();", ""), r = function(o, i, s) {
    return i = String(i), o instanceof N || I(e, e.j, "Object.defineProperty called on non-object: " + o), s instanceof N || I(e, e.j, "Property description must be an object"), !o.preventExtensions || i in o.h || I(e, e.j, "Can't define property '" + i + "', object is not extensible"), e.g(o, i, yt, s.h), o;
  }, e.g(e.v, "defineProperty", e.i(r, !1), C), e.ba.push("(function() {", "var defineProperty_ = Object.defineProperty;", "Object.defineProperty = function defineProperty(obj, prop, d1) {", "var d2 = {};", "if ('configurable' in d1) d2.configurable = d1.configurable;", "if ('enumerable' in d1) d2.enumerable = d1.enumerable;", "if ('writable' in d1) d2.writable = d1.writable;", "if ('value' in d1) d2.value = d1.value;", "if ('get' in d1) d2.get = d1.get;", "if ('set' in d1) d2.set = d1.set;", "return defineProperty_(obj, prop, d2);", "};", "})();", "Object.defineProperty(Object, 'defineProperties',", "{configurable: true, writable: true, value:", "function defineProperties(obj, props) {", "var keys = Object.keys(props);", "for (var i = 0; i < keys.length; i++) {", "Object.defineProperty(obj, keys[i], props[keys[i]]);", "}", "return obj;", "}", "});", ""), r = function(o, i) {
    if (o instanceof N || I(e, e.j, "Object.getOwnPropertyDescriptor called on non-object: " + o), i = String(i), i in o.h) {
      var s = Object.getOwnPropertyDescriptor(o.h, i), u = o.V[i];
      return o = o.Y[i], i = e.s(e.M), u || o ? (e.g(i, "get", u), e.g(i, "set", o)) : (e.g(i, "value", s.value), e.g(i, "writable", s.writable)), e.g(i, "configurable", s.configurable), e.g(i, "enumerable", s.enumerable), i;
    }
  }, e.g(e.v, "getOwnPropertyDescriptor", e.i(r, !1), C), r = function(o) {
    return n(o), Ie(e, o);
  }, e.g(e.v, "getPrototypeOf", e.i(r, !1), C), r = function(o) {
    return !!o && !o.preventExtensions;
  }, e.g(e.v, "isExtensible", e.i(r, !1), C), r = function(o) {
    return o instanceof N && (o.preventExtensions = !0), o;
  }, e.g(e.v, "preventExtensions", e.i(r, !1), C), Z(e, e.v, "toString", N.prototype.toString), Z(e, e.v, "toLocaleString", N.prototype.toString), Z(e, e.v, "valueOf", N.prototype.valueOf), r = function(o) {
    return n(this), this instanceof N ? String(o) in this.h : this.hasOwnProperty(o);
  }, Z(e, e.v, "hasOwnProperty", r), r = function(o) {
    return n(this), this instanceof N ? Object.prototype.propertyIsEnumerable.call(this.h, o) : this.propertyIsEnumerable(o);
  }, Z(e, e.v, "propertyIsEnumerable", r), r = function(o) {
    for (; ; ) {
      if (o = Ie(e, o), !o)
        return !1;
      if (o === this)
        return !0;
    }
  }, Z(e, e.v, "isPrototypeOf", r);
}
function bi(e, t) {
  var n = function(r) {
    var o = Re(e) ? this : Je(e), i = arguments[0];
    if (arguments.length === 1 && typeof i == "number")
      isNaN(An(i)) && I(e, e.ob, "Invalid array length: " + i), o.h.length = i;
    else {
      for (i = 0; i < arguments.length; i++)
        o.h[i] = arguments[i];
      o.h.length = i;
    }
    return o;
  };
  e.qa = e.i(n, !0), e.La = e.qa.h.prototype, e.g(t, "Array", e.qa, C), n = function(r) {
    return r && r.H === "Array";
  }, e.g(e.qa, "isArray", e.i(n, !1), C), e.g(e.La, "length", 0, {
    configurable: !1,
    enumerable: !1,
    writable: !0
  }), e.La.H = "Array", e.ba.push("(function() {", "function createArrayMethod_(f) {", "Object.defineProperty(Array.prototype, f.name,", "{configurable: true, writable: true, value: f});", "}", "createArrayMethod_(", "function pop() {", "if (!this) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "if (!len || len < 0) {", "o.length = 0;", "return undefined;", "}", "len--;", "var x = o[len];", "delete o[len];", "o.length = len;", "return x;", "}", ");", "createArrayMethod_(", "function push(var_args) {", "if (!this) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "for (var i = 0; i < arguments.length; i++) {", "o[len] = arguments[i];", "len++;", "}", "o.length = len;", "return len;", "}", ");", "createArrayMethod_(", "function shift() {", "if (!this) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "if (!len || len < 0) {", "o.length = 0;", "return undefined;", "}", "var value = o[0];", "for (var i = 0; i < len - 1; i++) {", "if ((i + 1) in o) {", "o[i] = o[i + 1];", "} else {", "delete o[i];", "}", "}", "delete o[i];", "o.length = len - 1;", "return value;", "}", ");", "createArrayMethod_(", "function unshift(var_args) {", "if (!this) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "if (!len || len < 0) {", "len = 0;", "}", "for (var i = len - 1; i >= 0; i--) {", "if (i in o) {", "o[i + arguments.length] = o[i];", "} else {", "delete o[i + arguments.length];", "}", "}", "for (var i = 0; i < arguments.length; i++) {", "o[i] = arguments[i];", "}", "return (o.length = len + arguments.length);", "}", ");", "createArrayMethod_(", "function reverse() {", "if (!this) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "if (!len || len < 2) {", "return o;", "}", "for (var i = 0; i < len / 2 - 0.5; i++) {", "var x = o[i];", "var hasX = i in o;", "if ((len - i - 1) in o) {", "o[i] = o[len - i - 1];", "} else {", "delete o[i];", "}", "if (hasX) {", "o[len - i - 1] = x;", "} else {", "delete o[len - i - 1];", "}", "}", "return o;", "}", ");", "createArrayMethod_(", "function indexOf(searchElement, fromIndex) {", "if (!this) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "var n = fromIndex | 0;", "if (!len || n >= len) {", "return -1;", "}", "var i = Math.max(n >= 0 ? n : len - Math.abs(n), 0);", "while (i < len) {", "if (i in o && o[i] === searchElement) {", "return i;", "}", "i++;", "}", "return -1;", "}", ");", "createArrayMethod_(", "function lastIndexOf(searchElement, fromIndex) {", "if (!this) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "if (!len) {", "return -1;", "}", "var n = len - 1;", "if (arguments.length > 1) {", "n = fromIndex | 0;", "if (n) {", "n = (n > 0 || -1) * Math.floor(Math.abs(n));", "}", "}", "var i = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);", "while (i >= 0) {", "if (i in o && o[i] === searchElement) {", "return i;", "}", "i--;", "}", "return -1;", "}", ");", "createArrayMethod_(", "function slice(start, end) {", "if (!this) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "start |= 0;", "start = (start >= 0) ? start : Math.max(0, len + start);", "if (typeof end !== 'undefined') {", "if (end !== Infinity) {", "end |= 0;", "}", "if (end < 0) {", "end = len + end;", "} else {", "end = Math.min(end, len);", "}", "} else {", "end = len;", "}", "var size = end - start;", "var cloned = new Array(size);", "for (var i = 0; i < size; i++) {", "if ((start + i) in o) {", "cloned[i] = o[start + i];", "}", "}", "return cloned;", "}", ");", "createArrayMethod_(", "function splice(start, deleteCount, var_args) {", "if (!this) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "start |= 0;", "if (start < 0) {", "start = Math.max(len + start, 0);", "} else {", "start = Math.min(start, len);", "}", "if (arguments.length < 1) {", "deleteCount = len - start;", "} else {", "deleteCount |= 0;", "deleteCount = Math.max(0, Math.min(deleteCount, len - start));", "}", "var removed = [];", "for (var i = start; i < start + deleteCount; i++) {", "if (i in o) {", "removed.push(o[i]);", "} else {", "removed.length++;", "}", "if ((i + deleteCount) in o) {", "o[i] = o[i + deleteCount];", "} else {", "delete o[i];", "}", "}", "for (var i = start + deleteCount; i < len - deleteCount; i++) {", "if ((i + deleteCount) in o) {", "o[i] = o[i + deleteCount];", "} else {", "delete o[i];", "}", "}", "for (var i = len - deleteCount; i < len; i++) {", "delete o[i];", "}", "len -= deleteCount;", "var arl = arguments.length - 2;", "for (var i = len - 1; i >= start; i--) {", "if (i in o) {", "o[i + arl] = o[i];", "} else {", "delete o[i + arl];", "}", "}", "len += arl;", "for (var i = 2; i < arguments.length; i++) {", "o[start + i - 2] = arguments[i];", "}", "o.length = len;", "return removed;", "}", ");", "createArrayMethod_(", "function concat(var_args) {", "if (!this) throw TypeError();", "var o = Object(this);", "var cloned = [];", "for (var i = -1; i < arguments.length; i++) {", "var value = (i === -1) ? o : arguments[i];", "if (Array.isArray(value)) {", "for (var j = 0, l = value.length; j < l; j++) {", "if (j in value) {", "cloned.push(value[j]);", "} else {", "cloned.length++;", "}", "}", "} else {", "cloned.push(value);", "}", "}", "return cloned;", "}", ");", "createArrayMethod_(", "function join(opt_separator) {", "if (!this) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "var sep = typeof opt_separator === 'undefined' ?", "',' : ('' + opt_separator);", "var str = '';", "for (var i = 0; i < len; i++) {", "if (i && sep) str += sep;", "str += (o[i] === null || o[i] === undefined) ? '' : o[i];", "}", "return str;", "}", ");", "createArrayMethod_(", "function every(callbackfn, thisArg) {", "if (!this || typeof callbackfn !== 'function') throw TypeError();", "var t, k = 0;", "var o = Object(this), len = o.length >>> 0;", "if (arguments.length > 1) t = thisArg;", "while (k < len) {", "if (k in o && !callbackfn.call(t, o[k], k, o)) return false;", "k++;", "}", "return true;", "}", ");", "createArrayMethod_(", "function filter(fun, var_args) {", "if (this === void 0 || this === null || typeof fun !== 'function') throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "var res = [];", "var thisArg = arguments.length >= 2 ? arguments[1] : void 0;", "for (var i = 0; i < len; i++) {", "if (i in o) {", "var val = o[i];", "if (fun.call(thisArg, val, i, o)) res.push(val);", "}", "}", "return res;", "}", ");", "createArrayMethod_(", "function forEach(callback, thisArg) {", "if (!this || typeof callback !== 'function') throw TypeError();", "var t, k = 0;", "var o = Object(this), len = o.length >>> 0;", "if (arguments.length > 1) t = thisArg;", "while (k < len) {", "if (k in o) callback.call(t, o[k], k, o);", "k++;", "}", "}", ");", "createArrayMethod_(", "function map(callback, thisArg) {", "if (!this || typeof callback !== 'function') throw TypeError();", "var t, k = 0;", "var o = Object(this), len = o.length >>> 0;", "if (arguments.length > 1) t = thisArg;", "var a = new Array(len);", "while (k < len) {", "if (k in o) a[k] = callback.call(t, o[k], k, o);", "k++;", "}", "return a;", "}", ");", "createArrayMethod_(", "function reduce(callback /*, initialValue*/) {", "if (!this || typeof callback !== 'function') throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "var k = 0, value;", "if (arguments.length === 2) {", "value = arguments[1];", "} else {", "while (k < len && !(k in o)) k++;", "if (k >= len) {", "throw TypeError('Reduce of empty array with no initial value');", "}", "value = o[k++];", "}", "for (; k < len; k++) {", "if (k in o) value = callback(value, o[k], k, o);", "}", "return value;", "}", ");", "createArrayMethod_(", "function reduceRight(callback /*, initialValue*/) {", "if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "var k = len - 1, value;", "if (arguments.length >= 2) {", "value = arguments[1];", "} else {", "while (k >= 0 && !(k in o)) k--;", "if (k < 0) {", "throw TypeError('Reduce of empty array with no initial value');", "}", "value = o[k--];", "}", "for (; k >= 0; k--) {", "if (k in o) value = callback(value, o[k], k, o);", "}", "return value;", "}", ");", "createArrayMethod_(", "function some(fun/*, thisArg*/) {", "if (!this || typeof fun !== 'function') throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "var thisArg = arguments.length >= 2 ? arguments[1] : void 0;", "for (var i = 0; i < len; i++) {", "if (i in o && fun.call(thisArg, o[i], i, o)) return true;", "}", "return false;", "}", ");", "createArrayMethod_(", "function sort(opt_comp) {", "if (!this) throw TypeError();", "if (typeof opt_comp !== 'function') {", "opt_comp = undefined;", "}", "for (var i = 0; i < this.length; i++) {", "var changes = 0;", "for (var j = 0; j < this.length - i - 1; j++) {", "if (opt_comp ? (opt_comp(this[j], this[j + 1]) > 0) :", "(String(this[j]) > String(this[j + 1]))) {", "var swap = this[j];", "var hasSwap = j in this;", "if ((j + 1) in this) {", "this[j] = this[j + 1];", "} else {", "delete this[j];", "}", "if (hasSwap) {", "this[j + 1] = swap;", "} else {", "delete this[j + 1];", "}", "changes++;", "}", "}", "if (!changes) break;", "}", "return this;", "}", ");", "createArrayMethod_(", "function toLocaleString() {", "if (!this) throw TypeError();", "var o = Object(this), len = o.length >>> 0;", "var out = [];", "for (var i = 0; i < len; i++) {", "out[i] = (o[i] === null || o[i] === undefined) ? '' : o[i].toLocaleString();", "}", "return out.join(',');", "}", ");", "})();", "");
}
function Si(e, t) {
  var n = function(r) {
    return r = arguments.length ? Ne.String(r) : "", Re(e) ? (this.data = r, this) : r;
  };
  for (e.J = e.i(n, !0), e.g(t, "String", e.J, C), e.g(e.J, "fromCharCode", e.i(String.fromCharCode, !1), C), t = "charAt charCodeAt concat indexOf lastIndexOf slice substr substring toLocaleLowerCase toLocaleUpperCase toLowerCase toUpperCase trim".split(" "), n = 0; n < t.length; n++)
    Z(e, e.J, t[n], String.prototype[t[n]]);
  n = function(r, o, i) {
    o = e.R(o), i = e.R(i);
    try {
      return String(this).localeCompare(r, o, i);
    } catch (s) {
      I(e, e.D, "localeCompare: " + s.message);
    }
  }, Z(e, e.J, "localeCompare", n), n = function(r, o, i) {
    var s = String(this);
    if (o = o ? Number(o) : void 0, ne(e, r, e.I) && (r = r.data, ut(e, r, i), e.REGEXP_MODE === 2)) {
      if (Ee)
        r = lt(e, "string.split(separator, limit)", {
          string: s,
          separator: r,
          limit: o
        }, r, i), r !== qe && i(Te(e, r));
      else {
        var u = e.ha(), c = ct(e, r, u, i);
        u.onmessage = function(h) {
          clearTimeout(c), i(Te(e, h.data));
        }, u.postMessage(["split", s, r, o]);
      }
      return;
    }
    r = s.split(r, o), i(Te(e, r));
  }, pt(e, e.J, "split", n), n = function(r, o) {
    var i = String(this);
    if (r = ne(e, r, e.I) ? r.data : new RegExp(r), ut(e, r, o), e.REGEXP_MODE === 2)
      if (Ee)
        r = lt(e, "string.match(regexp)", {
          string: i,
          regexp: r
        }, r, o), r !== qe && o(r && Te(e, r));
      else {
        var s = e.ha(), u = ct(e, r, s, o);
        s.onmessage = function(c) {
          clearTimeout(u), o(c.data && Te(e, c.data));
        }, s.postMessage(["match", i, r]);
      }
    else
      r = i.match(r), o(r && Te(e, r));
  }, pt(e, e.J, "match", n), n = function(r, o) {
    var i = String(this);
    if (ne(e, r, e.I) ? r = r.data : r = new RegExp(r), ut(e, r, o), e.REGEXP_MODE === 2)
      if (Ee)
        r = lt(e, "string.search(regexp)", {
          string: i,
          regexp: r
        }, r, o), r !== qe && o(r);
      else {
        var s = e.ha(), u = ct(e, r, s, o);
        s.onmessage = function(c) {
          clearTimeout(u), o(c.data);
        }, s.postMessage(["search", i, r]);
      }
    else
      o(i.search(r));
  }, pt(e, e.J, "search", n), n = function(r, o, i) {
    var s = String(this);
    if (o = String(o), ne(e, r, e.I) && (r = r.data, ut(e, r, i), e.REGEXP_MODE === 2)) {
      if (Ee)
        r = lt(e, "string.replace(substr, newSubstr)", {
          string: s,
          substr: r,
          newSubstr: o
        }, r, i), r !== qe && i(r);
      else {
        var u = e.ha(), c = ct(e, r, u, i);
        u.onmessage = function(h) {
          clearTimeout(c), i(h.data);
        }, u.postMessage(["replace", s, r, o]);
      }
      return;
    }
    i(s.replace(r, o));
  }, pt(e, e.J, "replace", n), e.ba.push("(function() {", "var replace_ = String.prototype.replace;", "String.prototype.replace = function replace(substr, newSubstr) {", "if (typeof newSubstr !== 'function') {", "return replace_.call(this, substr, newSubstr);", "}", "var str = this;", "if (substr instanceof RegExp) {", "var subs = [];", "var m = substr.exec(str);", "while (m) {", "m.push(m.index, str);", "var inject = newSubstr.apply(null, m);", "subs.push([m.index, m[0].length, inject]);", "m = substr.global ? substr.exec(str) : null;", "}", "for (var i = subs.length - 1; i >= 0; i--) {", "str = str.substring(0, subs[i][0]) + subs[i][2] + str.substring(subs[i][0] + subs[i][1]);", "}", "} else {", "var i = str.indexOf(substr);", "if (i !== -1) {", "var inject = newSubstr(str.substr(i, substr.length), i, str);", "str = str.substring(0, i) + inject + str.substring(i + substr.length);", "}", "}", "return str;", "};", "})();", "");
}
function ki(e, t) {
  e.mb = e.i(function(n) {
    return n = Ne.Boolean(n), Re(e) ? (this.data = n, this) : n;
  }, !0), e.g(t, "Boolean", e.mb, C);
}
function Ci(e, t) {
  var n = function(r) {
    return r = arguments.length ? Ne.Number(r) : 0, Re(e) ? (this.data = r, this) : r;
  };
  for (e.aa = e.i(n, !0), e.g(t, "Number", e.aa, C), t = ["MAX_VALUE", "MIN_VALUE", "NaN", "NEGATIVE_INFINITY", "POSITIVE_INFINITY"], n = 0; n < t.length; n++)
    e.g(e.aa, t[n], Number[t[n]], at);
  n = function(r) {
    try {
      return Number(this).toExponential(r);
    } catch (o) {
      I(e, e.D, o.message);
    }
  }, Z(e, e.aa, "toExponential", n), n = function(r) {
    try {
      return Number(this).toFixed(r);
    } catch (o) {
      I(e, e.D, o.message);
    }
  }, Z(e, e.aa, "toFixed", n), n = function(r) {
    try {
      return Number(this).toPrecision(r);
    } catch (o) {
      I(e, e.D, o.message);
    }
  }, Z(e, e.aa, "toPrecision", n), n = function(r) {
    try {
      return Number(this).toString(r);
    } catch (o) {
      I(e, e.D, o.message);
    }
  }, Z(e, e.aa, "toString", n), n = function(r, o) {
    r = r ? e.R(r) : void 0, o = o ? e.R(o) : void 0;
    try {
      return Number(this).toLocaleString(r, o);
    } catch (i) {
      I(e, e.D, "toLocaleString: " + i.message);
    }
  }, Z(e, e.aa, "toLocaleString", n);
}
function wi(e, t) {
  var n = function(o, i) {
    if (!Re(e))
      return Ne.Date();
    var s = [null].concat(Array.from(arguments));
    return this.data = new (Function.prototype.bind.apply(Ne.Date, s))(), this;
  };
  e.$ = e.i(n, !0), e.nb = e.$.h.prototype, e.g(t, "Date", e.$, C), e.g(e.$, "now", e.i(Date.now, !1), C), e.g(e.$, "parse", e.i(Date.parse, !1), C), e.g(e.$, "UTC", e.i(Date.UTC, !1), C), t = "getDate getDay getFullYear getHours getMilliseconds getMinutes getMonth getSeconds getTime getTimezoneOffset getUTCDate getUTCDay getUTCFullYear getUTCHours getUTCMilliseconds getUTCMinutes getUTCMonth getUTCSeconds getYear setDate setFullYear setHours setMilliseconds setMinutes setMonth setSeconds setTime setUTCDate setUTCFullYear setUTCHours setUTCMilliseconds setUTCMinutes setUTCMonth setUTCSeconds setYear toDateString toISOString toJSON toGMTString toLocaleDateString toLocaleString toLocaleTimeString toTimeString toUTCString".split(" ");
  for (var r = 0; r < t.length; r++)
    n = /* @__PURE__ */ function(o) {
      return function(i) {
        var s = this.data;
        s instanceof Date || I(e, e.j, o + " not called on a Date");
        for (var u = [], c = 0; c < arguments.length; c++)
          u[c] = e.R(arguments[c]);
        return s[o].apply(s, u);
      };
    }(t[r]), Z(e, e.$, t[r], n);
}
function Ti(e, t) {
  var n = function(r, o) {
    if (Re(e))
      var i = this;
    else {
      if (o === void 0 && ne(e, r, e.I))
        return r;
      i = e.s(e.Ma);
    }
    r = r === void 0 ? "" : String(r), o = o ? String(o) : "", /^[gmi]*$/.test(o) || I(e, e.T, "Invalid regexp flag: " + o);
    try {
      var s = new Ne.RegExp(r, o);
    } catch (u) {
      I(e, e.T, u.message);
    }
    return xn(e, i, s), i;
  };
  e.I = e.i(n, !0), e.Ma = e.I.h.prototype, e.g(t, "RegExp", e.I, C), e.g(e.I.h.prototype, "global", void 0, le), e.g(e.I.h.prototype, "ignoreCase", void 0, le), e.g(e.I.h.prototype, "multiline", void 0, le), e.g(e.I.h.prototype, "source", "(?:)", le), e.ba.push("Object.defineProperty(RegExp.prototype, 'test',", "{configurable: true, writable: true, value:", "function test(str) {", "return !!this.exec(str);", "}", "});"), n = function(r, o) {
    function i(y) {
      if (y) {
        var b = Te(e, y);
        return e.g(b, "index", y.index), e.g(b, "input", y.input), b;
      }
      return null;
    }
    var s = this.data;
    if (r = String(r), s.lastIndex = Number(e.G(this, "lastIndex")), ut(e, s, o), e.REGEXP_MODE === 2)
      if (Ee)
        r = lt(e, "regexp.exec(string)", {
          string: r,
          regexp: s
        }, s, o), r !== qe && (e.g(this, "lastIndex", s.lastIndex), o(i(r)));
      else {
        var u = e.ha(), c = ct(e, s, u, o), h = this;
        u.onmessage = function(y) {
          clearTimeout(c), e.g(h, "lastIndex", y.data[1]), o(i(y.data[0]));
        }, u.postMessage(["exec", s, s.lastIndex, r]);
      }
    else
      r = s.exec(r), e.g(this, "lastIndex", s.lastIndex), o(i(r));
  }, pt(e, e.I, "exec", n);
}
function Ei(e, t) {
  function n(r) {
    var o = e.i(function(i) {
      var s = Re(e) ? this : e.Aa(o);
      return bn(e, s, i), s;
    }, !0);
    return e.g(o, "prototype", e.Aa(e.D), C), e.g(o.h.prototype, "name", r, C), e.g(t, r, o, C), o;
  }
  e.D = e.i(function(r) {
    var o = Re(e) ? this : e.Aa(e.D);
    return bn(e, o, r), o;
  }, !0), e.g(t, "Error", e.D, C), e.g(e.D.h.prototype, "message", "", C), e.g(e.D.h.prototype, "name", "Error", C), n("EvalError"), e.ob = n("RangeError"), e.pb = n("ReferenceError"), e.T = n("SyntaxError"), e.j = n("TypeError"), e.Gb = n("URIError");
}
function Ii(e, t) {
  var n = e.s(e.M);
  e.g(t, "Math", n, C);
  var r = "E LN2 LN10 LOG2E LOG10E PI SQRT1_2 SQRT2".split(" ");
  for (t = 0; t < r.length; t++)
    e.g(n, r[t], Math[r[t]], le);
  for (r = "abs acos asin atan atan2 ceil cos exp floor log max min pow random round sin sqrt tan".split(" "), t = 0; t < r.length; t++)
    e.g(n, r[t], e.i(Math[r[t]], !1), C);
}
function Ri(e, t) {
  var n = e.s(e.M);
  e.g(t, "JSON", n, C), t = function(r) {
    try {
      var o = JSON.parse(String(r));
    } catch (i) {
      I(e, e.T, i.message);
    }
    return e.Ia(o);
  }, e.g(n, "parse", e.i(t, !1)), t = function(r, o, i) {
    o && o.H === "Function" ? I(e, e.j, "Function replacer on JSON.stringify not supported") : o && o.H === "Array" ? (o = Xr(e, o), o = o.filter(function(u) {
      return typeof u == "string" || typeof u == "number";
    })) : o = null, typeof i != "string" && typeof i != "number" && (i = void 0), r = e.R(r);
    try {
      var s = JSON.stringify(r, o, i);
    } catch (u) {
      I(e, e.j, u.message);
    }
    return s;
  }, e.g(n, "stringify", e.i(t, !1));
}
function ne(e, t, n) {
  if (t == null || !n)
    return !1;
  if (n = n.h.prototype, t === n)
    return !0;
  for (t = Ie(e, t); t; ) {
    if (t === n)
      return !0;
    t = t.xa;
  }
  return !1;
}
function xn(e, t, n) {
  t.data = new RegExp(n.source, n.flags), e.g(t, "lastIndex", n.lastIndex, C), e.g(t, "source", n.source, le), e.g(t, "global", n.global, le), e.g(t, "ignoreCase", n.ignoreCase, le), e.g(t, "multiline", n.multiline, le);
}
function bn(e, t, n) {
  n && e.g(t, "message", String(n), C), n = [];
  for (var r = e.o.length - 1; 0 <= r; r--) {
    var o = e.o[r], i = o.node;
    i.type === "CallExpression" && (o = o.U) && n.length && (n[n.length - 1].Ob = e.G(o, "name")), !i.X || n.length && i.type !== "CallExpression" || n.push({
      Nb: i.X
    });
  }
  for (r = String(e.G(t, "name")), i = String(e.G(t, "message")), i = r + ": " + i + `
`, r = 0; r < n.length; r++) {
    var s = n[r].Nb;
    o = n[r].Ob, s = s.source + ":" + s.start.line + ":" + s.start.ab, i = o ? i + ("  at " + o + " (" + s + `)
`) : i + ("  at " + s + `
`);
  }
  e.g(t, "stack", i.trim(), C);
}
V.ha = function() {
  var e = this.ha.Mb;
  return e || (e = new Blob([mi.join(`
`)], {
    type: "application/javascript"
  }), this.ha.Mb = e), new Worker(URL.createObjectURL(e));
};
function lt(e, t, n, r, o) {
  var i = {
    timeout: e.REGEXP_THREAD_TIMEOUT
  };
  try {
    return Ee.runInNewContext(t, n, i);
  } catch {
    o(null), I(e, e.D, "RegExp Timeout: " + r);
  }
  return qe;
}
function ut(e, t, n) {
  if (e.REGEXP_MODE === 0)
    var r = !1;
  else if (e.REGEXP_MODE === 1)
    r = !0;
  else if (Ee)
    r = !0;
  else if (typeof Worker == "function" && typeof URL == "function")
    r = !0;
  else if (typeof require == "function") {
    try {
      Ee = require("vm");
    } catch {
    }
    r = !!Ee;
  } else
    r = !1;
  r || (n(null), I(e, e.D, "Regular expressions not supported: " + t));
}
function ct(e, t, n, r) {
  return setTimeout(function() {
    n.terminate(), r(null);
    try {
      I(e, e.D, "RegExp Timeout: " + t);
    } catch {
    }
  }, e.REGEXP_THREAD_TIMEOUT);
}
V.Aa = function(e) {
  return this.s(e && e.h.prototype);
};
V.s = function(e) {
  if (typeof e != "object")
    throw Error("Non object prototype");
  return e = new N(e), ne(this, e, this.D) && (e.H = "Error"), e;
};
function Je(e) {
  var t = e.s(e.La);
  return e.g(t, "length", 0, {
    configurable: !1,
    enumerable: !1,
    writable: !0
  }), t.H = "Array", t;
}
function $n(e, t, n) {
  var r = e.s(e.Z);
  return n ? (n = e.s(e.M), e.g(r, "prototype", n, C), e.g(n, "constructor", r, C)) : r.Ab = !0, e.g(r, "length", t, le), r.H = "Function", r;
}
function Pn(e, t, n, r) {
  var o = $n(e, t.oa.length, !0);
  return o.Va = n, o.node = t, e.g(o, "name", t.id ? String(t.id.name) : r || "", le), o;
}
V.i = function(e, t) {
  return t = $n(this, e.length, t), t.Ta = e, e.id = this.Ya++, this.g(t, "name", e.name, le), t;
};
V.ub = function(e) {
  var t = $n(this, e.length, !0);
  return t.Za = e, e.id = this.Ya++, this.g(t, "name", e.name, le), t;
};
V.Ia = function(e) {
  if (e instanceof N)
    throw Error("Object is already pseudo");
  if (e == null || e === !0 || e === !1 || typeof e == "string" || typeof e == "number")
    return e;
  if (e instanceof RegExp) {
    var t = this.s(this.Ma);
    return xn(this, t, e), t;
  }
  if (e instanceof Date)
    return t = this.s(this.nb), t.data = new Date(e.valueOf()), t;
  if (typeof e == "function") {
    var n = this;
    return t = Object.getOwnPropertyDescriptor(e, "prototype"), this.i(function() {
      var o = Array.prototype.slice.call(arguments).map(function(i) {
        return n.R(i);
      });
      return o = e.apply(n, o), n.Ia(o);
    }, !!t);
  }
  if (Array.isArray(e)) {
    t = Je(this);
    for (var r = 0; r < e.length; r++)
      r in e && this.g(t, r, this.Ia(e[r]));
    return t;
  }
  t = this.s(this.M);
  for (r in e)
    this.g(t, r, this.Ia(e[r]));
  return t;
};
V.R = function(e, t) {
  if (typeof e != "object" && typeof e != "function" || e === null)
    return e;
  if (!(e instanceof N))
    throw Error("Object is not pseudo");
  if (ne(this, e, this.I))
    return t = new RegExp(e.data.source, e.data.flags), t.lastIndex = e.data.lastIndex, t;
  if (ne(this, e, this.$))
    return new Date(e.data.valueOf());
  t = t || {
    hb: [],
    Sa: []
  };
  var n = t.hb.indexOf(e);
  if (n !== -1)
    return t.Sa[n];
  if (t.hb.push(e), ne(this, e, this.qa)) {
    n = [], t.Sa.push(n);
    for (var r = this.G(e, "length"), o = 0; o < r; o++)
      Lt(this, e, o) && (n[o] = this.R(this.G(e, o), t));
  } else
    for (r in n = {}, t.Sa.push(n), e.h)
      o = this.R(e.h[r], t), Object.defineProperty(n, r, {
        value: o,
        writable: !0,
        enumerable: !0,
        configurable: !0
      });
  return t.hb.pop(), t.Sa.pop(), n;
};
function Te(e, t) {
  for (var n = Je(e), r = Object.getOwnPropertyNames(t), o = 0; o < r.length; o++)
    e.g(n, r[o], t[r[o]]);
  return n;
}
function Xr(e, t) {
  var n = [], r;
  for (r in t.h)
    n[r] = e.G(t, r);
  return n.length = An(e.G(t, "length")) || 0, n;
}
function Ie(e, t) {
  switch (typeof t) {
    case "number":
      return e.aa.h.prototype;
    case "boolean":
      return e.mb.h.prototype;
    case "string":
      return e.J.h.prototype;
  }
  return t ? t.xa : null;
}
V.G = function(e, t) {
  if (this.P)
    throw Error("Getter not supported in that context");
  if (t = String(t), e != null || I(this, this.j, "Cannot read property '" + t + "' of " + e), typeof e == "object" && !(e instanceof N))
    throw TypeError("Expecting native value or pseudo object");
  if (t === "length") {
    if (ne(this, e, this.J))
      return String(e).length;
  } else if (64 > t.charCodeAt(0) && ne(this, e, this.J)) {
    var n = ht(t);
    if (!isNaN(n) && n < String(e).length)
      return String(e)[n];
  }
  do
    if (e.h && t in e.h)
      return (n = e.V[t]) ? (this.P = !0, n) : e.h[t];
  while (e = Ie(this, e));
};
function Lt(e, t, n) {
  if (!(t instanceof N))
    throw TypeError("Primitive data type has no properties");
  if (n = String(n), n === "length" && ne(e, t, e.J))
    return !0;
  if (ne(e, t, e.J)) {
    var r = ht(n);
    if (!isNaN(r) && r < String(t).length)
      return !0;
  }
  do
    if (t.h && n in t.h)
      return !0;
  while (t = Ie(e, t));
  return !1;
}
V.g = function(e, t, n, r) {
  if (this.Ka)
    throw Error("Setter not supported in that context");
  if (t = String(t), e != null || I(this, this.j, "Cannot set property '" + t + "' of " + e), typeof e == "object" && !(e instanceof N))
    throw TypeError("Expecting native value or pseudo object");
  r && ("get" in r || "set" in r) && ("value" in r || "writable" in r) && I(this, this.j, "Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");
  var o = !this.o || On(this).S;
  if (e instanceof N) {
    if (ne(this, e, this.J)) {
      var i = ht(t);
      if (t === "length" || !isNaN(i) && i < String(e).length) {
        o && I(this, this.j, "Cannot assign to read only property '" + t + "' of String '" + e.data + "'");
        return;
      }
    }
    if (e.H === "Array")
      if (i = e.h.length, t === "length") {
        if (r) {
          if (!("value" in r))
            return;
          n = r.value;
        }
        if (n = An(n), isNaN(n) && I(this, this.ob, "Invalid array length"), n < i)
          for (s in e.h) {
            var s = ht(s);
            !isNaN(s) && n <= s && delete e.h[s];
          }
      } else
        isNaN(s = ht(t)) || (e.h.length = Math.max(i, s + 1));
    if (!e.preventExtensions || t in e.h)
      if (r) {
        o = {}, "get" in r && r.get && (e.V[t] = r.get, o.get = this.g.ac), "set" in r && r.set && (e.Y[t] = r.set, o.set = this.g.bc), "configurable" in r && (o.configurable = r.configurable), "enumerable" in r && (o.enumerable = r.enumerable), "writable" in r && (o.writable = r.writable, delete e.V[t], delete e.Y[t]), "value" in r ? (o.value = r.value, delete e.V[t], delete e.Y[t]) : n !== yt && (o.value = n, delete e.V[t], delete e.Y[t]);
        try {
          Object.defineProperty(e.h, t, o);
        } catch {
          I(this, this.j, "Cannot redefine property: " + t);
        }
        "get" in r && !r.get && delete e.V[t], "set" in r && !r.set && delete e.Y[t];
      } else {
        if (n === yt)
          throw ReferenceError("Value not specified");
        for (r = e; !(t in r.h); )
          if (r = Ie(this, r), !r) {
            r = e;
            break;
          }
        if (r.Y && r.Y[t])
          return this.Ka = !0, r.Y[t];
        if (r.V && r.V[t])
          o && I(this, this.j, "Cannot set property '" + t + "' of object '" + e + "' which only has a getter");
        else
          try {
            e.h[t] = n;
          } catch {
            o && I(this, this.j, "Cannot assign to read only property '" + t + "' of object '" + e + "'");
          }
      }
    else
      o && I(this, this.j, "Can't add property '" + t + "', object is not extensible");
  } else
    o && I(this, this.j, "Can't create property '" + t + "' on '" + e + "'");
};
V.g.ac = function() {
  throw Error("Placeholder getter");
};
V.g.bc = function() {
  throw Error("Placeholder setter");
};
function Z(e, t, n, r) {
  e.g(t.h.prototype, n, e.i(r, !1), C);
}
function pt(e, t, n, r) {
  e.g(t.h.prototype, n, e.ub(r), C);
}
function On(e) {
  if (e = e.o[e.o.length - 1].scope, !e)
    throw Error("No scope found");
  return e;
}
function Sn(e, t, n) {
  var r = !1;
  if (n && n.S)
    r = !0;
  else {
    var o = t.body && t.body[0];
    o && o.la && o.la.type === "Literal" && o.la.value === "use strict" && (r = !0);
  }
  return o = e.s(null), r = new Zr(n, r, o), n || gi(e, r.object), vt(e, t, r), r;
}
function Nn(e, t, n) {
  if (!t)
    throw Error("parentScope required");
  return e = n || e.s(null), new Zr(t, t.S, e);
}
function Bn(e, t) {
  for (var n = On(e); n && n !== e.N; ) {
    if (t in n.object.h)
      return n.object.h[t];
    n = n.Va;
  }
  if (n === e.N && Lt(e, n.object, t))
    return e.G(n.object, t);
  n = e.o[e.o.length - 1].node, n.type === "UnaryExpression" && n.operator === "typeof" || I(e, e.pb, t + " is not defined");
}
function Yr(e, t, n) {
  for (var r = On(e), o = r.S; r && r !== e.N; ) {
    if (t in r.object.h) {
      try {
        r.object.h[t] = n;
      } catch {
        o && I(e, e.j, "Cannot assign to read only variable '" + t + "'");
      }
      return;
    }
    r = r.Va;
  }
  if (r === e.N && (!o || Lt(e, r.object, t)))
    return e.g(r.object, t, n);
  I(e, e.pb, t + " is not defined");
}
function vt(e, t, n) {
  if (t.jb)
    var r = t.jb;
  else {
    switch (r = /* @__PURE__ */ Object.create(null), t.type) {
      case "VariableDeclaration":
        for (var o = 0; o < t.fa.length; o++)
          r[t.fa[o].id.name] = !0;
        break;
      case "FunctionDeclaration":
        r[t.id.name] = t;
        break;
      case "BlockStatement":
      case "CatchClause":
      case "DoWhileStatement":
      case "ForInStatement":
      case "ForStatement":
      case "IfStatement":
      case "LabeledStatement":
      case "Program":
      case "SwitchCase":
      case "SwitchStatement":
      case "TryStatement":
      case "WithStatement":
      case "WhileStatement":
        var i = t.constructor, s;
        for (s in t)
          if (s !== "loc") {
            var u = t[s];
            if (u && typeof u == "object") {
              if (Array.isArray(u)) {
                for (o = 0; o < u.length; o++)
                  if (u[o] && u[o].constructor === i) {
                    var c = vt(e, u[o], n);
                    for (s in c)
                      r[s] = c[s];
                  }
              } else if (u.constructor === i)
                for (s in c = vt(e, u, n), c)
                  r[s] = c[s];
            }
          }
    }
    t.jb = r;
  }
  for (s in r)
    r[s] === !0 ? e.g(n.object, s, void 0, Ir) : e.g(n.object, s, Pn(e, r[s], n), Ir);
  return r;
}
function Re(e) {
  return e.o[e.o.length - 1].isConstructor;
}
function jn(e, t) {
  return t[0] === Ye ? Bn(e, t[1]) : e.G(t[0], t[1]);
}
function Vn(e, t, n) {
  return t[0] === Ye ? Yr(e, t[1], n) : e.g(t[0], t[1], n);
}
function I(e, t, n) {
  throw e.N ? (n !== void 0 && t instanceof N && (t = e.Aa(t), bn(e, t, n)), bt(e, 4, t), Jr) : n === void 0 ? t : n;
}
function bt(e, t, n, r) {
  if (t === 0)
    throw TypeError("Should not unwind for NORMAL completions");
  var o = e.o;
  e:
    for (; 0 < o.length; o.pop()) {
      var i = o[o.length - 1];
      switch (i.node.type) {
        case "TryStatement":
          i.ea = {
            type: t,
            value: n,
            label: r
          };
          return;
        case "CallExpression":
        case "NewExpression":
          if (t === 3) {
            i.value = n;
            return;
          }
          if (t !== 4)
            throw Error("Unsynatctic break/continue not rejected by Acorn");
          break;
        case "Program":
          i.done = !0;
          break e;
      }
      if (t === 1) {
        if (r ? i.labels && i.labels.indexOf(r) !== -1 : i.W || i.Zb) {
          o.pop();
          return;
        }
      } else if (t === 2 && (r ? i.labels && i.labels.indexOf(r) !== -1 : i.W))
        return;
    }
  throw ne(e, n, e.D) ? (t = {
    EvalError,
    RangeError,
    ReferenceError,
    SyntaxError,
    TypeError,
    URIError
  }, r = String(e.G(n, "name")), o = e.G(n, "message").valueOf(), t = (t[r] || Error)(o), t.stack = String(e.G(n, "stack"))) : t = String(n), e.value = t, t;
}
function ae(e, t) {
  switch (t.type) {
    case "ArrayExpression":
      return "[...]";
    case "BinaryExpression":
    case "LogicalExpression":
      return ae(e, t.left) + " " + t.operator + " " + ae(e, t.right);
    case "CallExpression":
      return ae(e, t.callee) + "(...)";
    case "ConditionalExpression":
      return ae(e, t.test) + " ? " + ae(e, t.da) + " : " + ae(e, t.alternate);
    case "Identifier":
      return t.name;
    case "Literal":
      return t.raw;
    case "MemberExpression":
      var n = ae(e, t.object);
      return e = ae(e, t.Wa), t.bb ? n + "[" + e + "]" : n + "." + e;
    case "NewExpression":
      return "new " + ae(e, t.callee) + "(...)";
    case "ObjectExpression":
      return "{...}";
    case "ThisExpression":
      return "this";
    case "UnaryExpression":
      return t.operator + " " + ae(e, t.K);
    case "UpdateExpression":
      return n = ae(e, t.K), t.prefix ? t.operator + n : n + t.operator;
  }
  return "???";
}
function Ar(e, t, n) {
  var r = e.o[e.o.length - 1], o = Array.from(n), i = o.shift();
  n = Math.max(Number(o.shift() || 0), 0);
  var s = e.ya();
  if (i instanceof N && i.H === "Function") {
    var u = i;
    s.type = "CallExpression", r = r.scope;
  } else {
    try {
      var c = _e(String(i), "taskCode" + e.ic++);
    } catch (h) {
      I(e, e.T, "Invalid code: " + h.message);
    }
    s.type = "EvalProgram_", s.body = c.body, r = r.node.arguments[0], Wt(s, r ? r.start : void 0, r ? r.end : void 0), r = e.N, o.length = 0;
  }
  return t = new Ai(u, o, r, s, t ? n : -1), Qr(e, t, n), t.Db;
}
function Qr(e, t, n) {
  t.time = Date.now() + n, e.ca.push(t), e.ca.sort(function(r, o) {
    return r.time - o.time;
  });
}
function xr(e, t) {
  for (var n = 0; n < e.ca.length; n++)
    if (e.ca[n].Db == t) {
      e.ca.splice(n, 1);
      break;
    }
}
function St(e, t, n) {
  if (!e.P)
    throw Error("Unexpected call to createGetter");
  e.P = !1, n = Array.isArray(n) ? n[0] : n;
  var r = e.ya();
  return r.type = "CallExpression", e = new T(r, e.o[e.o.length - 1].scope), e.ia = 2, e.B = n, e.U = t, e.Qa = !0, e.F = [], e;
}
function Dn(e, t, n, r) {
  if (!e.Ka)
    throw Error("Unexpected call to createSetter");
  e.Ka = !1, n = Array.isArray(n) ? n[0] : e.Na;
  var o = e.ya();
  return o.type = "CallExpression", e = new T(o, e.o[e.o.length - 1].scope), e.ia = 2, e.B = n, e.U = t, e.Qa = !0, e.F = [r], e;
}
function dn(e, t) {
  return t == null ? e.Na : t instanceof N ? t : (e = e.s(Ie(e, t)), e.data = t, e);
}
V.Xb = function() {
  return this.N;
};
V.Yb = function() {
  return this.o;
};
V.ec = function(e) {
  this.o = e;
};
function T(e, t) {
  this.node = e, this.scope = t;
}
function Zr(e, t, n) {
  this.Va = e, this.S = t, this.object = n;
}
function N(e) {
  this.V = /* @__PURE__ */ Object.create(null), this.Y = /* @__PURE__ */ Object.create(null), this.h = /* @__PURE__ */ Object.create(null), this.xa = e;
}
V = N.prototype;
V.xa = null;
V.H = "Object";
V.data = null;
V.toString = function() {
  if (!ft)
    return "[object Interpreter.Object]";
  if (!(this instanceof N))
    return String(this);
  if (this.H === "Array") {
    var e = Rr;
    e.push(this);
    try {
      var t = [], n = this.h.length, r = !1;
      1024 < n && (n = 1e3, r = !0);
      for (var o = 0; o < n; o++) {
        var i = this.h[o];
        t[o] = i instanceof N && e.indexOf(i) !== -1 ? "..." : i;
      }
      r && t.push("...");
    } finally {
      e.pop();
    }
    return t.join(",");
  }
  if (this.H === "Error") {
    if (e = Rr, e.indexOf(this) !== -1)
      return "[object Error]";
    n = this;
    do
      if ("name" in n.h) {
        t = n.h.name;
        break;
      }
    while (n = n.xa);
    n = this;
    do
      if ("message" in n.h) {
        r = n.h.message;
        break;
      }
    while (n = n.xa);
    e.push(this);
    try {
      t = t && String(t), r = r && String(r);
    } finally {
      e.pop();
    }
    return r ? t + ": " + r : String(t);
  }
  return this.data !== null ? String(this.data) : "[object " + this.H + "]";
};
V.valueOf = function() {
  return !ft || this.data === void 0 || this.data === null || this.data instanceof RegExp ? this : this.data instanceof Date ? this.data.valueOf() : this.data;
};
function Ai(e, t, n, r, o) {
  this.zb = e, this.Lb = t, this.scope = n, this.node = r, this.interval = o, this.Db = ++xi, this.time = 0;
}
var xi = 0;
g.prototype.stepArrayExpression = function(e, t, n) {
  n = n.elements;
  var r = t.A || 0;
  for (t.Oa ? (this.g(t.Oa, r, t.value), r++) : (t.Oa = Je(this), t.Oa.h.length = n.length); r < n.length; ) {
    if (n[r])
      return t.A = r, new T(n[r], t.scope);
    r++;
  }
  e.pop(), e[e.length - 1].value = t.Oa;
};
g.prototype.stepAssignmentExpression = function(e, t, n) {
  if (!t.ja)
    return t.ja = !0, t = new T(n.left, t.scope), t.sa = !0, t;
  if (!t.Da)
    return t.Fa || (t.Fa = t.value), t.Ba && (t.ma = t.value), !t.Ba && n.operator !== "=" && (e = jn(this, t.Fa), t.ma = e, this.P) ? (t.Ba = !0, St(this, e, t.Fa)) : (t.Da = !0, n.operator === "=" && n.left.type === "Identifier" && (t.Pa = n.left.name), new T(n.right, t.scope));
  if (t.ta)
    e.pop(), e[e.length - 1].value = t.ib;
  else {
    var r = t.ma, o = t.value;
    switch (n.operator) {
      case "=":
        r = o;
        break;
      case "+=":
        r += o;
        break;
      case "-=":
        r -= o;
        break;
      case "*=":
        r *= o;
        break;
      case "/=":
        r /= o;
        break;
      case "%=":
        r %= o;
        break;
      case "<<=":
        r <<= o;
        break;
      case ">>=":
        r >>= o;
        break;
      case ">>>=":
        r >>>= o;
        break;
      case "&=":
        r &= o;
        break;
      case "^=":
        r ^= o;
        break;
      case "|=":
        r |= o;
        break;
      default:
        throw SyntaxError("Unknown assignment expression: " + n.operator);
    }
    if (n = Vn(this, t.Fa, r))
      return t.ta = !0, t.ib = r, Dn(this, n, t.Fa, r);
    e.pop(), e[e.length - 1].value = r;
  }
};
g.prototype.stepBinaryExpression = function(e, t, n) {
  if (!t.ja)
    return t.ja = !0, new T(n.left, t.scope);
  if (!t.Da)
    return t.Da = !0, t.ma = t.value, new T(n.right, t.scope);
  e.pop();
  var r = t.ma;
  switch (t = t.value, n.operator) {
    case "==":
      n = r == t;
      break;
    case "!=":
      n = r != t;
      break;
    case "===":
      n = r === t;
      break;
    case "!==":
      n = r !== t;
      break;
    case ">":
      n = r > t;
      break;
    case ">=":
      n = r >= t;
      break;
    case "<":
      n = r < t;
      break;
    case "<=":
      n = r <= t;
      break;
    case "+":
      n = r + t;
      break;
    case "-":
      n = r - t;
      break;
    case "*":
      n = r * t;
      break;
    case "/":
      n = r / t;
      break;
    case "%":
      n = r % t;
      break;
    case "&":
      n = r & t;
      break;
    case "|":
      n = r | t;
      break;
    case "^":
      n = r ^ t;
      break;
    case "<<":
      n = r << t;
      break;
    case ">>":
      n = r >> t;
      break;
    case ">>>":
      n = r >>> t;
      break;
    case "in":
      t instanceof N || I(this, this.j, "'in' expects an object, not '" + t + "'"), n = Lt(this, t, r);
      break;
    case "instanceof":
      ne(this, t, this.O) || I(this, this.j, "'instanceof' expects an object, not '" + t + "'"), n = r instanceof N ? ne(this, r, t) : !1;
      break;
    default:
      throw SyntaxError("Unknown binary operator: " + n.operator);
  }
  e[e.length - 1].value = n;
};
g.prototype.stepBlockStatement = function(e, t, n) {
  var r = t.A || 0;
  if (n = n.body[r])
    return t.A = r + 1, new T(n, t.scope);
  e.pop();
};
g.prototype.stepBreakStatement = function(e, t, n) {
  bt(this, 1, void 0, n.label && n.label.name);
};
g.prototype.Hb = 0;
g.prototype.stepCallExpression = function(e, t, n) {
  if (!t.ia) {
    t.ia = 1;
    var r = new T(n.callee, t.scope);
    return r.sa = !0, r;
  }
  if (t.ia === 1) {
    t.ia = 2;
    var o = t.value;
    if (Array.isArray(o)) {
      if (t.U = jn(this, o), o[0] === Ye ? t.Pb = o[1] === "eval" : t.B = o[0], o = t.U, this.P)
        return t.ia = 1, St(this, o, t.value);
    } else
      t.U = o;
    t.F = [], t.A = 0;
  }
  if (o = t.U, !t.Qa) {
    if (t.A !== 0 && t.F.push(t.value), n.arguments[t.A])
      return new T(n.arguments[t.A++], t.scope);
    if (n.type === "NewExpression") {
      if (o instanceof N && !o.Ab || I(this, this.j, ae(this, n.callee) + " is not a constructor"), o === this.qa)
        t.B = Je(this);
      else {
        var i = o.h.prototype;
        (typeof i != "object" || i === null) && (i = this.M), t.B = this.s(i);
      }
      t.isConstructor = !0;
    }
    t.Qa = !0;
  }
  if (t.eb)
    e.pop(), e[e.length - 1].value = t.isConstructor && typeof t.value != "object" ? t.B : t.value;
  else {
    if (t.eb = !0, o instanceof N || I(this, this.j, ae(this, n.callee) + " is not a function"), e = o.node) {
      for (n = Sn(this, e.body, o.Va), r = Je(this), o = 0; o < t.F.length; o++)
        this.g(r, o, t.F[o]);
      for (this.g(n.object, "arguments", r), o = 0; o < e.oa.length; o++)
        this.g(n.object, e.oa[o].name, t.F.length > o ? t.F[o] : void 0);
      return n.S || (t.B = dn(this, t.B)), this.g(n.object, "this", t.B, Rn), t.value = void 0, new T(e.body, n);
    }
    if (o.eval)
      if (o = t.F[0], typeof o != "string")
        t.value = o;
      else {
        try {
          r = _e(String(o), "eval" + this.Hb++);
        } catch (u) {
          I(this, this.T, "Invalid code: " + u.message);
        }
        return o = this.ya(), o.type = "EvalProgram_", o.body = r.body, Wt(o, n.start, n.end), n = t.Pb ? t.scope : this.N, n.S ? n = Sn(this, r, n) : vt(this, r, n), this.value = void 0, new T(o, n);
      }
    else if (o.Ta)
      t.scope.S || (t.B = dn(this, t.B)), t.value = o.Ta.apply(t.B, t.F);
    else if (o.Za) {
      var s = this;
      r = o.Za.length - 1, r = t.F.concat(Array(r)).slice(0, r), r.push(function(u) {
        t.value = u, s.za = !1;
      }), this.za = !0, t.scope.S || (t.B = dn(this, t.B)), o.Za.apply(t.B, r);
    } else
      I(this, this.j, ae(this, n.callee) + " is not callable");
  }
};
g.prototype.stepConditionalExpression = function(e, t, n) {
  var r = t.na || 0;
  if (r === 0)
    return t.na = 1, new T(n.test, t.scope);
  if (r === 1) {
    if (t.na = 2, (r = !!t.value) && n.da)
      return new T(n.da, t.scope);
    if (!r && n.alternate)
      return new T(n.alternate, t.scope);
    this.value = void 0;
  }
  e.pop(), n.type === "ConditionalExpression" && (e[e.length - 1].value = t.value);
};
g.prototype.stepContinueStatement = function(e, t, n) {
  bt(this, 2, void 0, n.label && n.label.name);
};
g.prototype.stepDebuggerStatement = function(e) {
  e.pop();
};
g.prototype.stepDoWhileStatement = function(e, t, n) {
  if (n.type === "DoWhileStatement" && t.ga === void 0 && (t.value = !0, t.ga = !0), !t.ga)
    return t.ga = !0, new T(n.test, t.scope);
  if (!t.value)
    e.pop();
  else if (n.body)
    return t.ga = !1, t.W = !0, new T(n.body, t.scope);
};
g.prototype.stepEmptyStatement = function(e) {
  e.pop();
};
g.prototype.stepEvalProgram_ = function(e, t, n) {
  var r = t.A || 0;
  if (n = n.body[r])
    return t.A = r + 1, new T(n, t.scope);
  e.pop(), e[e.length - 1].value = this.value;
};
g.prototype.stepExpressionStatement = function(e, t, n) {
  if (!t.ka)
    return this.value = void 0, t.ka = !0, new T(n.la, t.scope);
  e.pop(), this.value = t.value;
};
g.prototype.stepForInStatement = function(e, t, n) {
  if (!t.Ub && (t.Ub = !0, n.left.fa && n.left.fa[0].ua))
    return t.scope.S && I(this, this.T, "for-in loop variable declaration may not have an initializer"), new T(n.left, t.scope);
  if (!t.Ca)
    return t.Ca = !0, t.pa || (t.pa = t.value), new T(n.right, t.scope);
  if (t.W || (t.W = !0, t.u = t.value, t.kb = /* @__PURE__ */ Object.create(null)), t.Ra === void 0)
    e:
      for (; ; ) {
        if (t.u instanceof N)
          for (t.wa || (t.wa = Object.getOwnPropertyNames(t.u.h)); ; ) {
            var r = t.wa.shift();
            if (r === void 0)
              break;
            if (Object.prototype.hasOwnProperty.call(t.u.h, r) && !t.kb[r] && (t.kb[r] = !0, Object.prototype.propertyIsEnumerable.call(t.u.h, r))) {
              t.Ra = r;
              break e;
            }
          }
        else if (t.u !== null && t.u !== void 0) {
          for (t.wa || (t.wa = Object.getOwnPropertyNames(t.u)); r = t.wa.shift(), r !== void 0; )
            if (t.kb[r] = !0, Object.prototype.propertyIsEnumerable.call(t.u, r)) {
              t.Ra = r;
              break e;
            }
        }
        if (t.u = Ie(this, t.u), t.wa = null, t.u === null) {
          e.pop();
          return;
        }
      }
  if (!t.wb)
    if (t.wb = !0, e = n.left, e.type === "VariableDeclaration")
      t.pa = [Ye, e.fa[0].id.name];
    else
      return t.pa = null, t = new T(e, t.scope), t.sa = !0, t;
  if (t.pa || (t.pa = t.value), !t.ta && (t.ta = !0, e = t.Ra, r = Vn(this, t.pa, e)))
    return Dn(this, r, t.pa, e);
  if (t.Ra = void 0, t.wb = !1, t.ta = !1, n.body)
    return new T(n.body, t.scope);
};
g.prototype.stepForStatement = function(e, t, n) {
  switch (t.na) {
    default:
      if (t.na = 1, n.ua)
        return new T(n.ua, t.scope);
      break;
    case 1:
      if (t.na = 2, n.test)
        return new T(n.test, t.scope);
      break;
    case 2:
      if (t.na = 3, n.test && !t.value)
        e.pop();
      else
        return t.W = !0, new T(n.body, t.scope);
      break;
    case 3:
      if (t.na = 1, n.update)
        return new T(n.update, t.scope);
  }
};
g.prototype.stepFunctionDeclaration = function(e) {
  e.pop();
};
g.prototype.stepFunctionExpression = function(e, t, n) {
  e.pop(), t = e[e.length - 1], e = t.scope, n.id && (e = Nn(this, e)), t.value = Pn(this, n, e, t.Pa), n.id && this.g(e.object, n.id.name, t.value, Rn);
};
g.prototype.stepIdentifier = function(e, t, n) {
  if (e.pop(), t.sa)
    e[e.length - 1].value = [Ye, n.name];
  else {
    if (t = Bn(this, n.name), this.P)
      return St(this, t, this.Na);
    e[e.length - 1].value = t;
  }
};
g.prototype.stepIfStatement = g.prototype.stepConditionalExpression;
g.prototype.stepLabeledStatement = function(e, t, n) {
  return e.pop(), e = t.labels || [], e.push(n.label.name), t = new T(n.body, t.scope), t.labels = e, t;
};
g.prototype.stepLiteral = function(e, t, n) {
  e.pop(), t = n.value, t instanceof RegExp && (n = this.s(this.Ma), xn(this, n, t), t = n), e[e.length - 1].value = t;
};
g.prototype.stepLogicalExpression = function(e, t, n) {
  if (n.operator !== "&&" && n.operator !== "||")
    throw SyntaxError("Unknown logical operator: " + n.operator);
  if (!t.ja)
    return t.ja = !0, new T(n.left, t.scope);
  if (t.Da)
    e.pop(), e[e.length - 1].value = t.value;
  else if (n.operator === "&&" && !t.value || n.operator === "||" && t.value)
    e.pop(), e[e.length - 1].value = t.value;
  else
    return t.Da = !0, new T(n.right, t.scope);
};
g.prototype.stepMemberExpression = function(e, t, n) {
  if (!t.Ca)
    return t.Ca = !0, new T(n.object, t.scope);
  if (n.bb)
    if (t.Vb)
      n = t.value;
    else
      return t.u = t.value, t.Vb = !0, new T(n.Wa, t.scope);
  else
    t.u = t.value, n = n.Wa.name;
  if (e.pop(), t.sa)
    e[e.length - 1].value = [t.u, n];
  else {
    if (n = this.G(t.u, n), this.P)
      return St(this, n, t.u);
    e[e.length - 1].value = n;
  }
};
g.prototype.stepNewExpression = g.prototype.stepCallExpression;
g.prototype.stepObjectExpression = function(e, t, n) {
  var r = t.A || 0, o = n.h[r];
  if (t.u) {
    var i = t.Pa;
    t.Ja[i] || (t.Ja[i] = {}), t.Ja[i][o.kind] = t.value, t.A = ++r, o = n.h[r];
  } else
    t.u = this.s(this.M), t.Ja = /* @__PURE__ */ Object.create(null);
  if (o) {
    var s = o.key;
    if (s.type === "Identifier")
      i = s.name;
    else if (s.type === "Literal")
      i = s.value;
    else
      throw SyntaxError("Unknown object structure: " + s.type);
    return t.Pa = i, new T(o.value, t.scope);
  }
  for (s in t.Ja)
    n = t.Ja[s], "get" in n || "set" in n ? this.g(t.u, s, yt, {
      configurable: !0,
      enumerable: !0,
      get: n.get,
      set: n.set
    }) : this.g(t.u, s, n.init);
  e.pop(), e[e.length - 1].value = t.u;
};
g.prototype.stepProgram = function(e, t, n) {
  if (e = n.body.shift())
    return t.done = !1, new T(e, t.scope);
  t.done = !0;
};
g.prototype.stepReturnStatement = function(e, t, n) {
  if (n.K && !t.ka)
    return t.ka = !0, new T(n.K, t.scope);
  bt(this, 3, t.value);
};
g.prototype.stepSequenceExpression = function(e, t, n) {
  var r = t.A || 0;
  if (n = n.xb[r])
    return t.A = r + 1, new T(n, t.scope);
  e.pop(), e[e.length - 1].value = t.value;
};
g.prototype.stepSwitchStatement = function(e, t, n) {
  if (!t.ga)
    return t.ga = 1, new T(n.Qb, t.scope);
  for (t.ga === 1 && (t.ga = 2, t.hc = t.value, t.cb = -1); ; ) {
    var r = t.gb || 0, o = n.tb[r];
    if (t.Ha || !o || o.test)
      if (o || t.Ha || t.cb === -1)
        if (o) {
          if (!t.Ha && !t.Fb && o.test)
            return t.Fb = !0, new T(o.test, t.scope);
          if (t.Ha || t.value === t.hc) {
            t.Ha = !0;
            var i = t.A || 0;
            if (o.da[i])
              return t.Zb = !0, t.A = i + 1, new T(o.da[i], t.scope);
          }
          t.Fb = !1, t.A = 0, t.gb = r + 1;
        } else {
          e.pop();
          break;
        }
      else
        t.Ha = !0, t.gb = t.cb;
    else
      t.cb = r, t.gb = r + 1;
  }
};
g.prototype.stepThisExpression = function(e) {
  e.pop(), e[e.length - 1].value = Bn(this, "this");
};
g.prototype.stepThrowStatement = function(e, t, n) {
  if (t.ka)
    I(this, t.value);
  else
    return t.ka = !0, new T(n.K, t.scope);
};
g.prototype.stepTryStatement = function(e, t, n) {
  if (!t.Rb)
    return t.Rb = !0, new T(n.block, t.scope);
  if (t.ea && t.ea.type === 4 && !t.Tb && n.Ea)
    return t.Tb = !0, e = Nn(this, t.scope), this.g(e.object, n.Ea.Ua.name, t.ea.value), t.ea = void 0, new T(n.Ea.body, e);
  if (!t.Sb && n.fb)
    return t.Sb = !0, new T(n.fb, t.scope);
  e.pop(), t.ea && bt(this, t.ea.type, t.ea.value, t.ea.label);
};
g.prototype.stepUnaryExpression = function(e, t, n) {
  if (!t.ka)
    return t.ka = !0, e = new T(n.K, t.scope), e.sa = n.operator === "delete", e;
  e.pop();
  var r = t.value;
  switch (n.operator) {
    case "-":
      r = -r;
      break;
    case "+":
      r = +r;
      break;
    case "!":
      r = !r;
      break;
    case "~":
      r = ~r;
      break;
    case "delete":
      if (n = !0, Array.isArray(r)) {
        var o = r[0];
        o === Ye && (o = t.scope), r = String(r[1]);
        try {
          delete o.h[r];
        } catch {
          t.scope.S ? I(this, this.j, "Cannot delete property '" + r + "' of '" + o + "'") : n = !1;
        }
      }
      r = n;
      break;
    case "typeof":
      r = r && r.H === "Function" ? "function" : typeof r;
      break;
    case "void":
      r = void 0;
      break;
    default:
      throw SyntaxError("Unknown unary operator: " + n.operator);
  }
  e[e.length - 1].value = r;
};
g.prototype.stepUpdateExpression = function(e, t, n) {
  if (!t.ja)
    return t.ja = !0, e = new T(n.K, t.scope), e.sa = !0, e;
  if (t.Ga || (t.Ga = t.value), t.Ba && (t.ma = t.value), !t.Ba) {
    var r = jn(this, t.Ga);
    if (t.ma = r, this.P)
      return t.Ba = !0, St(this, r, t.Ga);
  }
  if (t.ta)
    e.pop(), e[e.length - 1].value = t.ib;
  else {
    if (r = Number(t.ma), n.operator === "++")
      var o = r + 1;
    else if (n.operator === "--")
      o = r - 1;
    else
      throw SyntaxError("Unknown update expression: " + n.operator);
    if (n = n.prefix ? o : r, r = Vn(this, t.Ga, o))
      return t.ta = !0, t.ib = n, Dn(this, r, t.Ga, o);
    e.pop(), e[e.length - 1].value = n;
  }
};
g.prototype.stepVariableDeclaration = function(e, t, n) {
  n = n.fa;
  var r = t.A || 0, o = n[r];
  for (t.Bb && o && (Yr(this, o.id.name, t.value), t.Bb = !1, o = n[++r]); o; ) {
    if (o.ua)
      return t.A = r, t.Bb = !0, t.Pa = o.id.name, new T(o.ua, t.scope);
    o = n[++r];
  }
  e.pop();
};
g.prototype.stepWithStatement = function(e, t, n) {
  return t.Ca ? (e.pop(), e = Nn(this, t.scope, t.value), new T(n.body, e)) : (t.Ca = !0, new T(n.object, t.scope));
};
g.prototype.stepWhileStatement = g.prototype.stepDoWhileStatement;
Ne.Interpreter = g;
g.prototype.step = g.prototype.lb;
g.prototype.run = g.prototype.Eb;
g.prototype.appendCode = g.prototype.Jb;
g.prototype.createObject = g.prototype.Aa;
g.prototype.createObjectProto = g.prototype.s;
g.prototype.createAsyncFunction = g.prototype.ub;
g.prototype.createNativeFunction = g.prototype.i;
g.prototype.getProperty = g.prototype.G;
g.prototype.setProperty = g.prototype.g;
g.prototype.nativeToPseudo = g.prototype.Ia;
g.prototype.pseudoToNative = g.prototype.R;
g.prototype.getGlobalScope = g.prototype.Xb;
g.prototype.getStateStack = g.prototype.Yb;
g.prototype.setStateStack = g.prototype.ec;
g.VALUE_IN_DESCRIPTOR = yt;
function $i() {
  const e = g.prototype.getProperty, t = g.prototype.setProperty;
  function n(s, u) {
    if (s == null || !s._connected)
      return e.call(this, s, u);
    const c = s._connected[u];
    return Array.isArray(c) ? this.nativeToPseudo(c) : typeof c == "object" ? this.createConnectedObject(c) : c;
  }
  function r(s, u, c, h) {
    if (s == null || !s._connected)
      return t.call(this, s, u, c, h);
    s._connected[u] = this.pseudoToNative(c);
  }
  const o = [], i = [];
  for (const s of Object.keys(g.prototype))
    g.prototype[s] === e && o.push(s), g.prototype[s] === t && i.push(s);
  for (const s of o)
    g.prototype[s] = n;
  for (const s of i)
    g.prototype[s] = r;
  g.prototype.createConnectedObject = function(s) {
    const u = this.createObject(this.OBJECT);
    return u._connected = s, u;
  };
}
$i();
const Pi = (e) => e.replace(/^.*?function main\(\)/, `
var __awaiter = function (e, t, n, r) {return r()},
__generator = function (e, t) { return t() };
function main()`).replace(/\?\./g, "."), $r = (e) => e + "JSON", Oi = ({
  builder: e,
  context: t,
  event: n,
  rootState: r,
  localState: o,
  rootSetState: i,
  code: s
}) => {
  const u = In({
    rootState: r,
    localState: o,
    rootSetState: i
  }), c = _r({
    builder: e,
    context: t,
    event: n,
    state: u
  }), h = c.map(([x]) => {
    const H = $r(x);
    return x === "state" ? "" : `var ${x} = ${H} === undefined ? undefined : JSON.parse(${H});`;
  }).join(`
`), y = Pi(s);
  if (y === "")
    return;
  const b = `
function theFunction() {
  ${h}

  ${y}
}
theFunction();
`, m = function(x, H) {
    c.forEach(([te, E]) => {
      if (te === "state")
        x.setProperty(H, te, x.createConnectedObject(E), x.READONLY_DESCRIPTOR);
      else {
        const D = JSON.stringify(E);
        x.setProperty(H, $r(te), D);
      }
    });
  }, S = new g(b, m);
  return S.run(), S.pseudoToNative(S.value);
}, Be = (e) => e != null;
function Ni() {
  var e;
  return typeof process < "u" && Be((e = process == null ? void 0 : process.versions) == null ? void 0 : e.node);
}
const Bi = ({
  shouldLogWarning: e
}) => {
  var o;
  if (!Ni())
    return !1;
  const t = process.arch === "arm64", n = process.version.startsWith("v20"), r = (o = process.env.NODE_OPTIONS) == null ? void 0 : o.includes("--no-node-snapshot");
  return t && n && !r ? (e && ue.log("Skipping usage of `isolated-vm` to avoid crashes in Node v20 on an arm64 machine.\n    If you would like to use the `isolated-vm` package on this machine, please provide the `NODE_OPTIONS=--no-node-snapshot` config to your Node process.\n    See https://github.com/BuilderIO/builder/blob/main/packages/sdks/README.md#node-v20--m1-macs-apple-silicon-support for more information.\n    "), !0) : !1;
}, ji = (e) => M() || Bi({
  shouldLogWarning: !0
}) ? fi(e) : Oi(e), Vi = /^(return )?(\s*)?state(?<getPath>(\.\w+)+)(\s*);?$/, Di = /(\s)*var(\s)+_virtual_index(\s)*=(\s)*state(?<getPath>(\.\w+)+)(\s*);?(\s)*return(\s)*_virtual_index(\s)*/, Ui = (e) => {
  var t, n, r, o, i, s;
  return ((r = (n = (t = Vi.exec(e.trim())) == null ? void 0 : t.groups) == null ? void 0 : n.getPath) == null ? void 0 : r.slice(1)) || ((s = (i = (o = Di.exec(e.trim())) == null ? void 0 : o.groups) == null ? void 0 : i.getPath) == null ? void 0 : s.slice(1));
};
function kt({
  code: e,
  context: t,
  localState: n,
  rootState: r,
  rootSetState: o,
  event: i,
  isExpression: s = !0
}) {
  if (e.trim() === "")
    return;
  const u = Ui(e.trim());
  if (u)
    return Kr({
      ...r,
      ...n
    }, u);
  const c = {
    code: di(e, {
      isExpression: s
    }),
    builder: pi(),
    context: t,
    event: i,
    rootSetState: o,
    rootState: r,
    localState: n
  };
  try {
    return ji(c);
  } catch (h) {
    ue.error("Failed code evaluation: " + h.message, {
      code: e
    });
    return;
  }
}
function Wi(e, t) {
  var n;
  return {
    ...(n = e.component) == null ? void 0 : n.options,
    ...e.options,
    ...Li(e, t)
  };
}
const Li = (e, t) => {
  var n, r;
  if (((n = e.component) == null ? void 0 : n.name) === "Text" && ((r = e.component.options) != null && r.text) && typeof e.component.options.text == "string")
    return {
      ...e.component.options,
      text: e.component.options.text.replace(/{{([^}]+)}}/g, (o, i) => kt({
        code: i,
        context: t,
        localState: t.localState,
        rootState: t.rootState,
        rootSetState: t.rootSetState
      }))
    };
};
function Fi(e, ...t) {
  const n = Object.assign({}, e);
  for (const r of t)
    delete n[r];
  return n;
}
function jt(e, t, n = null, r = null, o = /* @__PURE__ */ new WeakSet()) {
  if (e == null || typeof e != "object") {
    t(e, (i) => {
      n !== null && r !== null && (n[r] = i);
    });
    return;
  }
  o.has(e) || (o.add(e), Array.isArray(e) ? e.forEach((i, s) => {
    t(i, (c) => {
      e[s] = c;
    }), jt(i, t, e, s, o);
  }) : Object.entries(e).forEach(([i, s]) => {
    t(s, (c) => {
      e[i] = c;
    }), jt(s, t, e, i, o);
  }));
}
function eo(e) {
  return e && typeof e == "object" && e["@type"] === "@builder.io/core:LocalizedValue";
}
function Mi(e) {
  if (!e || !Object.getOwnPropertyNames(e).length)
    return !1;
  let t = !1;
  return jt(e, (n) => {
    if (eo(n)) {
      t = !0;
      return;
    }
  }), t;
}
function Hi(e, t) {
  return !e || !Object.getOwnPropertyNames(e).length ? {} : (jt(e, (n, r) => {
    eo(n) && r(n[t] ?? void 0);
  }), e);
}
function Ki(e, t) {
  var n, r;
  return (n = e.component) != null && n.options && Mi((r = e.component) == null ? void 0 : r.options) && (t || console.warn("[Builder.io] In order to use localized fields in Builder, you must pass a locale prop to the BuilderComponent or to options object while fetching the content to resolve localized fields. Learn more: https://www.builder.io/c/docs/localization-inline#targeting-and-inline-localization"), e.component.options = Hi(e.component.options, t ?? "Default")), e;
}
const Un = (e) => JSON.parse(JSON.stringify(e)), to = (e, t, n) => {
  if (Object(e) !== e)
    return e;
  const r = Array.isArray(t) ? t : t.toString().match(/[^.[\]]+/g);
  return r.slice(0, -1).reduce((o, i, s) => Object(o[i]) === o[i] ? o[i] : o[i] = Math.abs(Number(r[s + 1])) >> 0 === +r[s + 1] ? [] : {}, e)[r[r.length - 1]] = n, e;
};
function kn(e) {
  if (e === null || typeof e != "object")
    return e;
  if (Array.isArray(e))
    return e.map((n) => kn(n));
  if (e["@type"] === "@builder.io/sdk:Element")
    return e;
  const t = {};
  for (const n in e)
    n !== "meta" && Object.prototype.hasOwnProperty.call(e, n) && (t[n] = kn(e[n]));
  return t;
}
const zi = ["svelte", "vue", "angular", "qwik", "solid"].includes(G), qi = (e) => {
  if (zi) {
    const t = Un(e);
    return {
      ...t,
      properties: {
        ...t.properties
      },
      actions: {
        ...t.actions
      }
    };
  } else {
    const t = kn(Fi(e, "children", "meta"));
    return {
      ...t,
      properties: {
        ...t.properties
      },
      actions: {
        ...t.actions
      },
      children: e.children,
      meta: e.meta
    };
  }
}, Gi = ({
  block: e,
  context: t,
  localState: n,
  rootState: r,
  rootSetState: o
}) => {
  if (!e.bindings)
    return e;
  const i = qi(e);
  for (const s in e.bindings) {
    const u = e.bindings[s], c = kt({
      code: u,
      localState: n,
      rootState: r,
      rootSetState: o,
      context: t
    });
    to(i, s, c);
  }
  return i;
};
function _i({
  block: e,
  context: t,
  localState: n,
  rootState: r,
  rootSetState: o
}) {
  let i = e;
  return i = Gi({
    block: i,
    localState: n,
    rootState: r,
    rootSetState: o,
    context: t
  }), i = Ki(i, r.locale), i;
}
function Wn(e) {
  const t = e || (M() ? window.location.search : void 0);
  return t ? qr(t).indexOf("builder.preview=") !== -1 : !1;
}
const Ji = (e) => ({
  type: "builder.registerComponent",
  data: Vt(e)
}), Xi = (e) => {
  const t = e.toString().trim(), n = /^[a-zA-Z0-9_]+\s*=>/i.test(t);
  return `return (${!t.startsWith("function") && !t.startsWith("async") && !t.startsWith("(") && !n ? "function " : ""}${t}).apply(this, arguments)`;
};
function Vt(e) {
  return JSON.parse(JSON.stringify(e, (t, n) => typeof n == "function" ? Xi(n) : n));
}
const Pr = {};
function ec(e, t) {
  e === "plugin" && (t = Vt(t));
  let n = Pr[e];
  if (n || (n = Pr[e] = []), n.push(t), M()) {
    const r = {
      type: "builder.register",
      data: {
        type: e,
        info: t
      }
    };
    try {
      parent.postMessage(r, "*"), parent !== window && window.postMessage(r, "*");
    } catch (o) {
      console.debug("Could not postmessage", o);
    }
  }
}
function tc(e) {
  var t;
  if (M()) {
    const n = JSON.parse(JSON.stringify(e));
    e.action && (n.action = e.action.toString()), (t = window.parent) == null || t.postMessage({
      type: "builder.registerAction",
      data: n
    }, "*");
  }
}
const Or = {};
function nc(e) {
  if (M()) {
    Object.assign(Or, e);
    const t = {
      type: "builder.settingsChange",
      data: Or
    };
    parent.postMessage(t, "*");
  }
}
const Nr = "builder.", Yi = "options.", no = (e) => {
  if (!e)
    return {};
  const t = zr(e), n = {};
  return Object.keys(t).forEach((r) => {
    if (r.startsWith(Nr)) {
      const o = r.replace(Nr, "").replace(Yi, "");
      n[o] = t[r];
    }
  }), n;
}, Qi = () => {
  if (!M())
    return {};
  const e = new URLSearchParams(window.location.search);
  return no(e);
}, ro = "4.2.3", oo = () => ({
  "X-Builder-SDK": G,
  "X-Builder-SDK-GEN": "2",
  "X-Builder-SDK-Version": ro
}), Zi = (e) => {
  if (e === "localhost" || e === "127.0.0.1")
    return e;
  const t = e.split(".");
  return t.length > 2 ? t.slice(1).join(".") : e;
}, Ft = ({
  name: e,
  canTrack: t
}) => {
  var n;
  try {
    return t ? (n = document.cookie.split("; ").find((r) => r.startsWith(`${e}=`))) == null ? void 0 : n.split("=")[1] : void 0;
  } catch (r) {
    ue.warn("[COOKIE] GET error: ", (r == null ? void 0 : r.message) || r);
    return;
  }
}, io = async (e) => Ft(e), es = (e) => e.map(([t, n]) => n ? `${t}=${n}` : t).filter(Be).join("; "), ts = [["secure", ""], ["SameSite", "None"]], ns = ({
  name: e,
  value: t,
  expires: n
}) => {
  const o = (M() ? location.protocol === "https:" : !0) ? ts : [[]], i = n ? [["expires", n.toUTCString()]] : [[]], s = [[e, t], ...i, ["path", "/"], ["domain", Zi(window.location.hostname)], ...o];
  return es(s);
}, Ln = async ({
  name: e,
  value: t,
  expires: n,
  canTrack: r
}) => {
  try {
    if (!r)
      return;
    const o = ns({
      name: e,
      value: t,
      expires: n
    });
    document.cookie = o;
  } catch (o) {
    ue.warn("[COOKIE] SET error: ", (o == null ? void 0 : o.message) || o);
  }
};
function rs() {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
    const t = Math.random() * 16 | 0;
    return (e == "x" ? t : t & 3 | 8).toString(16);
  });
}
function so() {
  return rs().replace(/-/g, "");
}
const ao = "builderSessionId", os = async ({
  canTrack: e
}) => {
  if (!e)
    return;
  const t = await io({
    name: ao,
    canTrack: e
  });
  if (Be(t))
    return t;
  {
    const n = is();
    return ss({
      id: n,
      canTrack: e
    }), n;
  }
}, is = () => so(), ss = ({
  id: e,
  canTrack: t
}) => Ln({
  name: ao,
  value: e,
  canTrack: t
}), lo = () => M() && typeof localStorage < "u" ? localStorage : void 0, as = ({
  key: e,
  canTrack: t
}) => {
  var n;
  try {
    return t ? (n = lo()) == null ? void 0 : n.getItem(e) : void 0;
  } catch (r) {
    console.debug("[LocalStorage] GET error: ", r);
    return;
  }
}, ls = ({
  key: e,
  canTrack: t,
  value: n
}) => {
  var r;
  try {
    t && ((r = lo()) == null || r.setItem(e, n));
  } catch (o) {
    console.debug("[LocalStorage] SET error: ", o);
  }
}, uo = "builderVisitorId", us = ({
  canTrack: e
}) => {
  if (!e)
    return;
  const t = as({
    key: uo,
    canTrack: e
  });
  if (Be(t))
    return t;
  {
    const n = cs();
    return ps({
      id: n,
      canTrack: e
    }), n;
  }
}, cs = () => so(), ps = ({
  id: e,
  canTrack: t
}) => ls({
  key: uo,
  value: e,
  canTrack: t
});
function Fn(e) {
  var t;
  typeof process < "u" && ((t = process.env) != null && t.DEBUG) && String(process.env.DEBUG) == "true" && ue.log(e);
}
const ds = async ({
  canTrack: e
}) => {
  if (!e)
    return {
      visitorId: void 0,
      sessionId: void 0
    };
  const t = await os({
    canTrack: e
  }), n = us({
    canTrack: e
  });
  return {
    sessionId: t,
    visitorId: n
  };
}, fs = async ({
  type: e,
  canTrack: t,
  apiKey: n,
  metadata: r,
  ...o
}) => ({
  type: e,
  data: {
    ...o,
    metadata: {
      url: location.href,
      ...r
    },
    ...await ds({
      canTrack: t
    }),
    userAttributes: Gr(),
    ownerId: n
  }
});
async function Cn({
  apiHost: e,
  ...t
}) {
  if (!t.apiKey) {
    ue.error("Missing API key for track call. Please provide your API key.");
    return;
  }
  if (!t.canTrack || oe() || !(M() || G === "reactNative"))
    return;
  const r = `${e || "https://cdn.builder.io"}/api/v1/track`;
  return Fn(r), fetch(r, {
    method: "POST",
    body: JSON.stringify({
      events: [await fs(t)]
    }),
    headers: {
      "content-type": "application/json",
      ...oo()
    },
    mode: "cors"
  }).catch((o) => {
    console.error("Failed to track: ", o);
  });
}
const rc = (e) => Cn({
  ...e,
  canTrack: !0
}), hs = ["*.beta.builder.io", "beta.builder.io", "builder.io", "localhost", "qa.builder.io"];
function co(e, t) {
  if (!t.origin.startsWith("http") && !t.origin.startsWith("https"))
    return !1;
  const n = new URL(t.origin), r = n.hostname;
  return (e || hs).findIndex((o) => o.startsWith("*.") ? r.endsWith(o.slice(1)) : o === r) > -1;
}
let Br = !1;
const po = (e) => {
  var t, n;
  Br || (Br = !0, M() && ((t = window.parent) == null || t.postMessage({
    type: "builder.sdkInfo",
    data: {
      target: G,
      version: ro,
      supportsPatchUpdates: !1,
      // Supports builder-model="..." attribute which is needed to
      // scope our '+ add block' button styling
      supportsAddBlockScoping: !0,
      supportsCustomBreakpoints: !0,
      modelName: e.modelName,
      apiKey: e.apiKey,
      supportsXSmallBreakpoint: !0,
      blockLevelPersonalization: !0
    }
  }, "*"), (n = window.parent) == null || n.postMessage({
    type: "builder.updateContent",
    data: {
      options: e
    }
  }, "*"), window.addEventListener("message", (r) => {
    var i, s;
    if (!co(e.trustedHosts, r))
      return;
    const {
      data: o
    } = r;
    if (o != null && o.type)
      switch (o.type) {
        case "builder.evaluate": {
          const u = o.data.text, c = o.data.arguments || [], h = o.data.id, y = new Function(u);
          let b, m = null;
          try {
            b = y.apply(null, c);
          } catch (S) {
            m = S;
          }
          m ? (i = window.parent) == null || i.postMessage({
            type: "builder.evaluateError",
            data: {
              id: h,
              error: m.message
            }
          }, "*") : b && typeof b.then == "function" ? b.then((S) => {
            var A;
            (A = window.parent) == null || A.postMessage({
              type: "builder.evaluateResult",
              data: {
                id: h,
                result: S
              }
            }, "*");
          }).catch(console.error) : (s = window.parent) == null || s.postMessage({
            type: "builder.evaluateResult",
            data: {
              result: b,
              id: h
            }
          }, "*");
          break;
        }
      }
  })));
}, fo = ({
  model: e,
  trustedHosts: t,
  callbacks: n
}) => (r) => {
  if (!co(t, r))
    return;
  const {
    data: o
  } = r;
  if (o)
    switch (o.type) {
      case "builder.configureSdk": {
        n.configureSdk(o.data);
        break;
      }
      case "builder.triggerAnimation": {
        n.animation(o.data);
        break;
      }
      case "builder.resetState": {
        const i = o.data, s = i.model, u = i == null ? void 0 : i.state, c = i.editType;
        s === e && u && n.stateUpdate(u, c);
        break;
      }
      case "builder.contentUpdate": {
        const i = o.data, s = i.key || i.alias || i.entry || i.modelName, u = i.data, c = i.editType;
        s === e && n.contentUpdate(u, c);
        break;
      }
    }
}, oc = ({
  model: e,
  apiKey: t,
  callback: n,
  trustedHosts: r
}) => {
  if (!M)
    return ue.warn("`subscribeToEditor` only works in the browser. It currently seems to be running on the server."), () => {
    };
  po({
    modelName: e,
    apiKey: t
  });
  const o = fo({
    callbacks: {
      contentUpdate: n,
      animation: () => {
      },
      configureSdk: () => {
      },
      stateUpdate: () => {
      }
    },
    model: e,
    trustedHosts: r
  });
  return window.addEventListener("message", o), () => {
    window.removeEventListener("message", o);
  };
}, ms = "builder.tests", Mn = (e) => `${ms}.${e}`, gs = ({
  contentId: e
}) => io({
  name: Mn(e),
  canTrack: !0
}), ys = ({
  contentId: e
}) => Ft({
  name: Mn(e),
  canTrack: !0
}), vs = ({
  contentId: e,
  value: t
}) => Ln({
  name: Mn(e),
  value: t,
  canTrack: !0
}), ho = (e) => Be(e.id) && Be(e.variations) && Object.keys(e.variations).length > 0, bs = ({
  id: e,
  variations: t
}) => {
  var o;
  let n = 0;
  const r = Math.random();
  for (const i in t) {
    const s = (o = t[i]) == null ? void 0 : o.testRatio;
    if (n += s, r < n)
      return i;
  }
  return e;
}, mo = (e) => {
  const t = bs(e);
  return vs({
    contentId: e.id,
    value: t
  }).catch((n) => {
    ue.error("could not store A/B test variation: ", n);
  }), t;
}, go = ({
  item: e,
  testGroupId: t
}) => {
  const n = e.variations[t];
  return t === e.id || // handle edge-case where `testGroupId` points to non-existing variation
  !n ? {
    testVariationId: e.id,
    testVariationName: "Default"
  } : {
    data: n.data,
    testVariationId: n.id,
    testVariationName: n.name || (n.id === e.id ? "Default" : "")
  };
}, Ss = ({
  item: e,
  canTrack: t
}) => {
  if (!t)
    return e;
  if (!e)
    return;
  if (!ho(e))
    return e;
  const n = ys({
    contentId: e.id
  }) || mo({
    variations: e.variations,
    id: e.id
  }), r = go({
    item: e,
    testGroupId: n
  });
  return {
    ...e,
    ...r
  };
}, ks = async ({
  item: e,
  canTrack: t
}) => {
  if (!t || !ho(e))
    return e;
  const r = await gs({
    contentId: e.id
  }) || mo({
    variations: e.variations,
    id: e.id
  }), o = go({
    item: e,
    testGroupId: r
  });
  return {
    ...e,
    ...o
  };
};
const jr = "builder.userAttributes";
function Vr() {
  let e = !0;
  const t = /* @__PURE__ */ new Set();
  return {
    setUserAttributes(n) {
      if (!M())
        return;
      const r = {
        ...this.getUserAttributes(),
        ...n
      };
      Ln({
        name: jr,
        value: JSON.stringify(r),
        canTrack: e
      }), t.forEach((o) => o(r));
    },
    getUserAttributes() {
      return M() ? JSON.parse(Ft({
        name: jr,
        canTrack: e
      }) || "{}") : {};
    },
    subscribeOnUserAttributesChange(n, {
      fireImmediately: r
    } = {}) {
      return t.add(n), r && n(this.getUserAttributes()), function() {
        t.delete(n);
      };
    },
    setCanTrack(n) {
      e = n;
    }
  };
}
let wn;
M() && G === "qwik" ? (window.__BUILDER_USER_ATTRIBUTES_SERVICE__ || (window.__BUILDER_USER_ATTRIBUTES_SERVICE__ = Vr()), wn = window.__BUILDER_USER_ATTRIBUTES_SERVICE__) : wn = Vr();
const Dt = wn, ic = (e) => {
  Dt.setUserAttributes(e);
}, Xe = (e) => {
  const t = Be(e) ? e : !0;
  return Dt.setCanTrack(t), t;
};
function Cs() {
  return typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : globalThis;
}
function ws() {
  const e = Cs().fetch;
  if (typeof e > "u")
    throw console.warn(`Builder SDK could not find a global fetch function. Make sure you have a polyfill for fetch in your project. 
      For more information, read https://github.com/BuilderIO/this-package-uses-fetch`), new Error("Builder SDK could not find a global `fetch` function");
  return e;
}
const Ts = ws();
function Tn(e, t = null, n = ".") {
  return Object.keys(e).reduce((r, o) => {
    const i = e[o], s = [t, o].filter(Boolean).join(n);
    return [typeof i == "object", i !== null, !(Array.isArray(i) && i.length === 0)].every(Boolean) ? {
      ...r,
      ...Tn(i, s, n)
    } : {
      ...r,
      [s]: i
    };
  }, {});
}
function yo(e, t, n = {}) {
  for (const r in e) {
    const o = e[r], i = t ? t + "." + r : r;
    o && typeof o == "object" && !Array.isArray(o) && !Object.keys(o).find((s) => s.startsWith("$")) ? yo(o, i, n) : n[i] = o;
  }
  return n;
}
function Es(e) {
  const t = {};
  for (const n in e) {
    const r = n.split(".");
    let o = t;
    for (let i = 0; i < r.length; i++) {
      const s = r[i];
      i === r.length - 1 ? o[s] = e[n] : (o[s] = o[s] || {}, o = o[s]);
    }
  }
  return t;
}
const Is = "v3", Dr = (e) => typeof e == "number" && !isNaN(e) && e >= 0, Hn = (e) => {
  const {
    limit: t = 30,
    userAttributes: n,
    query: r,
    model: o,
    apiKey: i,
    enrich: s,
    locale: u,
    apiVersion: c = Is,
    fields: h,
    omit: y,
    offset: b,
    cacheSeconds: m,
    staleCacheSeconds: S,
    sort: A,
    includeUnpublished: x,
    apiHost: H
  } = e;
  if (!i)
    throw new Error("Missing API key");
  if (!["v3"].includes(c))
    throw new Error(`Invalid apiVersion: expected 'v3', received '${c}'`);
  const te = t !== 1, E = H || "https://cdn.builder.io", D = new URL(`${E}/api/${c}/content/${o}`);
  D.searchParams.set("apiKey", i), D.searchParams.set("limit", String(t)), D.searchParams.set("noTraverse", String(te)), D.searchParams.set("includeRefs", String(!0)), u && D.searchParams.set("locale", u);
  let ie = n || {};
  if (s && D.searchParams.set("enrich", String(s)), D.searchParams.set("omit", y ?? "meta.componentsUsed"), h && D.searchParams.set("fields", h), Number.isFinite(b) && b > -1 && D.searchParams.set("offset", String(Math.floor(b))), typeof x == "boolean" && D.searchParams.set("includeUnpublished", String(x)), m && Dr(m) && D.searchParams.set("cacheSeconds", String(m)), S && Dr(S) && D.searchParams.set("staleCacheSeconds", String(S)), A) {
    const _ = Tn({
      sort: A
    });
    for (const R in _)
      D.searchParams.set(R, JSON.stringify(_[R]));
  }
  const Ae = {
    ...Qi(),
    ...zr(e.options || {})
  };
  ie = {
    ...ie,
    ...As(Ae)
  };
  const K = Tn(Ae);
  for (const _ in K)
    D.searchParams.set(_, String(K[_]));
  if (Object.keys(ie).length > 0 && D.searchParams.set("userAttributes", JSON.stringify(ie)), r) {
    const _ = yo({
      query: r
    });
    for (const R in _)
      D.searchParams.set(R, JSON.stringify(_[R]));
  }
  return D;
}, Rs = (e) => {
  const t = {};
  for (const n in e)
    n.startsWith("userAttributes.") && (t[n] = e[n], delete e[n]);
  return t;
}, As = (e) => {
  if (M() && e.preview === "BUILDER_STUDIO") {
    e["userAttributes.urlPath"] = window.location.pathname, e["userAttributes.host"] = window.location.host;
    const t = Rs(e), {
      userAttributes: n
    } = Es(t);
    return n;
  }
  return {};
}, xs = (e) => "results" in e;
async function Kn(e) {
  var r;
  const t = e.locale || ((r = e.userAttributes) == null ? void 0 : r.locale);
  t && (e.locale = t, e.userAttributes = {
    locale: t,
    ...e.userAttributes
  });
  const n = await Os({
    ...e,
    limit: 1
  });
  return n && n[0] || null;
}
const $s = async (e) => {
  var s;
  const t = Hn(e), n = e.fetch ?? Ts, r = {
    ...e.fetchOptions,
    headers: {
      ...(s = e.fetchOptions) == null ? void 0 : s.headers,
      ...oo()
    }
  };
  return await (await n(t.href, r)).json();
}, Ps = async (e, t, n = Hn(e)) => {
  const r = Xe(e.canTrack);
  if (n.search.includes("preview="), !r || !(M() || G === "reactNative"))
    return t.results;
  try {
    const o = [];
    for (const i of t.results)
      o.push(await ks({
        item: i,
        canTrack: r
      }));
    t.results = o;
  } catch (o) {
    ue.error("Could not process A/B tests. ", o);
  }
  return t.results;
};
async function Os(e) {
  const t = Hn(e), n = await $s(e);
  if (!xs(n))
    throw ue.error("Error fetching data. ", {
      url: t,
      content: n,
      options: e
    }), n;
  return Ps(e, n);
}
const sc = async (e) => {
  var r, o, i;
  const t = e.path || ((r = e.url) == null ? void 0 : r.pathname) || ((o = e.userAttributes) == null ? void 0 : o.urlPath), n = {
    ...e,
    apiKey: e.apiKey,
    model: e.model || "page",
    userAttributes: {
      ...e.userAttributes,
      ...t ? {
        urlPath: t
      } : {}
    },
    options: no(e.searchParams || ((i = e.url) == null ? void 0 : i.searchParams) || e.options)
  };
  return {
    apiKey: n.apiKey,
    model: n.model,
    content: await Kn(n)
  };
}, zn = (e) => e ? e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g, "$1-$2").toLowerCase() : "";
function Ns(e, t, n = {}) {
  let r, o, i, s = null, u = 0;
  const c = function() {
    u = n.leading === !1 ? 0 : Date.now(), s = null, i = e.apply(r, o), s || (r = o = null);
  };
  return function() {
    const h = Date.now();
    !u && n.leading === !1 && (u = h);
    const y = t - (h - u);
    return r = this, o = arguments, y <= 0 || y > t ? (s && (clearTimeout(s), s = null), u = h, i = e.apply(r, o), s || (r = o = null)) : !s && n.trailing !== !1 && (s = setTimeout(c, y)), i;
  };
}
function mt(e, ...t) {
  const n = Object(e);
  for (let r = 1; r < arguments.length; r++) {
    const o = arguments[r];
    if (o != null)
      for (const i in o)
        Object.prototype.hasOwnProperty.call(o, i) && (n[i] = o[i]);
  }
  return n;
}
function Bs(e) {
  for (const t of e)
    switch (t.trigger) {
      case "pageLoad":
        So(t);
        break;
      case "scrollInView":
        Vs(t);
        break;
    }
}
function vo(e) {
  console.warn(`Cannot animate element: element with ID ${e} not found!`);
}
function bo(e, t) {
  const n = js(e), r = getComputedStyle(t), o = e.steps[0].styles, i = e.steps[e.steps.length - 1].styles, s = [o, i];
  for (const u of s)
    for (const c of n)
      c in u || (u[c] = r[c]);
}
function js(e) {
  const t = [];
  for (const n of e.steps)
    for (const r in n.styles)
      t.indexOf(r) === -1 && t.push(r);
  return t;
}
function So(e) {
  const t = Array.prototype.slice.call(document.getElementsByClassName(e.elementId || e.id || ""));
  if (!t.length) {
    vo(e.elementId || e.id || "");
    return;
  }
  Array.from(t).forEach((n) => {
    bo(e, n), n.style.transition = "none", n.style.transitionDelay = "0", mt(n.style, e.steps[0].styles), setTimeout(() => {
      n.style.transition = `all ${e.duration}s ${zn(e.easing)}`, e.delay && (n.style.transitionDelay = e.delay + "s"), mt(n.style, e.steps[1].styles), setTimeout(() => {
        n.style.transition = "", n.style.transitionDelay = "";
      }, (e.delay || 0) * 1e3 + e.duration * 1e3 + 100);
    });
  });
}
function Vs(e) {
  const t = Array.prototype.slice.call(document.getElementsByClassName(e.elementId || e.id || ""));
  if (!t.length) {
    vo(e.elementId || e.id || "");
    return;
  }
  Array.from(t).forEach((n) => {
    bo(e, n);
    let r = !1, o = !1;
    function i() {
      !r && u(n) ? (r = !0, o = !0, setTimeout(() => {
        mt(n.style, e.steps[1].styles), e.repeat || document.removeEventListener("scroll", s), setTimeout(() => {
          o = !1, e.repeat || (n.style.transition = "", n.style.transitionDelay = "");
        }, (e.duration + (e.delay || 0)) * 1e3 + 100);
      })) : e.repeat && r && !o && !u(n) && (r = !1, mt(n.style, e.steps[0].styles));
    }
    const s = Ns(i, 200, {
      leading: !1
    });
    function u(y) {
      const b = y.getBoundingClientRect(), m = window.innerHeight, A = (e.thresholdPercent || 0) / 100 * m;
      return b.bottom > A && b.top < m - A;
    }
    const c = e.steps[0].styles;
    function h() {
      mt(n.style, c);
    }
    h(), setTimeout(() => {
      n.style.transition = `all ${e.duration}s ${zn(e.easing)}`, e.delay && (n.style.transitionDelay = e.delay + "s");
    }), document.addEventListener("scroll", s, {
      capture: !0,
      passive: !0
    }), i();
  });
}
const ko = (e) => Object.entries(e).map(([n, r]) => {
  if (typeof r == "string")
    return `${zn(n)}: ${r};`;
}).filter(Be), Ds = (e) => ko(e).join(`
`), ac = ({
  mediaQuery: e,
  className: t,
  styles: n
}) => {
  const r = `.${t} {
    ${Ds(n)}
  }`;
  return e ? `${e} {
      ${r}
    }` : r;
};
function Us({
  style: e
}) {
  return e;
}
const lc = ({
  block: e,
  context: t
}) => Co(Us({
  style: e.style || {},
  context: t,
  block: e
}));
function Co(e) {
  switch (G) {
    case "svelte":
    case "vue":
    case "solid":
    case "angular":
      return ko(e).join(" ");
    case "qwik":
    case "reactNative":
    case "react":
    case "rsc":
      return e;
  }
}
const wo = (e, t) => e ? t ? e.models && e.models.length > 0 && !e.models.includes(t) : !1 : !0, Ws = ({
  block: e,
  registeredComponents: t,
  model: n
}) => {
  var i;
  const r = (i = e.component) == null ? void 0 : i.name;
  if (!r)
    return null;
  const o = t[r];
  if (!o || wo(o, n)) {
    console.warn(`
      Could not find a registered component named "${r}". 
      If you registered it, is the file that registered it imported by the file that needs to render it?`);
    return;
  } else
    return o;
}, Ls = ({
  block: e,
  context: t
}) => {
  const {
    repeat: n,
    ...r
  } = e;
  if (!(n != null && n.collection))
    return;
  const o = kt({
    code: n.collection,
    localState: t.localState,
    rootState: t.rootState,
    rootSetState: t.rootSetState,
    context: t.context
  });
  if (!Array.isArray(o))
    return;
  const i = n.collection.split(".").pop(), s = n.itemName || (i ? i + "Item" : "item");
  return o.map((c, h) => ({
    context: {
      ...t,
      localState: {
        ...t.localState,
        $index: h,
        $item: c,
        [s]: c,
        [`$${s}Index`]: h
      }
    },
    block: r
  }));
}, Fs = (e, t) => {
  var n;
  return (n = e == null ? void 0 : e.shouldReceiveBuilderProps) != null && n.builderLinkComponent ? {
    builderLinkComponent: t
  } : {};
}, Ms = (e, t, n) => {
  var r;
  return (r = e == null ? void 0 : e.shouldReceiveBuilderProps) != null && r.builderComponents ? {
    builderComponents: Object.fromEntries(Object.entries(t).filter(([i, s]) => !wo(s, n)))
  } : {};
}, Hs = (e, t) => {
  var n;
  return (n = e == null ? void 0 : e.shouldReceiveBuilderProps) != null && n.builderBlock ? {
    builderBlock: t
  } : {};
}, Ks = (e, t) => {
  var n;
  return (n = e == null ? void 0 : e.shouldReceiveBuilderProps) != null && n.builderContext ? {
    builderContext: t
  } : {};
}, zs = (e) => e.toString(), qs = () => Promise.resolve().then(() => sa).then((e) => e.default).catch((e) => {
  throw console.error(
    "Error while attempting to dynamically import component DynamicDiv at ../dynamic-div.vue",
    e
  ), e;
}), Gs = () => import("./block-wrapper-hc1D57Il.js").then((e) => e.default).catch((e) => {
  throw console.error(
    "Error while attempting to dynamically import component BlockWrapper at ./components/block-wrapper.vue",
    e
  ), e;
}), _s = () => import("./component-ref-__eNmb_i.js").then((e) => e.default).catch((e) => {
  throw console.error(
    "Error while attempting to dynamically import component ComponentRef at ./components/component-ref/component-ref.vue",
    e
  ), e;
}), Js = () => import("./repeated-block-i0HNWVX0.js").then((e) => e.default).catch((e) => {
  throw console.error(
    "Error while attempting to dynamically import component RepeatedBlock at ./components/repeated-block.vue",
    e
  ), e;
}), Xs = () => import("./style-wrapper-mI3PSijR.js").then((e) => e.default).catch((e) => {
  throw console.error(
    "Error while attempting to dynamically import component StyleWrapper at ./components/style-wrapper.vue",
    e
  ), e;
}), Ys = B({
  name: "block",
  components: {
    StyleWrapper: st(Xs),
    RepeatedBlock: st(Js),
    ComponentRef: st(_s),
    BlockWrapper: st(Gs),
    DynamicDiv: st(qs)
  },
  props: ["block", "context", "registeredComponents", "linkComponent"],
  data() {
    return {
      _processedBlock: {
        value: null,
        update: !1
      },
      generateKey: zs
    };
  },
  mounted() {
    const e = this.processedBlock.id, t = this.processedBlock.animations;
    t && e && Bs(
      t.map((n) => ({
        ...n,
        elementId: e
      }))
    );
  },
  updated() {
  },
  computed: {
    repeatItem() {
      return Ls({
        block: this.block,
        context: this.context
      });
    },
    processedBlock() {
      var t;
      return (t = this.block.repeat) != null && t.collection ? this.block : _i({
        block: this.block,
        localState: this.context.localState,
        rootState: this.context.rootState,
        rootSetState: this.context.rootSetState,
        context: this.context.context
      });
    },
    blockComponent() {
      return Ws({
        block: this.processedBlock,
        registeredComponents: this.registeredComponents,
        model: this.context.model
      });
    },
    Tag() {
      var t;
      return this.block.tagName === "a" || ((t = this.processedBlock.properties) == null ? void 0 : t.href) || this.processedBlock.href ? this.linkComponent || "a" : this.block.tagName || "div";
    },
    canShowBlock() {
      var n, r;
      if ((n = this.block.repeat) != null && n.collection)
        return !!((r = this.repeatItem) != null && r.length);
      const e = "hide" in this.processedBlock ? this.processedBlock.hide : !1;
      return ("show" in this.processedBlock ? this.processedBlock.show : !0) && !e;
    },
    childrenWithoutParentComponent() {
      var t;
      return !((t = this.blockComponent) != null && t.component) && !this.repeatItem ? this.processedBlock.children ?? [] : [];
    },
    componentRefProps() {
      var e, t, n;
      return {
        blockChildren: this.processedBlock.children ?? [],
        componentRef: (e = this.blockComponent) == null ? void 0 : e.component,
        componentOptions: {
          ...Wi(this.processedBlock, this.context),
          ...Hs(this.blockComponent, this.processedBlock),
          ...Ks(this.blockComponent, this.context),
          ...Fs(this.blockComponent, this.linkComponent),
          ...Ms(
            this.blockComponent,
            this.registeredComponents,
            this.context.model
          )
        },
        context: this.context,
        linkComponent: this.linkComponent,
        registeredComponents: this.registeredComponents,
        builderBlock: this.processedBlock,
        includeBlockProps: ((t = this.blockComponent) == null ? void 0 : t.noWrap) === !0,
        isInteractive: !((n = this.blockComponent) != null && n.isRSC && G === "rsc")
      };
    }
  }
});
function Qs(e, t, n, r, o, i) {
  var b;
  const s = W("StyleWrapper"), u = W("ComponentRef"), c = W("Block", !0), h = W("BlockWrapper"), y = W("RepeatedBlock");
  return e.canShowBlock ? (v(), w(z, { key: 0 }, [
    ee(s, {
      block: e.processedBlock,
      context: e.context,
      id: e.block.id
    }, null, 8, ["block", "context", "id"]),
    (b = e.blockComponent) != null && b.noWrap ? (v(), w(z, { key: 1 }, [
      e.repeatItem ? (v(!0), w(z, { key: 1 }, ve(e.repeatItem, (m, S) => (v(), U(y, {
        key: e.generateKey(S),
        repeatContext: m.context,
        block: m.block,
        registeredComponents: e.registeredComponents,
        linkComponent: e.linkComponent
      }, null, 8, ["repeatContext", "block", "registeredComponents", "linkComponent"]))), 128)) : (v(), U(u, {
        key: 0,
        componentRef: e.componentRefProps.componentRef,
        componentOptions: e.componentRefProps.componentOptions,
        blockChildren: e.componentRefProps.blockChildren,
        context: e.componentRefProps.context,
        registeredComponents: e.componentRefProps.registeredComponents,
        linkComponent: e.componentRefProps.linkComponent,
        builderBlock: e.componentRefProps.builderBlock,
        includeBlockProps: e.componentRefProps.includeBlockProps,
        isInteractive: e.componentRefProps.isInteractive
      }, null, 8, ["componentRef", "componentOptions", "blockChildren", "context", "registeredComponents", "linkComponent", "builderBlock", "includeBlockProps", "isInteractive"]))
    ], 64)) : (v(), w(z, { key: 0 }, [
      e.repeatItem ? (v(!0), w(z, { key: 1 }, ve(e.repeatItem, (m, S) => (v(), U(y, {
        key: e.generateKey(S),
        repeatContext: m.context,
        block: m.block,
        registeredComponents: e.registeredComponents,
        linkComponent: e.linkComponent
      }, null, 8, ["repeatContext", "block", "registeredComponents", "linkComponent"]))), 128)) : (v(), U(h, {
        key: 0,
        Wrapper: e.Tag,
        block: e.processedBlock,
        context: e.context
      }, {
        default: me(() => [
          ee(u, {
            componentRef: e.componentRefProps.componentRef,
            componentOptions: e.componentRefProps.componentOptions,
            blockChildren: e.componentRefProps.blockChildren,
            context: e.componentRefProps.context,
            registeredComponents: e.componentRefProps.registeredComponents,
            linkComponent: e.componentRefProps.linkComponent,
            builderBlock: e.componentRefProps.builderBlock,
            includeBlockProps: e.componentRefProps.includeBlockProps,
            isInteractive: e.componentRefProps.isInteractive
          }, null, 8, ["componentRef", "componentOptions", "blockChildren", "context", "registeredComponents", "linkComponent", "builderBlock", "includeBlockProps", "isInteractive"]),
          (v(!0), w(z, null, ve(e.childrenWithoutParentComponent, (m, S) => (v(), U(c, {
            key: m.id,
            block: m,
            registeredComponents: e.registeredComponents,
            linkComponent: e.linkComponent,
            context: e.context
          }, null, 8, ["block", "registeredComponents", "linkComponent", "context"]))), 128))
        ]),
        _: 1
      }, 8, ["Wrapper", "block", "context"]))
    ], 64))
  ], 64)) : F("", !0);
}
const To = /* @__PURE__ */ j(Ys, [["render", Qs]]), uc = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: To
}, Symbol.toStringTag, { value: "Module" })), Zs = B({
  name: "builder-blocks-wrapper",
  props: [
    "blocks",
    "classNameProp",
    "path",
    "parent",
    "styleProp",
    "BlocksWrapperProps",
    "BlocksWrapper"
  ],
  data() {
    return { shouldUpdate: !1 };
  },
  mounted() {
  },
  watch: {
    onUpdateHook0: { handler() {
    }, immediate: !0 }
  },
  computed: {
    className() {
      var e;
      return [
        "builder-blocks",
        (e = this.blocks) != null && e.length ? "" : "no-blocks",
        this.classNameProp
      ].filter(Boolean).join(" ");
    },
    dataPath() {
      if (!this.path)
        return;
      const e = "this.", t = "component.options.";
      return this.path.startsWith(e) ? this.path.replace(e, "") : this.path.startsWith(t) ? this.path : `${t}${this.path || ""}`;
    },
    onUpdateHook0() {
      return {
        0: this.blocks
      };
    }
  },
  methods: {
    onClick() {
      var e, t;
      oe() && !((e = this.blocks) != null && e.length) && ((t = window.parent) == null || t.postMessage(
        {
          type: "builder.clickEmptyBlocks",
          data: {
            parentElementId: this.parent,
            dataPath: this.dataPath
          }
        },
        "*"
      ));
    },
    onMouseEnter() {
      var e, t;
      oe() && !((e = this.blocks) != null && e.length) && ((t = window.parent) == null || t.postMessage(
        {
          type: "builder.hoverEmptyBlocks",
          data: {
            parentElementId: this.parent,
            dataPath: this.dataPath
          }
        },
        "*"
      ));
    }
  }
});
function ea(e, t, n, r, o, i) {
  return v(), U(dt(e.BlocksWrapper), q({
    ref: "blocksWrapperRef",
    class: e.className + " component-5vz8uirn7sc",
    "builder-path": e.dataPath,
    "builder-parent-id": e.parent,
    style: e.styleProp,
    onClick: (s) => e.onClick(),
    onMouseEnter: (s) => e.onMouseEnter(),
    onKeyPress: (s) => e.onClick()
  }, { ...e.BlocksWrapperProps }), {
    default: me(() => [
      pe(e.$slots, "default", {}, void 0, !0)
    ]),
    _: 3
  }, 16, ["class", "builder-path", "builder-parent-id", "style", "onClick", "onMouseEnter", "onKeyPress"]);
}
const ta = /* @__PURE__ */ j(Zs, [["render", ea], ["__scopeId", "data-v-82fc93d6"]]), na = B({
  name: "builder-blocks",
  components: { BlocksWrapper: ta, Block: To },
  props: [
    "blocks",
    "parent",
    "path",
    "styleProp",
    "BlocksWrapperProps",
    "context",
    "className",
    "linkComponent",
    "registeredComponents"
  ],
  inject: {
    builderContext: yn.key,
    componentsContext: Hr.key
  }
});
function ra(e, t, n, r, o, i) {
  var c, h, y, b;
  const s = W("Block"), u = W("BlocksWrapper");
  return v(), U(u, {
    blocks: e.blocks,
    parent: e.parent,
    path: e.path,
    styleProp: e.styleProp,
    BlocksWrapperProps: e.BlocksWrapperProps || ((c = e.context) == null ? void 0 : c.BlocksWrapperProps) || ((h = e.builderContext) == null ? void 0 : h.BlocksWrapperProps),
    classNameProp: e.className,
    BlocksWrapper: ((y = e.context) == null ? void 0 : y.BlocksWrapper) || ((b = e.builderContext) == null ? void 0 : b.BlocksWrapper)
  }, {
    default: me(() => [
      pe(e.$slots, "default"),
      e.blocks ? (v(!0), w(z, { key: 0 }, ve(e.blocks, (m, S) => {
        var A;
        return v(), U(s, {
          key: m.id,
          block: m,
          linkComponent: e.linkComponent,
          context: e.context || e.builderContext,
          registeredComponents: e.registeredComponents || ((A = e.componentsContext) == null ? void 0 : A.registeredComponents)
        }, null, 8, ["block", "linkComponent", "context", "registeredComponents"]);
      }), 128)) : F("", !0)
    ]),
    _: 3
  }, 8, ["blocks", "parent", "path", "styleProp", "BlocksWrapperProps", "classNameProp", "BlocksWrapper"]);
}
const Ue = /* @__PURE__ */ j(na, [["render", ra]]), oa = B({
  name: "dynamic-div",
  props: []
});
function ia(e, t, n, r, o, i) {
  return v(), w("div", null, [
    pe(e.$slots, "default")
  ]);
}
const Ct = /* @__PURE__ */ j(oa, [["render", ia]]), sa = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: Ct
}, Symbol.toStringTag, { value: "Module" })), Mt = B({
  render() {
    return Mr("style", {
      innerHTML: this.styles,
      "data-id": this.id,
      nonce: this.nonce
    });
  },
  name: "inlined-styles",
  props: ["styles", "id", "nonce"]
}), Eo = {
  xsmall: {
    min: 0,
    default: 160,
    max: 320
  },
  small: {
    min: 321,
    default: 321,
    max: 640
  },
  medium: {
    min: 641,
    default: 642,
    max: 991
  },
  large: {
    min: 990,
    default: 991,
    max: 1200
  }
}, cc = (e, t = Eo) => `@media (max-width: ${t[e].max}px)`, aa = (e) => {
  const t = Un(Eo);
  if (!e)
    return t;
  const {
    xsmall: n,
    small: r,
    medium: o
  } = e;
  if (n) {
    const c = Math.floor(n / 2);
    t.xsmall = {
      max: n,
      min: c,
      default: c + 1
    };
  }
  if (!r || !o)
    return t;
  const i = n ? t.xsmall.max + 1 : Math.floor(r / 2);
  t.small = {
    max: r,
    min: i,
    default: i + 1
  };
  const s = t.small.max + 1;
  t.medium = {
    max: o,
    min: s,
    default: s + 1
  };
  const u = t.medium.max + 1;
  return t.large = {
    max: 2e3,
    // TODO: decide upper limit
    min: u,
    default: u + 1
  }, t;
}, la = (e) => `builder-columns ${e}-breakpoints`, ua = B({
  name: "builder-columns",
  components: {
    InlinedStyles: Mt,
    DynamicRenderer: En,
    Blocks: Ue,
    DynamicDiv: Ct
  },
  props: [
    "space",
    "columns",
    "stackColumnsAt",
    "builderLinkComponent",
    "reverseColumnsWhenStacked",
    "builderContext",
    "builderBlock",
    "builderComponents"
  ],
  data() {
    return { TARGET: G, getColumnsClass: la };
  },
  computed: {
    gutterSize() {
      return typeof this.space == "number" ? this.space || 0 : 20;
    },
    cols() {
      return this.columns || [];
    },
    stackAt() {
      return this.stackColumnsAt || "tablet";
    },
    flexDir() {
      return this.stackColumnsAt === "never" ? "row" : this.reverseColumnsWhenStacked ? "column-reverse" : "column";
    }
  },
  methods: {
    getTagName(e) {
      return e.link ? this.builderLinkComponent || "a" : "div";
    },
    getWidth(e) {
      var t;
      return ((t = this.cols[e]) == null ? void 0 : t.width) || 100 / this.cols.length;
    },
    getColumnCssWidth(e) {
      const t = this.getWidth(e), n = this.gutterSize * (this.cols.length - 1) * (t / 100);
      return `calc(${t}% - ${n}px)`;
    },
    getTabletStyle({
      stackedStyle: e,
      desktopStyle: t
    }) {
      return this.stackAt === "tablet" ? e : t;
    },
    getMobileStyle({
      stackedStyle: e,
      desktopStyle: t
    }) {
      return this.stackAt === "never" ? t : e;
    },
    columnsCssVars() {
      return {
        "--flex-dir": this.flexDir,
        "--flex-dir-tablet": this.getTabletStyle({
          stackedStyle: this.flexDir,
          desktopStyle: "row"
        })
      };
    },
    columnCssVars(e) {
      const t = e === 0 ? 0 : this.gutterSize, n = this.getColumnCssWidth(e), r = `${t}px`, o = "100%", i = 0;
      return {
        ...{
          display: "flex",
          flexDirection: "column",
          alignItems: "stretch"
        },
        width: n,
        ["margin-left"]: r,
        "--column-width-mobile": this.getMobileStyle({
          stackedStyle: o,
          desktopStyle: n
        }),
        "--column-margin-left-mobile": this.getMobileStyle({
          stackedStyle: i,
          desktopStyle: r
        }),
        "--column-width-tablet": this.getTabletStyle({
          stackedStyle: o,
          desktopStyle: n
        }),
        "--column-margin-left-tablet": this.getTabletStyle({
          stackedStyle: i,
          desktopStyle: r
        })
      };
    },
    getWidthForBreakpointSize(e) {
      var n, r;
      return aa(
        ((r = (n = this.builderContext.content) == null ? void 0 : n.meta) == null ? void 0 : r.breakpoints) || {}
      )[e].max;
    },
    columnsStyles() {
      const e = `.${this.builderBlock.id}-breakpoints > .builder-column`;
      return `
        @media (max-width: ${this.getWidthForBreakpointSize("medium")}px) {
          .${this.builderBlock.id}-breakpoints {
            flex-direction: var(--flex-dir-tablet);
            align-items: stretch;
          }

          ${e} {
            width: var(--column-width-tablet) !important;
            margin-left: var(--column-margin-left-tablet) !important;
          }
        }

        @media (max-width: ${this.getWidthForBreakpointSize("small")}px) {
          .${this.builderBlock.id}-breakpoints {
            flex-direction: var(--flex-dir);
            align-items: stretch;
          }

          ${e} {
            width: var(--column-width-mobile) !important;
            margin-left: var(--column-margin-left-mobile) !important;
          }
        },
      `;
    },
    getAttributes(e, t) {
      return {
        ...e.link ? {
          href: e.link
        } : {},
        [Oe()]: "builder-column",
        style: Co(this.columnCssVars(t))
      };
    }
  }
});
function ca(e, t, n, r, o, i) {
  var h;
  const s = W("InlinedStyles"), u = W("Blocks"), c = W("DynamicRenderer");
  return v(), w("div", q({
    class: e.getColumnsClass((h = e.builderBlock) == null ? void 0 : h.id) + " div-1be3j8m9ewb",
    style: e.columnsCssVars()
  }, {}), [
    e.TARGET !== "reactNative" ? (v(), U(s, {
      key: 0,
      id: "builderio-columns",
      styles: e.columnsStyles(),
      nonce: e.builderContext.nonce
    }, null, 8, ["styles", "nonce"])) : F("", !0),
    (v(!0), w(z, null, ve(e.columns, (y, b) => (v(), U(c, {
      key: b,
      TagName: e.getTagName(y),
      actionAttributes: {},
      attributes: e.getAttributes(y, b)
    }, {
      default: me(() => [
        ee(u, {
          path: `columns.${b}.blocks`,
          parent: e.builderBlock.id,
          context: e.builderContext,
          registeredComponents: e.builderComponents,
          linkComponent: e.builderLinkComponent,
          blocks: y.blocks,
          styleProp: {
            flexGrow: "1"
          }
        }, null, 8, ["path", "parent", "context", "registeredComponents", "linkComponent", "blocks"])
      ]),
      _: 2
    }, 1032, ["TagName", "attributes"]))), 128))
  ], 16);
}
const pa = /* @__PURE__ */ j(ua, [["render", ca], ["__scopeId", "data-v-ab15749a"]]), da = B({
  name: "builder-fragment-component",
  props: []
});
function fa(e, t, n, r, o, i) {
  return v(), w("span", null, [
    pe(e.$slots, "default")
  ]);
}
const ha = /* @__PURE__ */ j(da, [["render", fa]]);
function Ur(e) {
  return e.replace(/http(s)?:/, "");
}
function ma(e = "", t, n) {
  const r = new RegExp("([?&])" + t + "=.*?(&|$)", "i"), o = e.indexOf("?") !== -1 ? "&" : "?";
  return e.match(r) ? e.replace(r, "$1" + t + "=" + encodeURIComponent(n) + "$2") : e + o + t + "=" + encodeURIComponent(n);
}
function ga(e, t) {
  if (!e || !(e != null && e.match(/cdn\.shopify\.com/)) || !t)
    return e;
  if (t === "master")
    return Ur(e);
  const n = e.match(/(_\d+x(\d+)?)?(\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?)/i);
  if (n) {
    const r = e.split(n[0]), o = n[3], i = t.match("x") ? t : `${t}x`;
    return Ur(`${r[0]}_${i}${o}`);
  }
  return null;
}
function Ot(e) {
  if (!e)
    return e;
  const t = [100, 200, 400, 800, 1200, 1600, 2e3];
  if (e.match(/builder\.io/)) {
    let n = e;
    const r = Number(e.split("?width=")[1]);
    return isNaN(r) || (n = `${n} ${r}w`), t.filter((o) => o !== r).map((o) => `${ma(e, "width", o)} ${o}w`).concat([n]).join(", ");
  }
  return e.match(/cdn\.shopify\.com/) ? t.map((n) => [ga(e, `${n}x${n}`), n]).filter(([n]) => !!n).map(([n, r]) => `${n} ${r}w`).concat([e]).join(", ") : e;
}
const ya = B({
  name: "builder-image",
  props: [
    "lazy",
    "image",
    "src",
    "srcset",
    "noWebp",
    "aspectRatio",
    "highPriority",
    "altText",
    "title",
    "backgroundPosition",
    "backgroundSize",
    "className",
    "sizes",
    "builderBlock",
    "fitContent"
  ],
  computed: {
    srcSetToUse() {
      var n;
      const t = this.image || this.src;
      if (!t || // We can auto add srcset for cdn.builder.io and shopify
      // images, otherwise you can supply this prop manually
      !(typeof t == "string" && (t.match(/builder\.io/) || t.match(/cdn\.shopify\.com/))))
        return this.srcset;
      if (!this.noWebp) {
        if (this.srcset && ((n = this.image) != null && n.includes("builder.io/api/v1/image"))) {
          if (!this.srcset.includes(this.image.split("?")[0]))
            return console.debug("Removed given srcset"), Ot(t);
        } else if (this.image && !this.srcset)
          return Ot(t);
        return Ot(t);
      }
    },
    webpSrcSet() {
      var e;
      return (e = this.srcSetToUse) != null && e.match(/builder\.io/) && !this.noWebp ? this.srcSetToUse.replace(/\?/g, "?format=webp&") : "";
    },
    aspectRatioCss() {
      const e = {
        position: "absolute",
        height: "100%",
        width: "100%",
        left: "0px",
        top: "0px"
      };
      return this.aspectRatio ? e : void 0;
    }
  }
}), va = ["srcset"], ba = ["loading", "fetchpriority", "alt", "title", "role", "src", "srcset", "sizes"], Sa = {
  key: 2,
  class: "div-t43jfuqn6g-2"
};
function ka(e, t, n, r, o, i) {
  var s, u, c, h, y, b;
  return v(), w(z, null, [
    Ge("picture", null, [
      e.webpSrcSet ? (v(), w("source", {
        key: 0,
        type: "image/webp",
        srcset: e.webpSrcSet
      }, null, 8, va)) : F("", !0),
      Ge("img", {
        loading: e.highPriority ? "eager" : "lazy",
        fetchpriority: e.highPriority ? "high" : "auto",
        alt: e.altText,
        title: e.title,
        role: e.altText ? void 0 : "presentation",
        style: Pe({
          objectPosition: e.backgroundPosition || "center",
          objectFit: e.backgroundSize || "cover",
          ...e.aspectRatioCss
        }),
        class: gt(
          "builder-image" + (e.className ? " " + e.className : "") + " img-t43jfuqn6g"
        ),
        src: e.image,
        srcset: e.srcSetToUse,
        sizes: e.sizes
      }, null, 14, ba)
    ]),
    e.aspectRatio && !((u = (s = e.builderBlock) == null ? void 0 : s.children) != null && u.length && e.fitContent) ? (v(), w("div", {
      key: 0,
      class: "builder-image-sizer div-t43jfuqn6g",
      style: Pe({
        paddingTop: e.aspectRatio * 100 + "%"
      })
    }, null, 4)) : F("", !0),
    (h = (c = e.builderBlock) == null ? void 0 : c.children) != null && h.length && e.fitContent ? pe(e.$slots, "default", { key: 1 }, void 0, !0) : F("", !0),
    !e.fitContent && ((b = (y = e.builderBlock) == null ? void 0 : y.children) != null && b.length) ? (v(), w("div", Sa, [
      pe(e.$slots, "default", {}, void 0, !0)
    ])) : F("", !0)
  ], 64);
}
const Ca = /* @__PURE__ */ j(ya, [["render", ka], ["__scopeId", "data-v-741b9bbc"]]), wa = B({
  name: "builder-section-component",
  props: ["attributes", "maxWidth"],
  data() {
    return { filterAttrs: de };
  }
});
function Ta(e, t, n, r, o, i) {
  return v(), w("section", q({
    style: {
      width: "100%",
      alignSelf: "stretch",
      flexGrow: 1,
      boxSizing: "border-box",
      maxWidth: e.maxWidth || 1200,
      display: "flex",
      flexDirection: "column",
      alignItems: "stretch",
      marginLeft: "auto",
      marginRight: "auto"
    }
  }, e.filterAttrs(e.attributes, "v-on:", !1), ye(e.filterAttrs(e.attributes, "v-on:", !0), !0)), [
    pe(e.$slots, "default")
  ], 16);
}
const Ea = /* @__PURE__ */ j(wa, [["render", Ta]]);
function Ia(e, t, n, r) {
  function o(h) {
    return typeof h == "string";
  }
  function i(h) {
    return typeof h == "number";
  }
  function s(h, y) {
    return (() => {
      const m = y.property, S = y.operator;
      let A = y.value;
      if (y && y.property === "urlPath" && y.value && typeof y.value == "string" && y.value !== "/" && y.value.endsWith("/") && (A = y.value.slice(0, -1)), !(m && S))
        return !0;
      if (Array.isArray(A))
        return S === "isNot" ? A.every((H) => s(h, {
          property: m,
          operator: S,
          value: H
        })) : !!A.find((H) => s(h, {
          property: m,
          operator: S,
          value: H
        }));
      const x = h[m];
      if (Array.isArray(x))
        return x.includes(A);
      switch (S) {
        case "is":
          return x === A;
        case "isNot":
          return x !== A;
        case "contains":
          return (o(x) || Array.isArray(x)) && x.includes(String(A));
        case "startsWith":
          return o(x) && x.startsWith(String(A));
        case "endsWith":
          return o(x) && x.endsWith(String(A));
        case "greaterThan":
          return i(x) && i(A) && x > A;
        case "lessThan":
          return i(x) && i(A) && x < A;
        case "greaterThanOrEqualTo":
          return i(x) && i(A) && x >= A;
        case "lessThanOrEqualTo":
          return i(x) && i(A) && x <= A;
        default:
          return !1;
      }
    })();
  }
  const u = {
    query: t,
    startDate: n,
    endDate: r
  }, c = e.date && new Date(e.date) || /* @__PURE__ */ new Date();
  return u.startDate && new Date(u.startDate) > c || u.endDate && new Date(u.endDate) < c ? !1 : !u.query || !u.query.length ? !0 : u.query.every((h) => s(e, h));
}
const Ra = `function getPersonalizedVariant(variants, blockId, isHydrationTarget, locale) {
  if (!navigator.cookieEnabled) {
    return;
  }
  function getCookie(name) {
    const nameEQ = name + '=';
    const ca = document.cookie.split(';');
    for (let i = 0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) == ' ') c = c.substring(1, c.length);
      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
    }
    return null;
  }
  const attributes = JSON.parse(getCookie('builder.userAttributes') || '{}');
  if (locale) {
    attributes.locale = locale;
  }
  const winningVariantIndex = variants?.findIndex(function (variant) {
    return window.filterWithCustomTargeting(attributes, variant.query, variant.startDate, variant.endDate);
  });
  const parentDiv = document.currentScript?.parentElement;
  const variantId = parentDiv?.getAttribute('data-variant-id');
  const isDefaultVariant = variantId === \`\${blockId}-default\`;
  const isWinningVariant = winningVariantIndex !== -1 && variantId === \`\${blockId}-\${winningVariantIndex}\` || winningVariantIndex === -1 && isDefaultVariant;
  if (isWinningVariant && !isDefaultVariant) {
    parentDiv?.removeAttribute('hidden');
    parentDiv?.removeAttribute('aria-hidden');
  } else if (!isWinningVariant && isDefaultVariant) {
    parentDiv?.setAttribute('hidden', 'true');
    parentDiv?.setAttribute('aria-hidden', 'true');
  }
  if (isHydrationTarget) {
    if (!isWinningVariant) {
      const itsStyleEl = parentDiv?.previousElementSibling;
      if (itsStyleEl) {
        itsStyleEl.remove();
      }
      parentDiv?.remove();
    }
    const thisScript = document.currentScript;
    if (thisScript) {
      thisScript.remove();
    }
  }
}`, Aa = `function filterWithCustomTargeting(userAttributes, query, startDate, endDate) {
  function isString(val) {
    return typeof val === 'string';
  }
  function isNumber(val) {
    return typeof val === 'number';
  }
  function objectMatchesQuery(userattr, query) {
    const result = (() => {
      const property = query.property;
      const operator = query.operator;
      let testValue = query.value;
      if (query && query.property === 'urlPath' && query.value && typeof query.value === 'string' && query.value !== '/' && query.value.endsWith('/')) {
        testValue = query.value.slice(0, -1);
      }
      if (!(property && operator)) {
        return true;
      }
      if (Array.isArray(testValue)) {
        if (operator === 'isNot') {
          return testValue.every(val => objectMatchesQuery(userattr, {
            property,
            operator,
            value: val
          }));
        }
        return !!testValue.find(val => objectMatchesQuery(userattr, {
          property,
          operator,
          value: val
        }));
      }
      const value = userattr[property];
      if (Array.isArray(value)) {
        return value.includes(testValue);
      }
      switch (operator) {
        case 'is':
          return value === testValue;
        case 'isNot':
          return value !== testValue;
        case 'contains':
          return (isString(value) || Array.isArray(value)) && value.includes(String(testValue));
        case 'startsWith':
          return isString(value) && value.startsWith(String(testValue));
        case 'endsWith':
          return isString(value) && value.endsWith(String(testValue));
        case 'greaterThan':
          return isNumber(value) && isNumber(testValue) && value > testValue;
        case 'lessThan':
          return isNumber(value) && isNumber(testValue) && value < testValue;
        case 'greaterThanOrEqualTo':
          return isNumber(value) && isNumber(testValue) && value >= testValue;
        case 'lessThanOrEqualTo':
          return isNumber(value) && isNumber(testValue) && value <= testValue;
        default:
          return false;
      }
    })();
    return result;
  }
  const item = {
    query,
    startDate,
    endDate
  };
  const now = userAttributes.date && new Date(userAttributes.date) || new Date();
  if (item.startDate && new Date(item.startDate) > now) {
    return false;
  } else if (item.endDate && new Date(item.endDate) < now) {
    return false;
  }
  if (!item.query || !item.query.length) {
    return true;
  }
  return item.query.every(filter => {
    return objectMatchesQuery(userAttributes, filter);
  });
}`, xa = `function updateVisibilityStylesScript(variants, blockId, isHydrationTarget, locale) {
  function getCookie(name) {
    const nameEQ = name + '=';
    const ca = document.cookie.split(';');
    for (let i = 0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) == ' ') c = c.substring(1, c.length);
      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
    }
    return null;
  }
  const visibilityStylesEl = document.currentScript?.previousElementSibling;
  if (!visibilityStylesEl) {
    return;
  }
  if (isHydrationTarget) {
    visibilityStylesEl.remove();
    const currentScript = document.currentScript;
    if (currentScript) {
      currentScript.remove();
    }
  } else {
    const attributes = JSON.parse(getCookie('builder.userAttributes') || '{}');
    if (locale) {
      attributes.locale = locale;
    }
    const winningVariantIndex = variants?.findIndex(function (variant) {
      return window.filterWithCustomTargeting(attributes, variant.query, variant.startDate, variant.endDate);
    });
    if (winningVariantIndex !== -1) {
      let newStyleStr = variants?.map((_, index) => {
        if (index === winningVariantIndex) return '';
        return \`div[data-variant-id="\${blockId}-\${index}"] { display: none !important; } \`;
      }).join('') || '';
      newStyleStr += \`div[data-variant-id="\${blockId}-default"] { display: none !important; } \`;
      visibilityStylesEl.innerHTML = newStyleStr;
    }
  }
}`, Nt = "default", $a = "filterWithCustomTargeting", Io = "builderIoPersonalization", Ro = "updateVisibilityStylesScript", Ao = ["react", "vue", "svelte", "qwik"], xo = ["vue", "svelte", "qwik"];
function Pa(e, t) {
  return !(e && e.length > 0) || !t ? !1 : xo.includes(G) ? !0 : !M();
}
function Oa({
  variants: e,
  previewingIndex: t,
  isHydrated: n,
  filteredVariants: r,
  fallbackBlocks: o
}) {
  const i = {
    blocks: o ?? [],
    path: "this.children",
    index: Nt
  };
  if (n && oe()) {
    if (typeof t == "number" && t < ((e == null ? void 0 : e.length) ?? 0)) {
      const s = e == null ? void 0 : e[t];
      if (s)
        return {
          blocks: s.blocks,
          path: `variants.${t}.blocks`,
          index: t
        };
    }
    return i;
  }
  if (M()) {
    const s = r == null ? void 0 : r[0];
    if (s && e) {
      const u = e.indexOf(s);
      if (u !== -1)
        return {
          blocks: s.blocks,
          path: `variants.${u}.blocks`,
          index: u
        };
    }
  }
  return i;
}
const Na = () => `
  window.${$a} = ${Aa}
  window.${Io} = ${Ra}
  window.${Ro} = ${xa}
  `, $o = G === "react", Ba = (e, t, n) => `window.${Io}(${JSON.stringify(e)}, "${t}", ${$o}${n ? `, "${n}"` : ""})`, ja = (e, t, n) => `window.${Ro}(${JSON.stringify(e)}, "${t}", ${$o}${n ? `, "${n}"` : ""})`, fn = {
  "@type": "@builder.io/sdk:Element",
  layerName: "Accordion item title",
  responsiveStyles: {
    large: {
      marginTop: "10px",
      position: "relative",
      display: "flex",
      alignItems: "stretch",
      flexDirection: "column",
      paddingBottom: "10px"
    }
  },
  children: [{
    "@type": "@builder.io/sdk:Element",
    responsiveStyles: {
      large: {
        textAlign: "left",
        display: "flex",
        flexDirection: "column"
      }
    },
    component: {
      name: "Text",
      options: {
        text: "I am an accordion title. Click me!"
      }
    }
  }]
}, hn = {
  "@type": "@builder.io/sdk:Element",
  layerName: "Accordion item detail",
  responsiveStyles: {
    large: {
      position: "relative",
      display: "flex",
      alignItems: "stretch",
      flexDirection: "column",
      marginTop: "10px",
      paddingBottom: "10px"
    }
  },
  children: [{
    "@type": "@builder.io/sdk:Element",
    responsiveStyles: {
      large: {
        paddingTop: "50px",
        textAlign: "left",
        display: "flex",
        flexDirection: "column",
        paddingBottom: "50px"
      }
    },
    component: {
      name: "Text",
      options: {
        text: "I am an accordion detail, hello!"
      }
    }
  }]
}, Va = {
  name: "Builder:Accordion",
  canHaveChildren: !0,
  image: "https://cdn.builder.io/api/v1/image/assets%2FagZ9n5CUKRfbL9t6CaJOyVSK4Es2%2Ffab6c1fd3fe542408cbdec078bca7f35",
  defaultStyles: {
    display: "flex",
    flexDirection: "column",
    alignItems: "stretch"
  },
  inputs: [{
    name: "items",
    type: "list",
    broadcast: !0,
    subFields: [{
      name: "title",
      type: "uiBlocks",
      hideFromUI: !0,
      defaultValue: [fn]
    }, {
      name: "detail",
      type: "uiBlocks",
      hideFromUI: !0,
      defaultValue: [hn]
    }],
    defaultValue: [{
      title: [fn],
      detail: [hn]
    }, {
      title: [fn],
      detail: [hn]
    }],
    showIf: (e) => !e.get("useChildrenForItems")
  }, {
    name: "oneAtATime",
    helperText: "Only allow opening one at a time (collapse all others when new item openned)",
    type: "boolean",
    defaultValue: !1
  }, {
    name: "grid",
    helperText: "Display as a grid",
    type: "boolean",
    defaultValue: !1
  }, {
    name: "gridRowWidth",
    helperText: "Display as a grid",
    type: "string",
    showIf: (e) => e.get("grid"),
    defaultValue: "25%"
  }, {
    name: "useChildrenForItems",
    type: "boolean",
    helperText: "Use child elements for each slide, instead of the array. Useful for dynamically repeating items",
    advanced: !0,
    defaultValue: !1,
    onChange: (e) => {
      e.get("useChildrenForItems") === !0 && e.set("items", []);
    }
  }],
  shouldReceiveBuilderProps: {
    builderBlock: !0,
    builderContext: !0,
    builderComponents: !0,
    builderLinkComponent: !0
  }
}, Da = (e) => e.toString(), Ua = B({
  name: "builder-accordion",
  components: { Blocks: Ue },
  props: [
    "grid",
    "oneAtATime",
    "items",
    "gridRowWidth",
    "builderBlock",
    "builderContext",
    "builderComponents",
    "builderLinkComponent"
  ],
  data() {
    return { open: [], convertOrderNumberToString: Da };
  },
  computed: {
    onlyOneAtATime() {
      return !!(this.grid || this.oneAtATime);
    },
    accordionStyles() {
      return {
        display: "flex",
        alignItems: "stretch",
        flexDirection: "column",
        ...this.grid && {
          flexDirection: "row",
          alignItems: "flex-start",
          flexWrap: "wrap"
        }
      };
    },
    accordionTitleStyles() {
      const t = {
        ...{
          display: "flex",
          flexDirection: "column"
        },
        alignItems: "stretch",
        cursor: "pointer"
      };
      return Object.fromEntries(
        Object.entries(t).filter(([n, r]) => r !== void 0)
      );
    },
    openGridItemOrder() {
      let e = null;
      if (this.grid && this.open.length && document) {
        const n = this.open[0];
        let o = document.querySelector(
          `.builder-accordion-title[data-index="${n}"]`
        );
        if (e = n, o) {
          let i = o.getBoundingClientRect();
          for (; o = o && o.nextElementSibling; )
            if (o) {
              if (o.classList.contains("builder-accordion-detail"))
                continue;
              const s = o.getBoundingClientRect();
              if (s.left > i.left) {
                const u = parseInt(
                  o.getAttribute("data-index") || "",
                  10
                );
                isNaN(u) || (i = s, e = u);
              } else
                break;
            }
        }
      }
      return typeof e == "number" && (e = e + 1), e;
    },
    accordionDetailStyles() {
      const e = {
        order: typeof this.openGridItemOrder == "number" ? this.openGridItemOrder : void 0,
        ...this.grid && {
          width: "100%"
        }
      };
      return Object.fromEntries(
        Object.entries(e).filter(([t, n]) => n !== void 0)
      );
    }
  },
  methods: {
    getAccordionTitleClassName(e) {
      return `builder-accordion-title builder-accordion-title-${this.open.includes(e) ? "open" : "closed"}`;
    },
    getAccordionDetailClassName(e) {
      return `builder-accordion-detail builder-accordion-detail-${this.open.includes(e) ? "open" : "closed"}`;
    },
    onClick(e) {
      this.open.includes(e) ? this.open = this.onlyOneAtATime ? [] : this.open.filter((t) => t !== e) : this.open = this.onlyOneAtATime ? [e] : this.open.concat(e);
    }
  }
}), Wa = ["data-index", "onClick"];
function La(e, t, n, r, o, i) {
  const s = W("Blocks");
  return v(), w("div", {
    class: "builder-accordion",
    style: Pe(e.accordionStyles)
  }, [
    (v(!0), w(z, null, ve(e.items, (u, c) => (v(), w(z, { key: c }, [
      Ge("div", {
        class: gt(e.getAccordionTitleClassName(c)),
        style: Pe({
          ...e.accordionTitleStyles,
          ...e.grid && {
            width: e.gridRowWidth,
            order: e.openGridItemOrder !== null ? e.convertOrderNumberToString(c) : e.convertOrderNumberToString(c + 1)
          }
        }),
        "data-index": c,
        onClick: async (h) => e.onClick(c)
      }, [
        ee(s, {
          blocks: u.title,
          path: `items.${c}.title`,
          parent: e.builderBlock.id,
          context: e.builderContext,
          registeredComponents: e.builderComponents,
          linkComponent: e.builderLinkComponent
        }, null, 8, ["blocks", "path", "parent", "context", "registeredComponents", "linkComponent"])
      ], 14, Wa),
      e.open.includes(c) ? (v(), w("div", {
        key: 0,
        class: gt(e.getAccordionDetailClassName(c)),
        style: Pe(e.accordionDetailStyles)
      }, [
        ee(s, {
          blocks: u.detail,
          path: `items.${c}.detail`,
          parent: e.builderBlock.id,
          context: e.builderContext,
          registeredComponents: e.builderComponents,
          linkComponent: e.builderLinkComponent
        }, null, 8, ["blocks", "path", "parent", "context", "registeredComponents", "linkComponent"])
      ], 6)) : F("", !0)
    ], 64))), 128))
  ], 4);
}
const Fa = /* @__PURE__ */ j(Ua, [["render", La]]), Ma = {
  name: "Core:Button",
  image: "https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F81a15681c3e74df09677dfc57a615b13",
  defaultStyles: {
    // TODO: make min width more intuitive and set one
    appearance: "none",
    paddingTop: "15px",
    paddingBottom: "15px",
    paddingLeft: "25px",
    paddingRight: "25px",
    backgroundColor: "#000000",
    color: "white",
    borderRadius: "4px",
    textAlign: "center",
    cursor: "pointer"
  },
  inputs: [{
    name: "text",
    type: "text",
    defaultValue: "Click me!",
    bubble: !0
  }, {
    name: "link",
    type: "url",
    bubble: !0
  }, {
    name: "openLinkInNewTab",
    type: "boolean",
    defaultValue: !1,
    friendlyName: "Open link in new tab"
  }],
  static: !0,
  noWrap: !0,
  shouldReceiveBuilderProps: {
    builderLinkComponent: !0
  }
}, Ha = {
  // TODO: ways to statically preprocess JSON for references, functions, etc
  name: "Columns",
  isRSC: !0,
  inputs: [{
    name: "columns",
    type: "array",
    broadcast: !0,
    subFields: [{
      name: "blocks",
      type: "array",
      hideFromUI: !0,
      defaultValue: [{
        "@type": "@builder.io/sdk:Element",
        responsiveStyles: {
          large: {
            display: "flex",
            flexDirection: "column",
            alignItems: "stretch",
            flexShrink: "0",
            position: "relative",
            marginTop: "30px",
            textAlign: "center",
            lineHeight: "normal",
            height: "auto",
            minHeight: "20px",
            minWidth: "20px",
            overflow: "hidden"
          }
        },
        component: {
          name: "Image",
          options: {
            image: "https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d",
            backgroundPosition: "center",
            backgroundSize: "cover",
            aspectRatio: 0.7004048582995948
          }
        }
      }, {
        "@type": "@builder.io/sdk:Element",
        responsiveStyles: {
          large: {
            display: "flex",
            flexDirection: "column",
            alignItems: "stretch",
            flexShrink: "0",
            position: "relative",
            marginTop: "30px",
            textAlign: "center",
            lineHeight: "normal",
            height: "auto"
          }
        },
        component: {
          name: "Text",
          options: {
            text: "<p>Enter some text...</p>"
          }
        }
      }]
    }, {
      name: "width",
      type: "number",
      hideFromUI: !0,
      helperText: "Width %, e.g. set to 50 to fill half of the space"
    }, {
      name: "link",
      type: "url",
      helperText: "Optionally set a url that clicking this column will link to"
    }],
    defaultValue: [{
      blocks: [{
        "@type": "@builder.io/sdk:Element",
        responsiveStyles: {
          large: {
            display: "flex",
            flexDirection: "column",
            alignItems: "stretch",
            flexShrink: "0",
            position: "relative",
            marginTop: "30px",
            textAlign: "center",
            lineHeight: "normal",
            height: "auto",
            minHeight: "20px",
            minWidth: "20px",
            overflow: "hidden"
          }
        },
        component: {
          name: "Image",
          options: {
            image: "https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d",
            backgroundPosition: "center",
            backgroundSize: "cover",
            aspectRatio: 0.7004048582995948
          }
        }
      }, {
        "@type": "@builder.io/sdk:Element",
        responsiveStyles: {
          large: {
            display: "flex",
            flexDirection: "column",
            alignItems: "stretch",
            flexShrink: "0",
            position: "relative",
            marginTop: "30px",
            textAlign: "center",
            lineHeight: "normal",
            height: "auto"
          }
        },
        component: {
          name: "Text",
          options: {
            text: "<p>Enter some text...</p>"
          }
        }
      }]
    }, {
      blocks: [{
        "@type": "@builder.io/sdk:Element",
        responsiveStyles: {
          large: {
            display: "flex",
            flexDirection: "column",
            alignItems: "stretch",
            flexShrink: "0",
            position: "relative",
            marginTop: "30px",
            textAlign: "center",
            lineHeight: "normal",
            height: "auto",
            minHeight: "20px",
            minWidth: "20px",
            overflow: "hidden"
          }
        },
        component: {
          name: "Image",
          options: {
            image: "https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d",
            backgroundPosition: "center",
            backgroundSize: "cover",
            aspectRatio: 0.7004048582995948
          }
        }
      }, {
        "@type": "@builder.io/sdk:Element",
        responsiveStyles: {
          large: {
            display: "flex",
            flexDirection: "column",
            alignItems: "stretch",
            flexShrink: "0",
            position: "relative",
            marginTop: "30px",
            textAlign: "center",
            lineHeight: "normal",
            height: "auto"
          }
        },
        component: {
          name: "Text",
          options: {
            text: "<p>Enter some text...</p>"
          }
        }
      }]
    }],
    onChange: (e) => {
      function t() {
        n.forEach((r) => {
          r.delete("width");
        });
      }
      const n = e.get("columns");
      Array.isArray(n) && n.find((o) => o.get("width")) && (n.find((i) => !i.get("width")) || n.reduce((u, c) => u + c.get("width"), 0) !== 100) && t();
    }
  }, {
    name: "space",
    type: "number",
    defaultValue: 20,
    helperText: "Size of gap between columns",
    advanced: !0
  }, {
    name: "stackColumnsAt",
    type: "string",
    defaultValue: "tablet",
    helperText: "Convert horizontal columns to vertical at what device size",
    enum: ["tablet", "mobile", "never"],
    advanced: !0
  }, {
    name: "reverseColumnsWhenStacked",
    type: "boolean",
    defaultValue: !1,
    helperText: "When stacking columns for mobile devices, reverse the ordering",
    advanced: !0
  }],
  shouldReceiveBuilderProps: {
    builderBlock: !0,
    builderContext: !0,
    builderComponents: !0,
    builderLinkComponent: !0
  }
}, Ka = {
  name: "Fragment",
  static: !0,
  hidden: !0,
  canHaveChildren: !0,
  noWrap: !0
}, qn = ["jpeg", "jpg", "png", "svg", "webp", "gif", "jfif", "pjpeg", "pjp", "apng", "avif", "tif", "tiff", "heif", "bmp", "eps", "raw", "cr2", "nef", "orf", "sr2", "psd", "heic", "dib", "ai"], za = ["mp4", "webm", "mkv", "flv", "vob", "ogv", "ogg", "drc", "gif", "gifv", "mng", "avi", "mov", "qt", "mts", "m2ts", "ts", "wmv", "yuv", "rm", "rmvb", "viv", "asf", "amv", "m4p", "mpeg", "mpe", "m2v", "m4v", "svi", "3gp", "3g2", "mxf", "roq", "nsv", "f4v", "f4p", "f4a", "f4b"], qa = {
  name: "Image",
  static: !0,
  image: "https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4",
  defaultStyles: {
    position: "relative",
    minHeight: "20px",
    minWidth: "20px",
    overflow: "hidden"
  },
  canHaveChildren: !0,
  inputs: [{
    name: "image",
    type: "file",
    bubble: !0,
    allowedFileTypes: qn,
    required: !0,
    defaultValue: "https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F72c80f114dc149019051b6852a9e3b7a",
    onChange: (e) => {
      e.delete("srcset"), e.delete("noWebp");
      function n(s, u = 6e4) {
        return new Promise((c, h) => {
          const y = document.createElement("img");
          let b = !1;
          y.onload = () => {
            b = !0, c(y);
          }, y.addEventListener("error", (m) => {
            console.warn("Image load failed", m.error), h(m.error);
          }), y.src = s, setTimeout(() => {
            b || h(new Error("Image load timed out"));
          }, u);
        });
      }
      function r(s) {
        return Math.round(s * 1e3) / 1e3;
      }
      const o = e.get("image"), i = e.get("aspectRatio");
      if (fetch(o).then((s) => s.blob()).then((s) => {
        s.type.includes("svg") && e.set("noWebp", !0);
      }), o && (!i || i === 0.7041))
        return n(o).then((s) => {
          const u = e.get("aspectRatio");
          e.get("image") === o && (!u || u === 0.7041) && s.width && s.height && (e.set("aspectRatio", r(s.height / s.width)), e.set("height", s.height), e.set("width", s.width));
        });
    }
  }, {
    name: "backgroundSize",
    type: "text",
    defaultValue: "cover",
    enum: [{
      label: "contain",
      value: "contain",
      helperText: "The image should never get cropped"
    }, {
      label: "cover",
      value: "cover",
      helperText: "The image should fill it's box, cropping when needed"
    }]
  }, {
    name: "backgroundPosition",
    type: "text",
    defaultValue: "center",
    enum: ["center", "top", "left", "right", "bottom", "top left", "top right", "bottom left", "bottom right"]
  }, {
    name: "altText",
    type: "string",
    helperText: "Text to display when the user has images off"
  }, {
    name: "title",
    type: "string",
    helperText: "Text to display when hovering over the asset"
  }, {
    name: "height",
    type: "number",
    hideFromUI: !0
  }, {
    name: "width",
    type: "number",
    hideFromUI: !0
  }, {
    name: "sizes",
    type: "string",
    hideFromUI: !0
  }, {
    name: "srcset",
    type: "string",
    hideFromUI: !0
  }, {
    name: "lazy",
    type: "boolean",
    defaultValue: !0,
    hideFromUI: !0
  }, {
    name: "fitContent",
    type: "boolean",
    helperText: "When child blocks are provided, fit to them instead of using the image's aspect ratio",
    defaultValue: !0
  }, {
    name: "highPriority",
    type: "boolean",
    advanced: !0,
    helperText: "Mark this image as high priority compared to other images on the page. This prevents lazy loading of the image and tells the browser to load this image before others on the page."
  }, {
    name: "aspectRatio",
    type: "number",
    helperText: "This is the ratio of height/width, e.g. set to 1.5 for a 300px wide and 200px tall photo. Set to 0 to not force the image to maintain it's aspect ratio",
    advanced: !0,
    defaultValue: 0.7041
  }],
  shouldReceiveBuilderProps: {
    builderBlock: !0
  }
}, Ga = {
  name: "PersonalizationContainer",
  shouldReceiveBuilderProps: {
    builderBlock: !0,
    builderContext: !0,
    builderComponents: !0
  },
  noWrap: !0,
  image: "https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F37229ed30d8c41dfb10b8cca1992053a",
  canHaveChildren: !0,
  inputs: [{
    name: "variants",
    defaultValue: [],
    behavior: "personalizationVariantList",
    type: "list",
    subFields: [{
      name: "name",
      type: "text"
    }, {
      name: "query",
      friendlyName: "Targeting rules",
      type: "BuilderQuery",
      defaultValue: []
    }, {
      name: "startDate",
      type: "date"
    }, {
      name: "endDate",
      type: "date"
    }, {
      name: "blocks",
      type: "uiBlocks",
      hideFromUI: !0,
      defaultValue: []
    }]
  }]
}, Gn = B({
  render() {
    return Mr("script", {
      innerHTML: this.scriptStr,
      "data-id": this.id,
      nonce: this.nonce
    });
  },
  name: "inlined-script",
  props: ["scriptStr", "id", "nonce"]
}), _a = B({
  name: "builder-personalization-container",
  components: {
    Blocks: Ue,
    InlinedStyles: Mt,
    InlinedScript: Gn
  },
  props: [
    "builderContext",
    "variants",
    "builderBlock",
    "attributes",
    "previewingIndex",
    "builderComponents"
  ],
  data() {
    var e, t, n, r, o, i, s;
    return {
      userAttributes: Dt.getUserAttributes(),
      scriptStr: Ba(
        this.variants,
        ((e = this.builderBlock) == null ? void 0 : e.id) || "none",
        (n = (t = this.builderContext) == null ? void 0 : t.rootState) == null ? void 0 : n.locale
      ),
      updateVisibilityStylesScript: ja(
        this.variants,
        ((r = this.builderBlock) == null ? void 0 : r.id) || "none",
        (i = (o = this.builderContext) == null ? void 0 : o.rootState) == null ? void 0 : i.locale
      ),
      unsubscribers: [],
      shouldRenderVariants: Pa(
        this.variants,
        Xe((s = this.builderContext) == null ? void 0 : s.canTrack)
      ),
      shouldResetVariants: !1,
      TARGET: G,
      DEFAULT_INDEX: Nt,
      SDKS_REQUIRING_RESET_APPROACH: xo
    };
  },
  mounted() {
    var t;
    this.shouldResetVariants = !0;
    const e = Dt.subscribeOnUserAttributesChange(
      (n) => {
        this.userAttributes = n;
      },
      {
        fireImmediately: G === "qwik"
      }
    );
    if (!(oe() || Wn())) {
      const n = this.filteredVariants[0];
      this.$refs.rootRef && (this.$refs.rootRef.dispatchEvent(
        new CustomEvent("builder.variantLoaded", {
          detail: {
            variant: n || Nt,
            content: (t = this.builderContext) == null ? void 0 : t.content
          },
          bubbles: !0
        })
      ), new IntersectionObserver((o) => {
        o.forEach((i) => {
          var s;
          i.isIntersecting && this.$refs.rootRef && this.$refs.rootRef.dispatchEvent(
            new CustomEvent("builder.variantDisplayed", {
              detail: {
                variant: n || Nt,
                content: (s = this.builderContext) == null ? void 0 : s.content
              },
              bubbles: !0
            })
          );
        });
      }).observe(this.$refs.rootRef));
    }
    this.unsubscribers.push(e);
  },
  unmounted() {
    this.unsubscribers.forEach((e) => e());
  },
  computed: {
    attrs() {
      return {
        ...de(this.attributes, "v-on:", !1),
        ...de(this.attributes, "v-on:", !0),
        [Oe()]: `builder-personalization-container ${this.attributes[Oe()] || ""}`
      };
    },
    filteredVariants() {
      return (this.variants || []).filter((e) => {
        var t, n, r, o;
        return Ia(
          {
            ...(n = (t = this.builderContext) == null ? void 0 : t.rootState) != null && n.locale ? {
              locale: (o = (r = this.builderContext) == null ? void 0 : r.rootState) == null ? void 0 : o.locale
            } : {},
            ...this.userAttributes
          },
          e.query,
          e.startDate,
          e.endDate
        );
      });
    },
    blocksToRender() {
      var e;
      return Oa({
        variants: this.variants,
        fallbackBlocks: (e = this.builderBlock) == null ? void 0 : e.children,
        isHydrated: this.shouldResetVariants,
        filteredVariants: this.filteredVariants,
        previewingIndex: this.previewingIndex
      });
    },
    hideVariantsStyleString() {
      return (this.variants || []).map(
        (e, t) => {
          var n;
          return `div[data-variant-id="${(n = this.builderBlock) == null ? void 0 : n.id}-${t}"] { display: none !important; } `;
        }
      ).join("");
    }
  }
});
function Ja(e, t, n, r, o, i) {
  var h, y, b, m, S, A, x, H, te, E;
  const s = W("Blocks"), u = W("InlinedStyles"), c = W("InlinedScript");
  return v(), w("div", q({ ref: "rootRef" }, e.attrs), [
    e.shouldResetVariants && e.SDKS_REQUIRING_RESET_APPROACH.includes(e.TARGET) ? (v(), U(s, {
      key: 0,
      blocks: e.blocksToRender.blocks,
      parent: (h = e.builderBlock) == null ? void 0 : h.id,
      path: e.blocksToRender.path,
      context: e.builderContext,
      registeredComponents: e.builderComponents,
      BlocksWrapperProps: {
        ...(y = e.builderContext) == null ? void 0 : y.BlocksWrapperProps,
        "data-variant-id": `${(b = e.builderBlock) == null ? void 0 : b.id}-${e.blocksToRender.index}`
      }
    }, null, 8, ["blocks", "parent", "path", "context", "registeredComponents", "BlocksWrapperProps"])) : F("", !0),
    !e.shouldResetVariants && e.SDKS_REQUIRING_RESET_APPROACH.includes(e.TARGET) || !e.SDKS_REQUIRING_RESET_APPROACH.includes(e.TARGET) ? (v(), w(z, { key: 1 }, [
      e.shouldRenderVariants ? (v(), w(z, { key: 0 }, [
        ee(u, {
          nonce: ((m = e.builderContext) == null ? void 0 : m.nonce) || "",
          styles: e.hideVariantsStyleString,
          id: `variants-styles-${(S = e.builderBlock) == null ? void 0 : S.id}`
        }, null, 8, ["nonce", "styles", "id"]),
        ee(c, {
          nonce: ((A = e.builderContext) == null ? void 0 : A.nonce) || "",
          scriptStr: e.updateVisibilityStylesScript,
          id: `variants-visibility-script-${(x = e.builderBlock) == null ? void 0 : x.id}`
        }, null, 8, ["nonce", "scriptStr", "id"]),
        (v(!0), w(z, null, ve(e.variants, (D, ie) => {
          var Ae, K, _, R;
          return v(), U(s, {
            key: `${(Ae = e.builderBlock) == null ? void 0 : Ae.id}-${ie}`,
            BlocksWrapperProps: {
              ...(K = e.builderContext) == null ? void 0 : K.BlocksWrapperProps,
              "aria-hidden": !0,
              hidden: !0,
              "data-variant-id": `${(_ = e.builderBlock) == null ? void 0 : _.id}-${ie}`
            },
            blocks: D.blocks,
            parent: (R = e.builderBlock) == null ? void 0 : R.id,
            path: `component.options.variants.${ie}.blocks`,
            context: e.builderContext,
            registeredComponents: e.builderComponents
          }, {
            default: me(() => {
              var We, L;
              return [
                ee(c, {
                  nonce: ((We = e.builderContext) == null ? void 0 : We.nonce) || "",
                  scriptStr: e.scriptStr,
                  id: `variants-script-${(L = e.builderBlock) == null ? void 0 : L.id}-${ie}`
                }, null, 8, ["nonce", "scriptStr", "id"])
              ];
            }),
            _: 2
          }, 1032, ["BlocksWrapperProps", "blocks", "parent", "path", "context", "registeredComponents"]);
        }), 128))
      ], 64)) : F("", !0),
      ee(s, {
        blocks: e.blocksToRender.blocks,
        parent: (H = e.builderBlock) == null ? void 0 : H.id,
        path: e.blocksToRender.path,
        context: e.builderContext,
        registeredComponents: e.builderComponents,
        BlocksWrapperProps: {
          ...(te = e.builderContext) == null ? void 0 : te.BlocksWrapperProps,
          "data-variant-id": `${(E = e.builderBlock) == null ? void 0 : E.id}-${e.blocksToRender.index}`
        }
      }, {
        default: me(() => {
          var D, ie;
          return [
            e.shouldRenderVariants ? (v(), U(c, {
              key: 0,
              nonce: ((D = e.builderContext) == null ? void 0 : D.nonce) || "",
              scriptStr: e.scriptStr,
              id: `variants-script-${(ie = e.builderBlock) == null ? void 0 : ie.id}-${e.DEFAULT_INDEX}`
            }, null, 8, ["nonce", "scriptStr", "id"])) : F("", !0)
          ];
        }),
        _: 1
      }, 8, ["blocks", "parent", "path", "context", "registeredComponents", "BlocksWrapperProps"])
    ], 64)) : F("", !0)
  ], 16);
}
const Xa = /* @__PURE__ */ j(_a, [["render", Ja]]), Ya = {
  name: "Core:Section",
  static: !0,
  image: "https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F682efef23ace49afac61748dd305c70a",
  inputs: [{
    name: "maxWidth",
    type: "number",
    defaultValue: 1200
  }, {
    name: "lazyLoad",
    type: "boolean",
    defaultValue: !1,
    advanced: !0,
    description: "Only render this section when in view"
  }],
  defaultStyles: {
    paddingLeft: "20px",
    paddingRight: "20px",
    paddingTop: "50px",
    paddingBottom: "50px",
    marginTop: "0px",
    width: "100vw",
    marginLeft: "calc(50% - 50vw)"
  },
  canHaveChildren: !0,
  defaultChildren: [{
    "@type": "@builder.io/sdk:Element",
    responsiveStyles: {
      large: {
        textAlign: "center"
      }
    },
    component: {
      name: "Text",
      options: {
        text: "<p><b>I am a section! My content keeps from getting too wide, so that it's easy to read even on big screens.</b></p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur</p>"
      }
    }
  }]
}, Qa = {
  name: "Slot",
  isRSC: !0,
  description: "Allow child blocks to be inserted into this content when used as a Symbol",
  docsLink: "https://www.builder.io/c/docs/symbols-with-blocks",
  image: "https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F3aad6de36eae43b59b52c85190fdef56",
  // Maybe wrap this for canHaveChildren so bind children to this hm
  inputs: [{
    name: "name",
    type: "string",
    required: !0,
    defaultValue: "children"
  }],
  shouldReceiveBuilderProps: {
    builderContext: !0,
    builderComponents: !0
  }
}, Za = B({
  name: "builder-slot",
  components: { Blocks: Ue },
  props: ["builderContext", "name", "builderComponents"]
});
function el(e, t, n, r, o, i) {
  var u, c, h;
  const s = W("Blocks");
  return v(), w("div", q(
    { style: {
      pointerEvents: "auto"
    } },
    !((u = e.builderContext.context) != null && u.symbolId) && {
      "builder-slot": e.name
    }
  ), [
    ee(s, {
      parent: (c = e.builderContext.context) == null ? void 0 : c.symbolId,
      path: `symbol.data.${e.name}`,
      context: e.builderContext,
      registeredComponents: e.builderComponents,
      blocks: (h = e.builderContext.rootState) == null ? void 0 : h[e.name]
    }, null, 8, ["parent", "path", "context", "registeredComponents", "blocks"])
  ], 16);
}
const tl = /* @__PURE__ */ j(Za, [["render", el]]), nl = {
  name: "Symbol",
  noWrap: !0,
  static: !0,
  isRSC: !0,
  inputs: [{
    name: "symbol",
    type: "uiSymbol"
  }, {
    name: "dataOnly",
    helperText: "Make this a data symbol that doesn't display any UI",
    type: "boolean",
    defaultValue: !1,
    advanced: !0,
    hideFromUI: !0
  }, {
    name: "inheritState",
    helperText: "Inherit the parent component state and data",
    type: "boolean",
    defaultValue: !1,
    advanced: !0
  }, {
    name: "renderToLiquid",
    helperText: "Render this symbols contents to liquid. Turn off to fetch with javascript and use custom targeting",
    type: "boolean",
    defaultValue: !1,
    advanced: !0,
    hideFromUI: !0
  }, {
    name: "useChildren",
    hideFromUI: !0,
    type: "boolean"
  }],
  shouldReceiveBuilderProps: {
    builderBlock: !0,
    builderContext: !0,
    builderComponents: !0,
    builderLinkComponent: !0
  }
}, mn = {
  "@type": "@builder.io/sdk:Element",
  responsiveStyles: {
    large: {
      paddingLeft: "20px",
      paddingRight: "20px",
      paddingTop: "10px",
      paddingBottom: "10px",
      minWidth: "100px",
      textAlign: "center",
      display: "flex",
      flexDirection: "column",
      cursor: "pointer",
      userSelect: "none"
    }
  },
  component: {
    name: "Text",
    options: {
      text: "New tab"
    }
  }
}, gn = {
  "@type": "@builder.io/sdk:Element",
  responsiveStyles: {
    large: {
      height: "200px",
      display: "flex",
      marginTop: "20px",
      flexDirection: "column"
    }
  },
  component: {
    name: "Text",
    options: {
      text: "New tab content "
    }
  }
}, rl = {
  name: "Builder: Tabs",
  inputs: [{
    name: "tabs",
    type: "list",
    broadcast: !0,
    subFields: [{
      name: "label",
      type: "uiBlocks",
      hideFromUI: !0,
      defaultValue: [mn]
    }, {
      name: "content",
      type: "uiBlocks",
      hideFromUI: !0,
      defaultValue: [gn]
    }],
    defaultValue: [{
      label: [{
        ...mn,
        component: {
          name: "Text",
          options: {
            text: "Tab 1"
          }
        }
      }],
      content: [{
        ...gn,
        component: {
          name: "Text",
          options: {
            text: "Tab 1 content"
          }
        }
      }]
    }, {
      label: [{
        ...mn,
        component: {
          name: "Text",
          options: {
            text: "Tab 2"
          }
        }
      }],
      content: [{
        ...gn,
        component: {
          name: "Text",
          options: {
            text: "Tab 2 content"
          }
        }
      }]
    }]
  }, {
    name: "activeTabStyle",
    type: "uiStyle",
    helperText: "CSS styles for the active tab",
    defaultValue: {
      backgroundColor: "rgba(0, 0, 0, 0.1)"
    }
  }, {
    name: "defaultActiveTab",
    type: "number",
    helperText: 'Default tab to open to. Set to "1" for the first tab, "2" for the second, or choose "0" for none',
    defaultValue: 1,
    advanced: !0
  }, {
    name: "collapsible",
    type: "boolean",
    helperText: "If on, clicking an open tab closes it so no tabs are active",
    defaultValue: !1,
    advanced: !0
  }, {
    name: "tabHeaderLayout",
    type: "enum",
    helperText: "Change the layout of the tab headers (uses justify-content)",
    defaultValue: "flex-start",
    enum: [{
      label: "Center",
      value: "center"
    }, {
      label: "Space between",
      value: "space-between"
    }, {
      label: "Space around",
      value: "space-around"
    }, {
      label: "Left",
      value: "flex-start"
    }, {
      label: "Right",
      value: "flex-end"
    }]
  }],
  shouldReceiveBuilderProps: {
    builderBlock: !0,
    builderContext: !0,
    builderComponents: !0,
    builderLinkComponent: !0
  }
}, ol = B({
  name: "builder-tabs",
  components: { Blocks: Ue },
  props: [
    "defaultActiveTab",
    "tabs",
    "activeTabStyle",
    "collapsible",
    "tabHeaderLayout",
    "builderBlock",
    "builderContext",
    "builderComponents",
    "builderLinkComponent"
  ],
  data() {
    return { activeTab: this.defaultActiveTab ? this.defaultActiveTab - 1 : 0 };
  },
  methods: {
    activeTabContent(e) {
      return this.tabs && this.tabs[e].content;
    },
    getTabStyle(e) {
      return e === this.activeTab ? this.activeTabStyle : {};
    },
    onClick(e) {
      e === this.activeTab && this.collapsible ? this.activeTab = -1 : this.activeTab = e;
    }
  }
}), il = ["onClick"], sl = { key: 0 };
function al(e, t, n, r, o, i) {
  const s = W("Blocks");
  return v(), w("div", null, [
    Ge("div", {
      class: "builder-tabs-wrap",
      style: Pe({
        display: "flex",
        flexDirection: "row",
        justifyContent: e.tabHeaderLayout || "flex-start",
        overflow: "auto"
      })
    }, [
      (v(!0), w(z, null, ve(e.tabs, (u, c) => (v(), w("span", {
        key: c,
        class: gt(`builder-tab-wrap ${e.activeTab === c ? "builder-tab-active" : ""}`),
        style: Pe(e.getTabStyle(c)),
        onClick: async (h) => e.onClick(c)
      }, [
        ee(s, {
          parent: e.builderBlock.id,
          path: `tabs.${c}.label`,
          blocks: u.label,
          context: e.builderContext,
          registeredComponents: e.builderComponents,
          linkComponent: e.builderLinkComponent
        }, null, 8, ["parent", "path", "blocks", "context", "registeredComponents", "linkComponent"])
      ], 14, il))), 128))
    ], 4),
    e.activeTabContent(e.activeTab) ? (v(), w("div", sl, [
      ee(s, {
        parent: e.builderBlock.id,
        path: `tabs.${e.activeTab}.content`,
        blocks: e.activeTabContent(e.activeTab),
        context: e.builderContext,
        registeredComponents: e.builderComponents,
        linkComponent: e.builderLinkComponent
      }, null, 8, ["parent", "path", "blocks", "context", "registeredComponents", "linkComponent"])
    ])) : F("", !0)
  ]);
}
const ll = /* @__PURE__ */ j(ol, [["render", al]]), ul = {
  shouldReceiveBuilderProps: {},
  name: "Text",
  static: !0,
  image: "https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-text_fields-24px%20(1).svg?alt=media&token=12177b73-0ee3-42ca-98c6-0dd003de1929",
  inputs: [{
    name: "text",
    type: "html",
    required: !0,
    autoFocus: !0,
    bubble: !0,
    defaultValue: "Enter some text..."
  }],
  defaultStyles: {
    lineHeight: "normal",
    height: "auto",
    textAlign: "center"
  }
}, cl = B({
  name: "builder-text",
  props: ["text"]
}), pl = ["innerHTML"];
function dl(e, t, n, r, o, i) {
  var s;
  return v(), w("div", {
    class: "builder-text",
    innerHTML: ((s = e.text) == null ? void 0 : s.toString()) || "",
    style: {
      outline: "none"
    }
  }, null, 8, pl);
}
const fl = /* @__PURE__ */ j(cl, [["render", dl]]), hl = {
  name: "Custom Code",
  static: !0,
  requiredPermissions: ["editCode"],
  inputs: [{
    name: "code",
    type: "html",
    required: !0,
    defaultValue: "<p>Hello there, I am custom HTML code!</p>",
    code: !0
  }, {
    name: "replaceNodes",
    type: "boolean",
    helperText: "Preserve server rendered dom nodes",
    advanced: !0
  }, {
    name: "scriptsClientOnly",
    type: "boolean",
    defaultValue: !1,
    helperText: "Only print and run scripts on the client. Important when scripts influence DOM that could be replaced when client loads",
    advanced: !0
  }]
}, ml = B({
  name: "builder-custom-code",
  props: ["code", "replaceNodes"],
  data() {
    return { scriptsInserted: [], scriptsRun: [] };
  },
  mounted() {
    this.runScripts();
  },
  watch: {
    onUpdateHook0: {
      handler() {
        oe() && setTimeout(() => {
          this.runScripts();
        }, 0);
      },
      immediate: !0
    }
  },
  computed: {
    onUpdateHook0() {
      return {
        0: this.code
      };
    }
  },
  methods: {
    runScripts() {
      var t;
      if (!this.$refs.elementRef || !((t = this.$refs.elementRef) != null && t.getElementsByTagName) || typeof window > "u")
        return;
      const e = this.$refs.elementRef.getElementsByTagName("script");
      for (let n = 0; n < e.length; n++) {
        const r = e[n];
        if (r.src) {
          if (this.scriptsInserted.includes(r.src))
            continue;
          this.scriptsInserted.push(r.src);
          const o = document.createElement("script");
          o.async = !0, o.src = r.src, document.head.appendChild(o);
        } else if (!r.type || [
          "text/javascript",
          "application/javascript",
          "application/ecmascript"
        ].includes(r.type)) {
          if (this.scriptsRun.includes(r.innerText))
            continue;
          try {
            this.scriptsRun.push(r.innerText), new Function(r.innerText)();
          } catch (o) {
            ue.warn(
              "[BUILDER.IO] `CustomCode`: Error running script:",
              o
            );
          }
        }
      }
    }
  }
}), gl = ["innerHTML"];
function yl(e, t, n, r, o, i) {
  return v(), w("div", {
    ref: "elementRef",
    class: gt("builder-custom-code" + (e.replaceNodes ? " replace-nodes" : "")),
    innerHTML: e.code
  }, null, 10, gl);
}
const vl = /* @__PURE__ */ j(ml, [["render", yl]]), bl = {
  name: "Embed",
  static: !0,
  inputs: [{
    name: "url",
    type: "url",
    required: !0,
    defaultValue: "",
    helperText: "e.g. enter a youtube url, google map, etc"
  }, {
    name: "content",
    type: "html",
    defaultValue: '<div style="padding: 20px; text-align: center">(Choose an embed URL)<div>',
    hideFromUI: !0
  }]
}, Sl = ["text/javascript", "application/javascript", "application/ecmascript"], kl = (e) => Sl.includes(e.type), Cl = B({
  name: "builder-embed",
  props: ["content"],
  data() {
    return { scriptsInserted: [], scriptsRun: [], ranInitFn: !1 };
  },
  watch: {
    onUpdateHook0: {
      handler() {
        this.$refs.elem && !this.ranInitFn && (this.ranInitFn = !0, this.findAndRunScripts());
      },
      immediate: !0
    }
  },
  computed: {
    onUpdateHook0() {
      return {
        0: this.$refs.elem,
        1: this.ranInitFn
      };
    }
  },
  methods: {
    findAndRunScripts() {
      if (!this.$refs.elem || !this.$refs.elem.getElementsByTagName)
        return;
      const e = this.$refs.elem.getElementsByTagName("script");
      for (let t = 0; t < e.length; t++) {
        const n = e[t];
        if (n.src && !this.scriptsInserted.includes(n.src)) {
          this.scriptsInserted.push(n.src);
          const r = document.createElement("script");
          r.async = !0, r.src = n.src, document.head.appendChild(r);
        } else if (kl(n) && !this.scriptsRun.includes(n.innerText))
          try {
            this.scriptsRun.push(n.innerText), new Function(n.innerText)();
          } catch (r) {
            ue.warn("[BUILDER.IO] `Embed`: Error running script:", r);
          }
      }
    }
  }
}), wl = ["innerHTML"];
function Tl(e, t, n, r, o, i) {
  return v(), w("div", {
    class: "builder-embed",
    ref: "elem",
    innerHTML: e.content
  }, null, 8, wl);
}
const El = /* @__PURE__ */ j(Cl, [["render", Tl]]), Il = {
  name: "Form:Form",
  // editableTags: ['builder-form-error']
  defaults: {
    responsiveStyles: {
      large: {
        marginTop: "15px",
        paddingBottom: "15px"
      }
    }
  },
  image: "https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fef36d2a846134910b64b88e6d18c5ca5",
  inputs: [{
    name: "sendSubmissionsTo",
    type: "string",
    // TODO: save to builder data and user can download as csv
    // TODO: easy for mode too or computed add/remove fields form mode
    // so you can edit details and high level mode at same time...
    // Later - more integrations like mailchimp
    // /api/v1/form-submit?to=mailchimp
    enum: [{
      label: "Send to email",
      value: "email",
      helperText: "Send form submissions to the email address of your choosing"
    }, {
      label: "Custom",
      value: "custom",
      helperText: "Handle where the form requests go manually with a little code, e.g. to your own custom backend"
    }],
    defaultValue: "email"
  }, {
    name: "sendSubmissionsToEmail",
    type: "string",
    required: !0,
    // TODO: required: () => options.get("sendSubmissionsTo") === "email"
    defaultValue: "your@email.com",
    showIf: 'options.get("sendSubmissionsTo") === "email"'
  }, {
    name: "sendWithJs",
    type: "boolean",
    helperText: "Set to false to use basic html form action",
    defaultValue: !0,
    showIf: 'options.get("sendSubmissionsTo") === "custom"'
  }, {
    name: "name",
    type: "string",
    defaultValue: "My form"
    // advanced: true
  }, {
    name: "action",
    type: "string",
    helperText: "URL to send the form data to",
    showIf: 'options.get("sendSubmissionsTo") === "custom"'
  }, {
    name: "contentType",
    type: "string",
    defaultValue: "application/json",
    advanced: !0,
    // TODO: do automatically if file input
    enum: ["application/json", "multipart/form-data", "application/x-www-form-urlencoded"],
    showIf: 'options.get("sendSubmissionsTo") === "custom" && options.get("sendWithJs") === true'
  }, {
    name: "method",
    type: "string",
    showIf: 'options.get("sendSubmissionsTo") === "custom"',
    defaultValue: "POST",
    advanced: !0
  }, {
    name: "previewState",
    type: "string",
    // TODO: persist: false flag
    enum: ["unsubmitted", "sending", "success", "error"],
    defaultValue: "unsubmitted",
    helperText: 'Choose a state to edit, e.g. choose "success" to show what users see on success and edit the message',
    showIf: 'options.get("sendSubmissionsTo") !== "zapier" && options.get("sendWithJs") === true'
  }, {
    name: "successUrl",
    type: "url",
    helperText: "Optional URL to redirect the user to on form submission success",
    showIf: 'options.get("sendSubmissionsTo") !== "zapier" && options.get("sendWithJs") === true'
  }, {
    name: "resetFormOnSubmit",
    type: "boolean",
    showIf: "options.get('sendSubmissionsTo') === 'custom' && options.get('sendWithJs') === true",
    advanced: !0
  }, {
    name: "successMessage",
    type: "uiBlocks",
    hideFromUI: !0,
    defaultValue: [{
      "@type": "@builder.io/sdk:Element",
      responsiveStyles: {
        large: {
          marginTop: "10px"
        }
      },
      component: {
        name: "Text",
        options: {
          text: "<span>Thanks!</span>"
        }
      }
    }]
  }, {
    name: "validate",
    type: "boolean",
    defaultValue: !0,
    advanced: !0
  }, {
    name: "errorMessagePath",
    type: "text",
    advanced: !0,
    helperText: 'Path to where to get the error message from in a JSON response to display to the user, e.g. "error.message" for a response like { "error": { "message": "this username is taken" }}'
  }, {
    name: "errorMessage",
    type: "uiBlocks",
    hideFromUI: !0,
    defaultValue: [{
      "@type": "@builder.io/sdk:Element",
      responsiveStyles: {
        large: {
          marginTop: "10px"
        }
      },
      bindings: {
        "component.options.text": "state.formErrorMessage || block.component.options.text"
      },
      component: {
        name: "Text",
        options: {
          text: "<span>Form submission error :( Please check your answers and try again</span>"
        }
      }
    }]
  }, {
    name: "sendingMessage",
    type: "uiBlocks",
    hideFromUI: !0,
    defaultValue: [{
      "@type": "@builder.io/sdk:Element",
      responsiveStyles: {
        large: {
          marginTop: "10px"
        }
      },
      component: {
        name: "Text",
        options: {
          text: "<span>Sending...</span>"
        }
      }
    }]
  }, {
    name: "customHeaders",
    type: "map",
    valueType: {
      type: "string"
    },
    advanced: !0,
    showIf: 'options.get("sendSubmissionsTo") === "custom" && options.get("sendWithJs") === true'
  }],
  noWrap: !0,
  canHaveChildren: !0,
  defaultChildren: [{
    "@type": "@builder.io/sdk:Element",
    responsiveStyles: {
      large: {
        marginTop: "10px"
      }
    },
    component: {
      name: "Text",
      options: {
        text: "<span>Enter your name</span>"
      }
    }
  }, {
    "@type": "@builder.io/sdk:Element",
    responsiveStyles: {
      large: {
        marginTop: "10px"
      }
    },
    component: {
      name: "Form:Input",
      options: {
        name: "name",
        placeholder: "Jane Doe"
      }
    }
  }, {
    "@type": "@builder.io/sdk:Element",
    responsiveStyles: {
      large: {
        marginTop: "10px"
      }
    },
    component: {
      name: "Text",
      options: {
        text: "<span>Enter your email</span>"
      }
    }
  }, {
    "@type": "@builder.io/sdk:Element",
    responsiveStyles: {
      large: {
        marginTop: "10px"
      }
    },
    component: {
      name: "Form:Input",
      options: {
        name: "email",
        placeholder: "jane@doe.com"
      }
    }
  }, {
    "@type": "@builder.io/sdk:Element",
    responsiveStyles: {
      large: {
        marginTop: "10px"
      }
    },
    component: {
      name: "Form:SubmitButton",
      options: {
        text: "Submit"
      }
    }
  }],
  shouldReceiveBuilderProps: {
    builderBlock: !0,
    builderContext: !0,
    builderComponents: !0,
    builderLinkComponent: !0
  }
}, Rl = ["production", "qa", "test", "development", "dev", "cdn-qa", "cloud", "fast", "cdn2", "cdn-prod"], Al = () => {
  const e = process.env.NODE_ENV || "production";
  return Rl.includes(e) ? e : "production";
}, xl = B({
  name: "builder-form-component",
  components: { Blocks: Ue },
  props: [
    "builderContext",
    "previewState",
    "sendWithJs",
    "sendSubmissionsTo",
    "action",
    "customHeaders",
    "contentType",
    "sendSubmissionsToEmail",
    "name",
    "method",
    "errorMessagePath",
    "resetFormOnSubmit",
    "successUrl",
    "validate",
    "attributes",
    "errorMessage",
    "sendingMessage",
    "successMessage"
  ],
  data() {
    return {
      formState: "unsubmitted",
      responseData: null,
      formErrorMessage: "",
      filterAttrs: de
    };
  },
  methods: {
    mergeNewRootState(e) {
      var n, r;
      const t = {
        ...this.builderContext.rootState,
        ...e
      };
      this.builderContext.rootSetState ? (r = (n = this.builderContext).rootSetState) == null || r.call(n, t) : this.builderContext.rootState = t;
    },
    submissionState() {
      return oe() && this.previewState || this.formState;
    },
    errorResponse(e) {
      return JSON.stringify(e, null, 2);
    },
    onSubmit(e) {
      var n;
      const t = this.sendWithJs || this.sendSubmissionsTo === "email";
      if (this.sendSubmissionsTo === "zapier")
        e.preventDefault();
      else if (t) {
        if (!(this.action || this.sendSubmissionsTo === "email")) {
          e.preventDefault();
          return;
        }
        e.preventDefault();
        const r = e.currentTarget || e.target, o = this.customHeaders || {};
        let i;
        const s = new FormData(r), u = Array.from(r.querySelectorAll("input,select,textarea")).filter((m) => !!m.name).filter(
          (m) => !!m.name && (m.type !== "radio" || m.checked)
        ).map((m) => {
          let S;
          const A = m.name;
          if (m instanceof HTMLInputElement)
            if (m.type === "radio") {
              if (m.checked)
                return S = m.value, {
                  key: A,
                  value: S
                };
            } else if (m.type === "checkbox")
              S = m.checked;
            else if (m.type === "number" || m.type === "range") {
              const x = m.valueAsNumber;
              isNaN(x) || (S = x);
            } else
              m.type === "file" ? S = m.files : S = m.value;
          else
            S = m.value;
          return {
            key: A,
            value: S
          };
        });
        let c = this.contentType;
        if (this.sendSubmissionsTo === "email" && (c = "multipart/form-data"), Array.from(u).forEach(({ value: m }) => {
          (m instanceof File || Array.isArray(m) && m[0] instanceof File || m instanceof FileList) && (c = "multipart/form-data");
        }), c !== "application/json")
          i = s;
        else {
          const m = {};
          Array.from(u).forEach(({ value: S, key: A }) => {
            to(m, A, S);
          }), i = JSON.stringify(m);
        }
        c && c !== "multipart/form-data" && (t && ((n = this.action) != null && n.includes("zapier.com")) || (o["content-type"] = c));
        const h = new CustomEvent("presubmit", {
          detail: {
            body: i
          }
        });
        if (this.$refs.formRef && (this.$refs.formRef.dispatchEvent(h), h.defaultPrevented))
          return;
        if (this.formState = "sending", this.sendSubmissionsTo === "email" && (this.sendSubmissionsToEmail === "your@email.com" || !this.sendSubmissionsToEmail)) {
          const m = "SubmissionsToEmail is required when sendSubmissionsTo is set to email";
          console.error(m), this.formState = "error", this.mergeNewRootState({
            formErrorMessage: m
          });
          return;
        }
        const y = `${Al() === "dev" ? "http://localhost:5000" : "https://builder.io"}/api/v1/form-submit?apiKey=${this.builderContext.apiKey}&to=${btoa(
          this.sendSubmissionsToEmail || ""
        )}&name=${encodeURIComponent(this.name || "")}`, b = this.sendSubmissionsTo === "email" ? y : this.action;
        Fn(b), fetch(b, {
          body: i,
          headers: o,
          method: this.method || "post"
        }).then(
          async (m) => {
            var x, H;
            let S;
            const A = m.headers.get("content-type");
            if (A && A.indexOf("application/json") !== -1 ? S = await m.json() : S = await m.text(), !m.ok) {
              const te = new CustomEvent("submit:error", {
                detail: {
                  error: S,
                  status: m.status
                }
              });
              if ((x = this.$refs.formRef) != null && x.nativeElement && ((H = this.$refs.formRef) == null || H.nativeElement.dispatchEvent(
                te
              ), te.defaultPrevented))
                return;
              this.responseData = S, this.formState = "error";
              let E = this.errorMessagePath ? Kr(S, this.errorMessagePath) : S.message || S.error || S;
              typeof E != "string" && (E = JSON.stringify(E)), this.formErrorMessage = E, this.mergeNewRootState({
                formErrorMessage: E
              });
              return;
            }
            if (this.responseData = S, this.formState = m.ok ? "success" : "error", m.ok) {
              const te = new CustomEvent("submit:success", {
                detail: {
                  res: m,
                  body: S
                }
              });
              if (this.$refs.formRef) {
                if (this.$refs.formRef.dispatchEvent(te), te.defaultPrevented)
                  return;
                this.resetFormOnSubmit !== !1 && this.$refs.formRef.reset();
              }
              if (this.successUrl)
                if (this.$refs.formRef) {
                  const E = new CustomEvent("route", {
                    detail: {
                      url: this.successUrl
                    }
                  });
                  this.$refs.formRef.dispatchEvent(E), E.defaultPrevented || (location.href = this.successUrl);
                } else
                  location.href = this.successUrl;
            }
          },
          (m) => {
            const S = new CustomEvent("submit:error", {
              detail: {
                error: m
              }
            });
            this.$refs.formRef && (this.$refs.formRef.dispatchEvent(S), S.defaultPrevented) || (this.responseData = m, this.formState = "error");
          }
        );
      }
    }
  }
}), $l = ["validate", "action", "method", "name"], Pl = {
  key: 2,
  class: "builder-form-error-text pre-2oa2wtipkzk"
};
function Ol(e, t, n, r, o, i) {
  const s = W("Blocks");
  return v(), w("form", q({
    validate: e.validate,
    ref: "formRef",
    action: !e.sendWithJs && e.action,
    method: e.method,
    name: e.name,
    onSubmit: t[0] || (t[0] = async (u) => e.onSubmit(u))
  }, { ...e.filterAttrs(e.attributes, "v-on:", !1) }, ye(e.filterAttrs(e.attributes, "v-on:", !0), !0)), [
    pe(e.$slots, "default", {}, void 0, !0),
    e.submissionState() === "error" ? (v(), U(s, {
      key: 0,
      path: "errorMessage",
      blocks: e.errorMessage,
      context: e.builderContext
    }, null, 8, ["blocks", "context"])) : F("", !0),
    e.submissionState() === "sending" ? (v(), U(s, {
      key: 1,
      path: "sendingMessage",
      blocks: e.sendingMessage,
      context: e.builderContext
    }, null, 8, ["blocks", "context"])) : F("", !0),
    e.submissionState() === "error" && e.responseData ? (v(), w("pre", Pl, Ut(e.errorResponse(e.responseData)), 1)) : F("", !0),
    e.submissionState() === "success" ? (v(), U(s, {
      key: 3,
      path: "successMessage",
      blocks: e.successMessage,
      context: e.builderContext
    }, null, 8, ["blocks", "context"])) : F("", !0)
  ], 16, $l);
}
const Nl = /* @__PURE__ */ j(xl, [["render", Ol], ["__scopeId", "data-v-77c7888c"]]), Bl = {
  name: "Form:Input",
  image: "https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fad6f37889d9e40bbbbc72cdb5875d6ca",
  inputs: [
    {
      name: "type",
      type: "text",
      enum: ["text", "number", "email", "url", "checkbox", "radio", "range", "date", "datetime-local", "search", "tel", "time", "file", "month", "week", "password", "color", "hidden"],
      defaultValue: "text"
    },
    {
      name: "name",
      type: "string",
      required: !0,
      helperText: 'Every input in a form needs a unique name describing what it takes, e.g. "email"'
    },
    {
      name: "placeholder",
      type: "string",
      defaultValue: "Hello there",
      helperText: "Text to display when there is no value"
    },
    // TODO: handle value vs default value automatically like ng-model
    {
      name: "defaultValue",
      type: "string"
    },
    {
      name: "value",
      type: "string",
      advanced: !0
    },
    {
      name: "required",
      type: "boolean",
      helperText: "Is this input required to be filled out to submit a form",
      defaultValue: !1
    }
  ],
  noWrap: !0,
  static: !0,
  defaultStyles: {
    paddingTop: "10px",
    paddingBottom: "10px",
    paddingLeft: "10px",
    paddingRight: "10px",
    borderRadius: "3px",
    borderWidth: "1px",
    borderStyle: "solid",
    borderColor: "#ccc"
  }
}, jl = B({
  name: "builder-form-input-component",
  props: [
    "attributes",
    "defaultValue",
    "placeholder",
    "type",
    "name",
    "value",
    "required"
  ],
  data() {
    return { isEditing: oe, filterAttrs: de };
  }
}), Vl = ["placeholder", "type", "name", "value", "defaultValue", "required"];
function Dl(e, t, n, r, o, i) {
  return v(), w("input", q({
    key: e.isEditing() && e.defaultValue ? e.defaultValue : "default-key",
    placeholder: e.placeholder,
    type: e.type,
    name: e.name,
    value: e.value,
    defaultValue: e.defaultValue,
    required: e.required
  }, e.filterAttrs(e.attributes, "v-on:", !1), ye(e.filterAttrs(e.attributes, "v-on:", !0), !0)), null, 16, Vl);
}
const Ul = /* @__PURE__ */ j(jl, [["render", Dl]]), Wl = {
  name: "Form:Select",
  image: "https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F83acca093fb24aaf94dee136e9a4b045",
  defaultStyles: {
    alignSelf: "flex-start"
  },
  inputs: [{
    name: "options",
    type: "list",
    required: !0,
    subFields: [{
      name: "value",
      type: "text",
      required: !0
    }, {
      name: "name",
      type: "text"
    }],
    defaultValue: [{
      value: "option 1"
    }, {
      value: "option 2"
    }]
  }, {
    name: "name",
    type: "string",
    required: !0,
    helperText: 'Every select in a form needs a unique name describing what it gets, e.g. "email"'
  }, {
    name: "defaultValue",
    type: "string"
  }, {
    name: "value",
    type: "string",
    advanced: !0
  }, {
    name: "required",
    type: "boolean",
    defaultValue: !1
  }],
  static: !0,
  noWrap: !0
}, Ll = B({
  name: "builder-select-component",
  props: ["attributes", "value", "defaultValue", "name", "required", "options"],
  data() {
    return { isEditing: oe, filterAttrs: de };
  }
}), Fl = ["value", "defaultValue", "name", "required"], Ml = ["value"];
function Hl(e, t, n, r, o, i) {
  return v(), w("select", q({
    value: e.value,
    key: e.isEditing() && e.defaultValue ? e.defaultValue : "default-key",
    defaultValue: e.defaultValue,
    name: e.name,
    required: e.required
  }, e.filterAttrs(e.attributes, "v-on:", !1), ye(e.filterAttrs(e.attributes, "v-on:", !0), !0)), [
    (v(!0), w(z, null, ve(e.options, (s, u) => (v(), w("option", {
      key: `${s.name}-${u}`,
      value: s.value
    }, Ut(s.name || s.value), 9, Ml))), 128))
  ], 16, Fl);
}
const Kl = /* @__PURE__ */ j(Ll, [["render", Hl]]), zl = {
  name: "Form:SubmitButton",
  image: "https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fdf2820ffed1f4349a94c40b3221f5b98",
  defaultStyles: {
    appearance: "none",
    paddingTop: "15px",
    paddingBottom: "15px",
    paddingLeft: "25px",
    paddingRight: "25px",
    backgroundColor: "#3898EC",
    color: "white",
    borderRadius: "4px",
    cursor: "pointer"
  },
  inputs: [{
    name: "text",
    type: "text",
    defaultValue: "Click me"
  }],
  static: !0,
  noWrap: !0
  // TODO: optional children? maybe as optional form input
  // that only shows if advanced setting is flipped
  // TODO: defaultChildren
  // canHaveChildren: true,
}, ql = B({
  name: "builder-submit-button",
  props: ["attributes", "text"],
  data() {
    return { filterAttrs: de };
  }
});
function Gl(e, t, n, r, o, i) {
  return v(), w("button", q({ type: "submit" }, e.filterAttrs(e.attributes, "v-on:", !1), ye(e.filterAttrs(e.attributes, "v-on:", !0), !0)), Ut(e.text), 17);
}
const _l = /* @__PURE__ */ j(ql, [["render", Gl]]), Jl = {
  name: "Form:TextArea",
  image: "https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Ff74a2f3de58c4c3e939204e5b6b8f6c3",
  inputs: [{
    advanced: !0,
    name: "value",
    type: "string"
  }, {
    name: "name",
    type: "string",
    required: !0,
    helperText: 'Every input in a form needs a unique name describing what it gets, e.g. "email"'
  }, {
    name: "defaultValue",
    type: "string"
  }, {
    name: "placeholder",
    type: "string",
    defaultValue: "Hello there"
  }, {
    name: "required",
    type: "boolean",
    defaultValue: !1
  }],
  defaultStyles: {
    paddingTop: "10px",
    paddingBottom: "10px",
    paddingLeft: "10px",
    paddingRight: "10px",
    borderRadius: "3px",
    borderWidth: "1px",
    borderStyle: "solid",
    borderColor: "#ccc"
  },
  static: !0,
  noWrap: !0
}, Xl = B({
  name: "builder-textarea",
  props: [
    "attributes",
    "placeholder",
    "name",
    "value",
    "defaultValue",
    "required"
  ],
  data() {
    return { filterAttrs: de };
  }
}), Yl = ["placeholder", "name", "value", "defaultValue", "required"];
function Ql(e, t, n, r, o, i) {
  return v(), w("textarea", q({
    placeholder: e.placeholder,
    name: e.name,
    value: e.value,
    defaultValue: e.defaultValue,
    required: e.required
  }, e.filterAttrs(e.attributes, "v-on:", !1), ye(e.filterAttrs(e.attributes, "v-on:", !0), !0)), null, 16, Yl);
}
const Zl = /* @__PURE__ */ j(Xl, [["render", Ql]]), eu = {
  name: "Raw:Img",
  hideFromInsertMenu: !0,
  image: "https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4",
  inputs: [{
    name: "image",
    bubble: !0,
    type: "file",
    allowedFileTypes: qn,
    required: !0
  }, {
    name: "backgroundSize",
    type: "text",
    defaultValue: "cover",
    enum: [{
      label: "contain",
      value: "contain",
      helperText: "The image should never get cropped"
    }, {
      label: "cover",
      value: "cover",
      helperText: "The image should fill it's box, cropping when needed"
    }]
  }, {
    name: "backgroundPosition",
    type: "text",
    defaultValue: "center",
    enum: ["center", "top", "left", "right", "bottom", "top left", "top right", "bottom left", "bottom right"]
  }, {
    name: "altText",
    type: "string",
    helperText: "Text to display when the user has images off"
  }, {
    name: "title",
    type: "string",
    helperText: "Text to display when hovering over the asset"
  }, {
    name: "aspectRatio",
    type: "number",
    helperText: "This is the ratio of height/width, e.g. set to 1.5 for a 300px wide and 200px tall photo. Set to 0 to not force the image to maintain it's aspect ratio",
    advanced: !0,
    defaultValue: 0.7041
  }],
  noWrap: !0
}, tu = B({
  name: "builder-img-component",
  props: [
    "imgSrc",
    "image",
    "attributes",
    "altText",
    "title",
    "backgroundSize",
    "backgroundPosition",
    "aspectRatio"
  ],
  data() {
    return { isEditing: oe };
  },
  computed: {
    srcSetToUse() {
      const e = this.imgSrc || this.image;
      if (!(!e || typeof e != "string") && e.match(/builder\.io/))
        return Ot(e);
    },
    imgAttrs() {
      const e = {
        ...de(this.attributes, "v-on:", !1),
        ...de(this.attributes, "v-on:", !0),
        [Oe()]: `builder-raw-img ${this.attributes[Oe()] || ""}`
      };
      return delete e.style, e;
    }
  }
}), nu = ["alt", "title", "src"];
function ru(e, t, n, r, o, i) {
  var s;
  return v(), w("img", q({
    loading: "lazy",
    key: e.isEditing() && e.imgSrc || "default-key",
    alt: e.altText,
    title: e.title,
    src: e.imgSrc || e.image,
    style: {
      objectFit: e.backgroundSize || "cover",
      objectPosition: e.backgroundPosition || "center",
      aspectRatio: e.aspectRatio || void 0,
      ...((s = e.attributes) == null ? void 0 : s.style) || {}
    }
  }, e.imgAttrs), null, 16, nu);
}
const ou = /* @__PURE__ */ j(tu, [["render", ru]]), iu = {
  name: "Video",
  canHaveChildren: !0,
  defaultStyles: {
    minHeight: "20px",
    minWidth: "20px"
  },
  image: "https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-videocam-24px%20(1).svg?alt=media&token=49a84e4a-b20e-4977-a650-047f986874bb",
  inputs: [{
    name: "video",
    type: "file",
    allowedFileTypes: za,
    bubble: !0,
    defaultValue: "https://cdn.builder.io/o/assets%2FYJIGb4i01jvw0SRdL5Bt%2Fd27731a526464deba0016216f5f9e570%2Fcompressed?apiKey=YJIGb4i01jvw0SRdL5Bt&token=d27731a526464deba0016216f5f9e570&alt=media&optimized=true",
    required: !0
  }, {
    name: "posterImage",
    type: "file",
    allowedFileTypes: qn,
    helperText: "Image to show before the video plays"
  }, {
    name: "autoPlay",
    type: "boolean",
    defaultValue: !0
  }, {
    name: "controls",
    type: "boolean",
    defaultValue: !1
  }, {
    name: "muted",
    type: "boolean",
    defaultValue: !0
  }, {
    name: "loop",
    type: "boolean",
    defaultValue: !0
  }, {
    name: "playsInline",
    type: "boolean",
    defaultValue: !0
  }, {
    name: "fit",
    type: "text",
    defaultValue: "cover",
    enum: ["contain", "cover", "fill", "auto"]
  }, {
    name: "preload",
    type: "text",
    defaultValue: "metadata",
    enum: ["auto", "metadata", "none"]
  }, {
    name: "fitContent",
    type: "boolean",
    helperText: "When child blocks are provided, fit to them instead of using the aspect ratio",
    defaultValue: !0,
    advanced: !0
  }, {
    name: "position",
    type: "text",
    defaultValue: "center",
    enum: ["center", "top", "left", "right", "bottom", "top left", "top right", "bottom left", "bottom right"]
  }, {
    name: "height",
    type: "number",
    advanced: !0
  }, {
    name: "width",
    type: "number",
    advanced: !0
  }, {
    name: "aspectRatio",
    type: "number",
    advanced: !0,
    defaultValue: 0.7004048582995948
  }, {
    name: "lazyLoad",
    type: "boolean",
    helperText: 'Load this video "lazily" - as in only when a user scrolls near the video. Recommended for optmized performance and bandwidth consumption',
    defaultValue: !0,
    advanced: !0
  }],
  shouldReceiveBuilderProps: {
    builderBlock: !0
  }
}, su = B({
  name: "builder-video",
  props: [
    "lazyLoad",
    "autoPlay",
    "muted",
    "controls",
    "loop",
    "playsInline",
    "preload",
    "attributes",
    "fit",
    "position",
    "aspectRatio",
    "posterImage",
    "video",
    "fitContent",
    "builderBlock"
  ],
  data() {
    return { lazyVideoObserver: void 0 };
  },
  mounted() {
    if (this.lazyLoad) {
      const e = new IntersectionObserver(function(t) {
        t.forEach(function(n) {
          if (!n.isIntersecting)
            return;
          const r = n.target;
          try {
            Array.from(r.children).filter(
              (o) => o instanceof HTMLElement && o.tagName === "SOURCE"
            ).forEach((o) => {
              const i = o.dataset.src;
              i && (o.src = i);
            }), r.load(), e.unobserve(r);
          } catch (o) {
            console.error("Error loading lazy video:", o);
          }
        });
      });
      this.$refs.videoRef && e.observe(this.$refs.videoRef), this.lazyVideoObserver = e;
    }
  },
  unmounted() {
    this.lazyVideoObserver && this.lazyVideoObserver.disconnect();
  },
  computed: {
    videoProps() {
      return {
        ...this.autoPlay === !0 ? {
          autoPlay: !0
        } : {},
        ...this.muted === !0 ? {
          muted: !0
        } : {},
        ...this.controls === !0 ? {
          controls: !0
        } : {},
        ...this.loop === !0 ? {
          loop: !0
        } : {},
        ...this.playsInline === !0 ? {
          playsInline: !0
        } : {}
      };
    },
    spreadProps() {
      return {
        ...this.videoProps
      };
    }
  }
}), au = { style: {
  position: "relative"
} }, lu = ["preload", "poster"], uu = {
  key: 1,
  style: {
    display: "flex",
    flexDirection: "column",
    alignItems: "stretch"
  }
}, cu = {
  key: 2,
  style: {
    pointerEvents: "none",
    display: "flex",
    flexDirection: "column",
    alignItems: "stretch",
    position: "absolute",
    top: "0",
    left: "0",
    width: "100%",
    height: "100%"
  }
};
function pu(e, t, n, r, o, i) {
  var s, u, c, h, y, b, m;
  return v(), w("div", au, [
    Ge("video", q({
      class: "builder-video",
      ref: "videoRef",
      preload: e.lazyLoad ? "none" : e.preload || "metadata",
      style: {
        width: "100%",
        height: "100%",
        ...(s = e.attributes) == null ? void 0 : s.style,
        objectFit: e.fit,
        objectPosition: e.position,
        // Hack to get object fit to work as expected and
        // not have the video overflow
        borderRadius: "1px",
        ...e.aspectRatio ? {
          position: "absolute"
        } : null
      },
      poster: e.posterImage
    }, e.spreadProps), [
      Ge("source", q(
        { type: "video/mp4" },
        e.lazyLoad ? {
          "data-src": e.video
        } : {
          src: e.video
        }
      ), null, 16)
    ], 16, lu),
    e.aspectRatio && !(e.fitContent && ((c = (u = e.builderBlock) == null ? void 0 : u.children) != null && c.length)) ? (v(), w("div", {
      key: 0,
      style: Pe({
        width: "100%",
        paddingTop: e.aspectRatio * 100 + "%",
        pointerEvents: "none",
        fontSize: "0px"
      })
    }, null, 4)) : F("", !0),
    (y = (h = e.builderBlock) == null ? void 0 : h.children) != null && y.length && e.fitContent ? (v(), w("div", uu, [
      pe(e.$slots, "default")
    ])) : F("", !0),
    (m = (b = e.builderBlock) == null ? void 0 : b.children) != null && m.length && !e.fitContent ? (v(), w("div", cu, [
      pe(e.$slots, "default")
    ])) : F("", !0)
  ]);
}
const du = /* @__PURE__ */ j(su, [["render", pu]]), fu = () => [{
  component: vl,
  ...hl
}, {
  component: El,
  ...bl
}, {
  component: Nl,
  ...Il
}, {
  component: Ul,
  ...Bl
}, {
  component: _l,
  ...zl
}, {
  component: Kl,
  ...Wl
}, {
  component: Zl,
  ...Jl
}, {
  component: ou,
  ...eu
}, {
  component: du,
  ...iu
}], Wr = () => [{
  component: oi,
  ...Ma
}, {
  component: pa,
  ...Ha
}, {
  component: ha,
  ...Ka
}, {
  component: Ca,
  ...qa
}, {
  component: Ea,
  ...Ya
}, {
  component: tl,
  ...Qa
}, {
  component: Yu,
  ...nl
}, {
  component: fl,
  ...ul
}, ...Ao.includes(G) ? [{
  component: Xa,
  ...Ga
}] : [], {
  component: ll,
  ...rl
}, {
  component: Fa,
  ...Va
}, ...fu()], hu = `function updateCookiesAndStyles(contentId, variants, isHydrationTarget, isAngularSDK) {
  function getAndSetVariantId() {
    function setCookie(name, value, days) {
      let expires = '';
      if (days) {
        const date = new Date();
        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
        expires = '; expires=' + date.toUTCString();
      }
      document.cookie = name + '=' + (value || '') + expires + '; path=/' + '; Secure; SameSite=None';
    }
    function getCookie(name) {
      const nameEQ = name + '=';
      const ca = document.cookie.split(';');
      for (let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) === ' ') c = c.substring(1, c.length);
        if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
      }
      return null;
    }
    const cookieName = \`builder.tests.\${contentId}\`;
    const variantInCookie = getCookie(cookieName);
    const availableIDs = variants.map(vr => vr.id).concat(contentId);
    if (variantInCookie && availableIDs.includes(variantInCookie)) {
      return variantInCookie;
    }
    let n = 0;
    const random = Math.random();
    for (let i = 0; i < variants.length; i++) {
      const variant = variants[i];
      const testRatio = variant.testRatio;
      n += testRatio;
      if (random < n) {
        setCookie(cookieName, variant.id);
        return variant.id;
      }
    }
    setCookie(cookieName, contentId);
    return contentId;
  }
  const winningVariantId = getAndSetVariantId();
  let styleEl = document.currentScript?.previousElementSibling;
  if (isAngularSDK) {
    styleEl = document.currentScript?.parentElement?.previousElementSibling?.querySelector('style');
  }
  if (isHydrationTarget) {
    styleEl.remove();
    const thisScriptEl = document.currentScript;
    thisScriptEl?.remove();
  } else {
    const newStyleStr = variants.concat({
      id: contentId
    }).filter(variant => variant.id !== winningVariantId).map(value => {
      return \`.variant-\${value.id} {  display: none; }
        \`;
    }).join('');
    styleEl.innerHTML = newStyleStr;
  }
}`, mu = `function updateVariantVisibility(variantContentId, defaultContentId, isHydrationTarget) {
  if (!navigator.cookieEnabled) {
    return;
  }
  function getCookie(name) {
    const nameEQ = name + '=';
    const ca = document.cookie.split(';');
    for (let i = 0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) === ' ') c = c.substring(1, c.length);
      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
    }
    return null;
  }
  const cookieName = \`builder.tests.\${defaultContentId}\`;
  const winningVariant = getCookie(cookieName);
  const parentDiv = document.currentScript?.parentElement;
  const isDefaultContent = variantContentId === defaultContentId;
  const isWinningVariant = winningVariant === variantContentId;
  if (isWinningVariant && !isDefaultContent) {
    parentDiv?.removeAttribute('hidden');
    parentDiv?.removeAttribute('aria-hidden');
  } else if (!isWinningVariant && isDefaultContent) {
    parentDiv?.setAttribute('hidden', 'true');
    parentDiv?.setAttribute('aria-hidden', 'true');
  }
  if (isHydrationTarget) {
    if (!isWinningVariant) {
      parentDiv?.remove();
    }
    const thisScriptEl = document.currentScript;
    thisScriptEl?.remove();
  }
  return;
}`, Po = "builderIoAbTest", Oo = "builderIoRenderContent", Bt = (e) => Object.values((e == null ? void 0 : e.variations) || {}).map((t) => ({
  ...t,
  testVariationId: t.id,
  id: e == null ? void 0 : e.id
})), gu = ({
  canTrack: e,
  content: t
}) => !(!(Bt(t).length > 0) || !e), yu = (e) => e === "react" || e === "reactNative", vu = G === "angular", No = yu(G), bu = () => `
  window.${Po} = ${hu}
  window.${Oo} = ${mu}
  `, Su = (e, t) => `
  window.${Po}(
    "${t}",${JSON.stringify(e)}, ${No}, ${vu}
  )`, ku = ({
  contentId: e,
  variationId: t
}) => `window.${Oo}(
    "${t}", "${e}", ${No}
  )`;
function Lr(e) {
  return Math.round(e * 1e3) / 1e3;
}
const Cu = (e, t, n = !0) => {
  if (!(e instanceof HTMLElement))
    return null;
  let r = n ? e : e.parentElement;
  do {
    if (!r)
      return null;
    if (t(r))
      return r;
  } while (r = r.parentElement);
  return null;
}, wu = (e) => Cu(e, (t) => {
  const n = t.getAttribute("builder-id") || t.id;
  return (n == null ? void 0 : n.indexOf("builder-")) === 0;
}), Fr = ({
  event: e,
  target: t
}) => {
  const n = t.getBoundingClientRect(), r = e.clientX - n.left, o = e.clientY - n.top, i = Lr(r / n.width), s = Lr(o / n.height);
  return {
    x: i,
    y: s
  };
}, Tu = (e) => {
  const t = e.target, n = t && wu(t), r = (n == null ? void 0 : n.getAttribute("builder-id")) || (n == null ? void 0 : n.id);
  return {
    targetBuilderElement: r || void 0,
    metadata: {
      targetOffset: t ? Fr({
        event: e,
        target: t
      }) : void 0,
      builderTargetOffset: n ? Fr({
        event: e,
        target: n
      }) : void 0,
      builderElementIndex: n && r ? [].slice.call(document.getElementsByClassName(r)).indexOf(n) : void 0
    }
  };
}, Eu = ["svelte", "qwik", "vue"], Iu = () => Eu.includes(G) && (oe() || Wn()), Ru = (e) => {
  var i;
  const t = e.family + (e.kind && !e.kind.includes("#") ? ", " + e.kind : ""), n = t.split(",")[0], r = e.fileUrl ?? ((i = e == null ? void 0 : e.files) == null ? void 0 : i.regular);
  let o = "";
  if (r && t && n && (o += `
@font-face {
font-family: "${t}";
src: local("${n}"), url('${r}') format('woff2');
font-display: fallback;
font-weight: 400;
}
      `.trim()), e.files)
    for (const s in e.files) {
      if (!(String(Number(s)) === s))
        continue;
      const c = e.files[s];
      c && c !== r && (o += `
@font-face {
font-family: "${t}";
src: url('${c}') format('woff2');
font-display: fallback;
font-weight: ${s};
}
        `.trim());
    }
  return o;
}, Au = ({
  customFonts: e
}) => {
  var t;
  return ((t = e == null ? void 0 : e.map((n) => Ru(n))) == null ? void 0 : t.join(" ")) || "";
}, xu = ({
  cssCode: e,
  contentId: t
}) => e ? t ? (e == null ? void 0 : e.replace(/&/g, `div[builder-content-id="${t}"]`)) || "" : e : "", $u = `
.builder-button {
  all: unset;
}

.builder-text > p:first-of-type, .builder-text > .builder-paragraph:first-of-type {
  margin: 0;
}
.builder-text > p, .builder-text > .builder-paragraph {
  color: inherit;
  line-height: inherit;
  letter-spacing: inherit;
  font-weight: inherit;
  font-size: inherit;
  text-align: inherit;
  font-family: inherit;
}
`, Pu = (e) => e ? "" : $u, Ou = (e) => `variant-${e}`, Nu = B({
  name: "enable-editor",
  components: { DynamicDiv: Ct },
  props: [
    "isNestedRender",
    "builderContextSignal",
    "canTrack",
    "apiKey",
    "apiHost",
    "locale",
    "enrich",
    "trustedHosts",
    "model",
    "content",
    "context",
    "data",
    "showContent",
    "contentWrapper",
    "contentWrapperProps"
  ],
  data() {
    return {
      hasExecuted: !1,
      contextValue: this.builderContextSignal,
      prevData: null,
      prevLocale: "",
      ContentWrapper: this.contentWrapper || "div",
      httpReqsData: {},
      httpReqsPending: {},
      clicked: !1,
      builderContext: yn,
      needsElementRefDivForEditing: Iu,
      getWrapperClassName: Ou
    };
  },
  provide() {
    const e = this;
    return {
      [yn.key]: e.builderContextSignal
    };
  },
  created() {
    this.runHttpRequests(), this.emitStateUpdate();
  },
  mounted() {
    var e, t, n;
    if (M()) {
      oe() && !this.isNestedRender && this.$refs.elementRef && this.$refs.elementRef.dispatchEvent(
        new CustomEvent("initeditingbldr")
      );
      const r = this.builderContextSignal.content && Xe(this.canTrack), o = Ft({
        name: `builder.tests.${(e = this.builderContextSignal.content) == null ? void 0 : e.id}`,
        canTrack: !0
      }), i = (t = this.builderContextSignal.content) == null ? void 0 : t.testVariationId;
      if (r && i === o) {
        const s = (n = this.builderContextSignal.content) == null ? void 0 : n.id, u = this.apiKey;
        Cn({
          apiHost: this.apiHost,
          type: "impression",
          canTrack: !0,
          contentId: s,
          apiKey: u,
          variationId: o !== s ? o : void 0
        });
      }
      Wn() && !oe() && this.$refs.elementRef && this.$refs.elementRef.dispatchEvent(
        new CustomEvent("initpreviewingbldr")
      );
    }
  },
  watch: {
    onUpdateHook0: {
      handler() {
        this.content && this.mergeNewContent(this.content);
      },
      immediate: !0
    },
    onUpdateHook1: {
      handler() {
        this.emitStateUpdate();
      },
      immediate: !0
    },
    onUpdateHook2: {
      handler() {
        if (this.data) {
          if (this.prevData === this.data)
            return;
          this.mergeNewRootState(this.data), this.prevData = this.data;
        }
      },
      immediate: !0
    },
    onUpdateHook3: {
      handler() {
        if (this.locale) {
          if (this.prevLocale === this.locale)
            return;
          this.mergeNewRootState({
            locale: this.locale
          }), this.prevLocale = this.locale;
        }
      },
      immediate: !0
    }
  },
  unmounted() {
    M() && (window.removeEventListener("message", this.processMessage), window.removeEventListener(
      "builder:component:stateChangeListenerActivated",
      this.emitStateUpdate
    ));
  },
  computed: {
    showContentProps() {
      return this.showContent ? {} : {
        hidden: !0,
        "aria-hidden": !0
      };
    },
    onUpdateHook0() {
      return {
        0: this.content
      };
    },
    onUpdateHook1() {
      return {
        0: this.builderContextSignal.rootState
      };
    },
    onUpdateHook2() {
      return {
        0: this.data
      };
    },
    onUpdateHook3() {
      return {
        0: this.locale
      };
    }
  },
  methods: {
    mergeNewRootState(e, t) {
      var r, o;
      const n = {
        ...this.builderContextSignal.rootState,
        ...e
      };
      this.builderContextSignal.rootSetState ? (o = (r = this.builderContextSignal).rootSetState) == null || o.call(r, n) : this.builderContextSignal.rootState = n, this.builderContextSignal.rootSetState ? this.builderContextSignal.rootSetState(n) : this.builderContextSignal.rootState = n;
    },
    mergeNewContent(e, t) {
      var r, o, i, s, u;
      const n = {
        ...this.builderContextSignal.content,
        ...e,
        data: {
          ...(r = this.builderContextSignal.content) == null ? void 0 : r.data,
          ...e == null ? void 0 : e.data
        },
        meta: {
          ...(o = this.builderContextSignal.content) == null ? void 0 : o.meta,
          ...e == null ? void 0 : e.meta,
          breakpoints: ((i = e == null ? void 0 : e.meta) == null ? void 0 : i.breakpoints) || ((u = (s = this.builderContextSignal.content) == null ? void 0 : s.meta) == null ? void 0 : u.breakpoints)
        }
      };
      this.builderContextSignal.content = n;
    },
    processMessage(e) {
      return fo({
        model: this.model,
        trustedHosts: this.trustedHosts,
        callbacks: {
          configureSdk: (t) => {
            var o;
            const { breakpoints: n, contentId: r } = t;
            !r || r !== ((o = this.builderContextSignal.content) == null ? void 0 : o.id) || n && this.mergeNewContent({
              meta: {
                breakpoints: n
              }
            });
          },
          animation: (t) => {
            So(t);
          },
          contentUpdate: (t, n) => {
            this.mergeNewContent(t, n);
          },
          stateUpdate: (t, n) => {
            this.mergeNewRootState(t, n);
          }
        }
      })(e);
    },
    onClick(e) {
      var t, n;
      if (this.builderContextSignal.content) {
        const r = (t = this.builderContextSignal.content) == null ? void 0 : t.testVariationId, o = (n = this.builderContextSignal.content) == null ? void 0 : n.id;
        Cn({
          apiHost: this.apiHost,
          type: "click",
          canTrack: Xe(this.canTrack),
          contentId: o,
          apiKey: this.apiKey,
          variationId: r !== o ? r : void 0,
          ...Tu(e),
          unique: !this.clicked
        });
      }
      this.clicked || (this.clicked = !0);
    },
    runHttpRequests() {
      var t, n;
      const e = ((n = (t = this.builderContextSignal.content) == null ? void 0 : t.data) == null ? void 0 : n.httpRequests) ?? {};
      Object.entries(e).forEach(
        ([r, o]) => {
          if (!o)
            return;
          const i = typeof o == "object" && o["@type"] === "@builder.io/core:Request";
          if (this.httpReqsPending[r] || this.httpReqsData[r] && !oe())
            return;
          const s = i ? o.request.url : o;
          this.httpReqsPending[r] = !0;
          const u = s.replace(
            /{{([^}]+)}}/g,
            (y, b) => String(
              kt({
                code: b,
                context: this.context || {},
                localState: void 0,
                rootState: this.builderContextSignal.rootState,
                rootSetState: this.builderContextSignal.rootSetState
              })
            )
          ), c = i ? {
            url: u,
            method: o.request.method,
            headers: o.request.headers,
            body: o.request.body
          } : {
            url: u,
            method: "GET"
          };
          Fn(JSON.stringify(c));
          const h = {
            method: c.method,
            headers: c.headers,
            body: c.body
          };
          c.method === "GET" && delete h.body, fetch(c.url, h).then((y) => y.json()).then((y) => {
            this.mergeNewRootState({
              [r]: y
            }), this.httpReqsData[r] = !0;
          }).catch((y) => {
            console.error(
              "error fetching dynamic data",
              JSON.stringify(o),
              y
            );
          }).finally(() => {
            this.httpReqsPending[r] = !1;
          });
        }
      );
    },
    emitStateUpdate() {
      oe() && window.dispatchEvent(
        new CustomEvent(
          "builder:component:stateChange",
          {
            detail: {
              state: Un(this.builderContextSignal.rootState),
              ref: {
                name: this.model
              }
            }
          }
        )
      );
    },
    elementRef_onIniteditingbldr(e) {
      window.addEventListener("message", this.processMessage), po({
        ...this.locale ? {
          locale: this.locale
        } : {},
        ...this.enrich ? {
          enrich: this.enrich
        } : {},
        ...this.trustedHosts ? {
          trustedHosts: this.trustedHosts
        } : {},
        modelName: this.model ?? "",
        apiKey: this.apiKey
      }), Object.values(
        this.builderContextSignal.componentInfos
      ).forEach((t) => {
        var n, r;
        if (!((n = t.models) != null && n.length) || t.models.includes(this.model)) {
          const o = Ji(t);
          (r = window.parent) == null || r.postMessage(o, "*");
        }
      }), window.addEventListener(
        "builder:component:stateChangeListenerActivated",
        this.emitStateUpdate
      );
    },
    elementRef_onInitpreviewingbldr(e) {
      var i;
      const t = new URL(location.href).searchParams, n = t.get("builder.preview"), r = t.get(
        `builder.overrides.${n}`
      ), o = t.get("apiKey") || t.get("builder.space");
      (n === "BUILDER_STUDIO" || n === this.model && o === this.apiKey && (!this.content || r === this.content.id)) && Kn({
        model: this.model,
        apiKey: this.apiKey,
        apiVersion: this.builderContextSignal.apiVersion,
        ...n === "BUILDER_STUDIO" && ((i = this.context) != null && i.symbolId) ? {
          query: {
            id: this.context.symbolId
          }
        } : {}
      }).then((s) => {
        s && this.mergeNewContent(s);
      });
    }
  }
});
function Bu(e, t, n, r, o, i) {
  var s, u, c;
  return e.builderContextSignal.content || e.needsElementRefDivForEditing() ? (v(), U(dt(e.ContentWrapper), q({
    key: 0,
    ref: "elementRef",
    onClick: (h) => e.onClick(h),
    "builder-content-id": (s = e.builderContextSignal.content) == null ? void 0 : s.id,
    "builder-model": e.model,
    className: e.getWrapperClassName(((u = e.content) == null ? void 0 : u.testVariationId) || ((c = e.content) == null ? void 0 : c.id)),
    style: {
      display: !e.builderContextSignal.content && e.needsElementRefDivForEditing() ? "none" : void 0
    },
    onIniteditingbldr: (h) => e.elementRef_onIniteditingbldr(h),
    onInitpreviewingbldr: (h) => e.elementRef_onInitpreviewingbldr(h)
  }, { ...e.showContentProps, ...e.contentWrapperProps }), {
    default: me(() => [
      pe(e.$slots, "default")
    ]),
    _: 3
  }, 16, ["onClick", "builder-content-id", "builder-model", "className", "style", "onIniteditingbldr", "onInitpreviewingbldr"])) : F("", !0);
}
const ju = /* @__PURE__ */ j(Nu, [["render", Bu]]), Vu = B({
  name: "content-styles",
  components: { InlinedStyles: Mt },
  props: ["cssCode", "contentId", "customFonts", "isNestedRender", "nonce"],
  data() {
    return {
      injectedStyles: `
${xu({
        cssCode: this.cssCode,
        contentId: this.contentId
      })}
${Au({
        customFonts: this.customFonts
      })}
${Pu(this.isNestedRender)}
`.trim()
    };
  }
});
function Du(e, t, n, r, o, i) {
  const s = W("InlinedStyles");
  return v(), U(s, {
    id: "builderio-content",
    styles: e.injectedStyles,
    nonce: e.nonce
  }, null, 8, ["styles", "nonce"]);
}
const Uu = /* @__PURE__ */ j(Vu, [["render", Du]]), Wu = ({
  content: e,
  data: t,
  locale: n
}) => {
  var i, s, u;
  const r = {}, o = ((i = e == null ? void 0 : e.data) == null ? void 0 : i.state) || {};
  return (u = (s = e == null ? void 0 : e.data) == null ? void 0 : s.inputs) == null || u.forEach((c) => {
    c.name && c.defaultValue !== void 0 && (r[c.name] = c.defaultValue);
  }), {
    ...r,
    ...o,
    ...t,
    ...n ? {
      locale: n
    } : {}
  };
}, Lu = ({
  content: e,
  data: t
}) => e ? {
  ...e,
  data: {
    ...e == null ? void 0 : e.data,
    ...t
  },
  meta: e == null ? void 0 : e.meta
} : void 0, Fu = Yo, Mu = B({
  name: "content-component",
  components: {
    EnableEditor: ju,
    InlinedScript: Gn,
    ContentStyles: Uu,
    Blocks: Ue,
    DynamicDiv: Ct
  },
  props: [
    "apiKey",
    "context",
    "content",
    "customComponents",
    "data",
    "locale",
    "canTrack",
    "apiVersion",
    "blocksWrapper",
    "blocksWrapperProps",
    "nonce",
    "model",
    "apiHost",
    "enrich",
    "showContent",
    "contentWrapper",
    "contentWrapperProps",
    "trustedHosts",
    "isNestedRender",
    "isSsrAbTest",
    "linkComponent"
  ],
  data() {
    var e, t;
    return {
      scriptStr: ku({
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-non-null-asserted-optional-chain
        variationId: (e = this.content) == null ? void 0 : e.testVariationId,
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-non-null-asserted-optional-chain
        contentId: (t = this.content) == null ? void 0 : t.id
      }),
      registeredComponents: [
        ...Wr(),
        ...this.customComponents || []
      ].reduce(
        (n, { component: r, ...o }) => ({
          ...n,
          [o.name]: {
            component: Fu(r),
            ...Vt(o)
          }
        }),
        {}
      ),
      builderContextSignal: {
        content: Lu({
          content: this.content,
          data: this.data
        }),
        localState: void 0,
        rootState: Wu({
          content: this.content,
          data: this.data,
          locale: this.locale
        }),
        rootSetState: this.contentSetState,
        context: this.context || {},
        canTrack: this.canTrack,
        apiKey: this.apiKey,
        apiVersion: this.apiVersion,
        componentInfos: [
          ...Wr(),
          ...this.customComponents || []
        ].reduce(
          (n, { component: r, ...o }) => ({
            ...n,
            [o.name]: Vt(o)
          }),
          {}
        ),
        inheritedStyles: {},
        BlocksWrapper: this.blocksWrapper || "div",
        BlocksWrapperProps: this.blocksWrapperProps || {},
        nonce: this.nonce || "",
        model: this.model
      },
      TARGET: G
    };
  },
  provide() {
    const e = this;
    return {
      [Hr.key]: {
        registeredComponents: e.registeredComponents
      }
    };
  },
  created() {
    var t, n;
    this.apiKey || ue.error(
      "No API key provided to `Content` component. This can cause issues. Please provide an API key using the `apiKey` prop."
    );
    const e = (n = (t = this.builderContextSignal.content) == null ? void 0 : t.data) == null ? void 0 : n.jsCode;
    e && kt({
      code: e,
      context: this.context || {},
      localState: void 0,
      rootState: this.builderContextSignal.rootState,
      rootSetState: (r) => {
        this.builderContextSignal.rootState = r;
      },
      isExpression: !1
    });
  },
  methods: {
    contentSetState(e) {
      this.builderContextSignal.rootState = e;
    }
  }
});
function Hu(e, t, n, r, o, i) {
  const s = W("InlinedScript"), u = W("ContentStyles"), c = W("Blocks"), h = W("EnableEditor");
  return v(), U(h, q({
    apiHost: e.apiHost,
    nonce: e.nonce,
    content: e.content,
    data: e.data,
    model: e.model,
    context: e.context,
    apiKey: e.apiKey,
    canTrack: e.canTrack,
    locale: e.locale,
    enrich: e.enrich,
    showContent: e.showContent,
    builderContextSignal: e.builderContextSignal,
    contentWrapper: e.contentWrapper,
    contentWrapperProps: e.contentWrapperProps,
    trustedHosts: e.trustedHosts,
    isNestedRender: e.isNestedRender
  }, {}), {
    default: me(() => {
      var y, b, m, S, A, x, H;
      return [
        e.isSsrAbTest ? (v(), U(s, {
          key: 0,
          id: "builderio-variant-visibility",
          scriptStr: e.scriptStr,
          nonce: e.nonce || ""
        }, null, 8, ["scriptStr", "nonce"])) : F("", !0),
        e.TARGET !== "reactNative" ? (v(), U(u, {
          key: 1,
          nonce: e.nonce || "",
          isNestedRender: e.isNestedRender,
          contentId: (y = e.builderContextSignal.content) == null ? void 0 : y.id,
          cssCode: (m = (b = e.builderContextSignal.content) == null ? void 0 : b.data) == null ? void 0 : m.cssCode,
          customFonts: (A = (S = e.builderContextSignal.content) == null ? void 0 : S.data) == null ? void 0 : A.customFonts
        }, null, 8, ["nonce", "isNestedRender", "contentId", "cssCode", "customFonts"])) : F("", !0),
        ee(c, {
          blocks: (H = (x = e.builderContextSignal.content) == null ? void 0 : x.data) == null ? void 0 : H.blocks,
          context: e.builderContextSignal,
          registeredComponents: e.registeredComponents,
          linkComponent: e.linkComponent
        }, null, 8, ["blocks", "context", "registeredComponents", "linkComponent"])
      ];
    }),
    _: 1
  }, 16, ["apiHost", "nonce", "content", "data", "model", "context", "apiKey", "canTrack", "locale", "enrich", "showContent", "builderContextSignal", "contentWrapper", "contentWrapperProps", "trustedHosts", "isNestedRender"]);
}
const Ku = /* @__PURE__ */ j(Mu, [["render", Hu]]), zu = B({
  name: "content-variants",
  components: {
    InlinedScript: Gn,
    InlinedStyles: Mt,
    ContentComponent: Ku
  },
  props: [
    "canTrack",
    "content",
    "isNestedRender",
    "nonce",
    "apiHost",
    "model",
    "data",
    "context",
    "apiKey",
    "apiVersion",
    "customComponents",
    "linkComponent",
    "locale",
    "enrich",
    "blocksWrapper",
    "blocksWrapperProps",
    "contentWrapper",
    "contentWrapperProps",
    "trustedHosts"
  ],
  data() {
    return {
      shouldRenderVariants: gu({
        canTrack: Xe(this.canTrack),
        content: this.content
      }),
      SDKS_SUPPORTING_PERSONALIZATION: Ao,
      getInitPersonalizationVariantsFnsScriptString: Na,
      TARGET: G,
      getInitVariantsFnsScriptString: bu,
      getVariants: Bt
    };
  },
  mounted() {
  },
  computed: {
    updateCookieAndStylesScriptStr() {
      var e;
      return Su(
        Bt(this.content).map((t) => ({
          id: t.testVariationId,
          testRatio: t.testRatio
        })),
        ((e = this.content) == null ? void 0 : e.id) || ""
      );
    },
    hideVariantsStyleString() {
      return Bt(this.content).map((e) => `.variant-${e.testVariationId} { display: none; } `).join("");
    },
    defaultContent() {
      var e;
      return this.shouldRenderVariants ? {
        ...this.content,
        testVariationId: (e = this.content) == null ? void 0 : e.id
      } : Ss({
        item: this.content,
        canTrack: Xe(this.canTrack)
      });
    }
  }
});
function qu(e, t, n, r, o, i) {
  const s = W("InlinedScript"), u = W("InlinedStyles"), c = W("ContentComponent");
  return v(), w(z, null, [
    !e.isNestedRender && e.TARGET !== "reactNative" ? (v(), w(z, { key: 0 }, [
      ee(s, {
        id: "builderio-init-variants-fns",
        scriptStr: e.getInitVariantsFnsScriptString(),
        nonce: e.nonce || ""
      }, null, 8, ["scriptStr", "nonce"]),
      e.SDKS_SUPPORTING_PERSONALIZATION.includes(e.TARGET) ? (v(), U(s, {
        key: 0,
        id: "builderio-init-personalization-variants-fns",
        nonce: e.nonce || "",
        scriptStr: e.getInitPersonalizationVariantsFnsScriptString()
      }, null, 8, ["nonce", "scriptStr"])) : F("", !0)
    ], 64)) : F("", !0),
    e.shouldRenderVariants ? (v(), w(z, { key: 1 }, [
      ee(u, {
        id: "builderio-variants",
        styles: e.hideVariantsStyleString,
        nonce: e.nonce || ""
      }, null, 8, ["styles", "nonce"]),
      ee(s, {
        id: "builderio-variants-visibility",
        scriptStr: e.updateCookieAndStylesScriptStr,
        nonce: e.nonce || ""
      }, null, 8, ["scriptStr", "nonce"]),
      (v(!0), w(z, null, ve(e.getVariants(e.content), (h, y) => (v(), U(c, q({
        key: h.testVariationId,
        apiHost: e.apiHost,
        isNestedRender: e.isNestedRender,
        nonce: e.nonce,
        content: h,
        showContent: !1,
        model: e.model,
        data: e.data,
        context: e.context,
        apiKey: e.apiKey,
        apiVersion: e.apiVersion,
        customComponents: e.customComponents,
        linkComponent: e.linkComponent,
        canTrack: e.canTrack,
        locale: e.locale,
        enrich: e.enrich,
        isSsrAbTest: e.shouldRenderVariants,
        blocksWrapper: e.blocksWrapper,
        blocksWrapperProps: e.blocksWrapperProps,
        contentWrapper: e.contentWrapper,
        contentWrapperProps: e.contentWrapperProps,
        trustedHosts: e.trustedHosts
      }, {}), null, 16, ["apiHost", "isNestedRender", "nonce", "content", "model", "data", "context", "apiKey", "apiVersion", "customComponents", "linkComponent", "canTrack", "locale", "enrich", "isSsrAbTest", "blocksWrapper", "blocksWrapperProps", "contentWrapper", "contentWrapperProps", "trustedHosts"]))), 128))
    ], 64)) : F("", !0),
    ee(c, q({
      apiHost: e.apiHost,
      nonce: e.nonce,
      isNestedRender: e.isNestedRender,
      content: e.defaultContent,
      showContent: !0,
      model: e.model,
      data: e.data,
      context: e.context,
      apiKey: e.apiKey,
      apiVersion: e.apiVersion,
      customComponents: e.customComponents,
      linkComponent: e.linkComponent,
      canTrack: e.canTrack,
      locale: e.locale,
      enrich: e.enrich,
      isSsrAbTest: e.shouldRenderVariants,
      blocksWrapper: e.blocksWrapper,
      blocksWrapperProps: e.blocksWrapperProps,
      contentWrapper: e.contentWrapper,
      contentWrapperProps: e.contentWrapperProps,
      trustedHosts: e.trustedHosts
    }, {
      key: e.shouldRenderVariants.toString()
    }), null, 16, ["apiHost", "nonce", "isNestedRender", "content", "model", "data", "context", "apiKey", "apiVersion", "customComponents", "linkComponent", "canTrack", "locale", "enrich", "isSsrAbTest", "blocksWrapper", "blocksWrapperProps", "contentWrapper", "contentWrapperProps", "trustedHosts"])
  ], 64);
}
const Gu = /* @__PURE__ */ j(zu, [["render", qu]]), _u = async ({
  builderContextValue: e,
  symbol: t
}) => {
  if (t != null && t.model && // This is a hack, we should not need to check for this, but it is needed for Svelte.
  (e != null && e.apiKey))
    return Kn({
      model: t.model,
      apiKey: e.apiKey,
      apiVersion: e.apiVersion,
      ...(t == null ? void 0 : t.entry) && {
        query: {
          id: t.entry
        }
      }
    }).catch((n) => {
      ue.error("Could not fetch symbol content: ", n);
    });
}, Ju = B({
  name: "builder-symbol",
  components: { ContentVariants: Gu, DynamicDiv: Ct },
  props: [
    "symbol",
    "builderComponents",
    "attributes",
    "dynamic",
    "builderContext",
    "builderBlock",
    "builderLinkComponent"
  ],
  data() {
    var e, t;
    return {
      contentToUse: (e = this.symbol) == null ? void 0 : e.content,
      symbolEntry: (t = this.symbol) == null ? void 0 : t.entry,
      filterAttrs: de
    };
  },
  mounted() {
    this.setContent();
  },
  watch: {
    onUpdateHook0: {
      handler() {
        this.setContent();
      },
      immediate: !0
    }
  },
  computed: {
    blocksWrapper() {
      return "div";
    },
    contentWrapper() {
      return "div";
    },
    customComponents() {
      return Object.values(this.builderComponents);
    },
    className() {
      var e, t;
      return [
        this.attributes[Oe()],
        "builder-symbol",
        (e = this.symbol) != null && e.inline ? "builder-inline-symbol" : void 0,
        (t = this.symbol) != null && t.dynamic || this.dynamic ? "builder-dynamic-symbol" : void 0
      ].filter(Boolean).join(" ");
    },
    onUpdateHook0() {
      return {
        0: this.symbol
      };
    }
  },
  methods: {
    setContent() {
      var e;
      this.contentToUse && this.symbolEntry === ((e = this.symbol) == null ? void 0 : e.entry) || _u({
        symbol: this.symbol,
        builderContextValue: this.builderContext
      }).then((t) => {
        var n;
        t && (this.contentToUse = t, this.symbolEntry = (n = this.symbol) == null ? void 0 : n.entry);
      });
    }
  }
});
function Xu(e, t, n, r, o, i) {
  var u, c, h, y, b;
  const s = W("ContentVariants");
  return v(), w("div", q({ class: e.className }, { ...e.filterAttrs(e.attributes, "v-on:", !1) }, ye(e.filterAttrs(e.attributes, "v-on:", !0), !0)), [
    ee(s, {
      nonce: e.builderContext.nonce,
      isNestedRender: !0,
      apiVersion: e.builderContext.apiVersion,
      apiKey: e.builderContext.apiKey,
      context: {
        ...e.builderContext.context,
        symbolId: (u = e.builderBlock) == null ? void 0 : u.id
      },
      customComponents: e.customComponents,
      data: {
        ...(c = e.symbol) == null ? void 0 : c.data,
        ...e.builderContext.localState,
        ...(y = (h = e.contentToUse) == null ? void 0 : h.data) == null ? void 0 : y.state
      },
      canTrack: e.builderContext.canTrack,
      model: ((b = e.symbol) == null ? void 0 : b.model) ?? "",
      content: e.contentToUse,
      linkComponent: e.builderLinkComponent,
      blocksWrapper: e.blocksWrapper,
      contentWrapper: e.contentWrapper
    }, null, 8, ["nonce", "apiVersion", "apiKey", "context", "customComponents", "data", "canTrack", "model", "content", "linkComponent", "blocksWrapper", "contentWrapper"])
  ], 16);
}
const Yu = /* @__PURE__ */ j(Ju, [["render", Xu]]);
export {
  oc as A,
  To as B,
  pa as C,
  sc as D,
  Ps as E,
  ha as F,
  Os as G,
  Kn as H,
  Ca as I,
  Zu as J,
  uc as K,
  Ea as S,
  G as T,
  du as V,
  j as _,
  Oe as a,
  yn as b,
  Mt as c,
  Be as d,
  kt as e,
  aa as f,
  lc as g,
  ac as h,
  oe as i,
  cc as j,
  zn as k,
  _i as l,
  oi as m,
  Yu as n,
  fl as o,
  Ue as p,
  Gu as q,
  Wn as r,
  ic as s,
  Ji as t,
  ec as u,
  tc as v,
  Fu as w,
  nc as x,
  no as y,
  rc as z
};
